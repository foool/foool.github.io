<html>
<head>

<style>
p {
    color : black; font-family:courier; font-size: 80%;
}
body {
    line-height: 120%; font-family:courier; font-zize:60%;
}
.tlc_func {color : blue; font-weight: bold; font-size:120%;}
.tlc_comment {color : #9aa;}
.tlc_if {color: green;}.tlc_assign {color: green;}.tlc_each {color: green;}.tlc_foreach {color: green;}.tlc_endif {color: green;}.tlc_switch {color: green;}.tlc_case {color: green;}.tlc_return {color: green;}.tlc_elseif {color: green;}.tlc_else {color: green;}.tlc_assert {color: green;}.tlc_endwith {color: green;}.tlc_endforeach {color: green;}.tlc_generatefile {color: green;}.tlc_includepath {color: green;}.tlc_include {color: green;}.tlc_sprintf {color: green;}.tlc_while {color: green;}.tlc_endwhile {color: green;}.tlc_default {color: green;}.tlc_createrecord {color: green;}.tlc_mergerecord {color: green;}.tlc_language {color: green;}.tlc_roll {color: green;}.tlc_endroll {color: green;}.tlc_with {color: green;}.tlc_selectfile {color: green;}.tlc_openfile {color: green;}.tlc_closefile {color: green;}.tlc_def {color: green;}.tlc_undef {color: green;}.tlc_realformat {color: green;}.tlc_endswitch {color: green;}.tlc_addtorecord {color: green;}.tlc_break {color: green;}
.tlc_bifunc {color: brown;}
.tlc_fkw {color:blue; font-weight: 800;}
.tlc_output {color:#FFF; font-style:italic;}
.tlc_mchar {color:purple;}
</style>

</head>
<body>
<span class="tlc_comment">%%<span style="padding-left:9.5px"></span>==============================================================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Support<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>implementing<span style="padding-left:9.5px"></span>Asynchronous<span style="padding-left:9.5px"></span>source<span style="padding-left:9.5px"></span>blocks<span style="padding-left:9.5px"></span>(Interrupt,<span style="padding-left:9.5px"></span>Task,
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Alarm,<span style="padding-left:9.5px"></span>etc).
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Copyright<span style="padding-left:9.5px"></span>2003-2016<span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>MathWorks,<span style="padding-left:9.5px"></span>Inc.
</span> <br><span class="tlc_comment">%%
</span> <br>&nbsp; <br><span class="tlc_if">%if</span> <span class="tlc_bifunc">EXISTS</span>("_ASYNCLIB_") == 0
 <br><span class="tlc_assign">%assign</span> _ASYNCLIB_ = 1
 <br><span class="tlc_selectfile">%selectfile</span> NULL_FILE
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>=============================================================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Public<span style="padding-left:9.5px"></span>functions
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>=============================================================================
</span> <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>DocFunction{Other<span style="padding-left:9.5px"></span>Useful<span style="padding-left:9.5px"></span>Functions}:<span style="padding-left:9.5px"></span>LibGetBlockAttribute<span style="padding-left:9.5px"></span>===================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Get<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>field<span style="padding-left:9.5px"></span>value<span style="padding-left:9.5px"></span>inside<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>Block<span style="padding-left:9.5px"></span>record.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Call<span style="padding-left:9.5px"></span>syntax:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>%if<span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/obsoletelib.html#LibIsEqual">LibIsEqual</a>(<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibGetBlockAttribute">LibGetBlockAttribute</a>(ssBlock,"MaskType"),<span style="padding-left:9.5px"></span>"Task<span style="padding-left:9.5px"></span>Block")
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>%assign<span style="padding-left:9.5px"></span>isTaskBlock<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>1
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>%endif
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Returns:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Returns<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>value<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>attribute(field)<span style="padding-left:9.5px"></span>or<span style="padding-left:9.5px"></span>empty<span style="padding-left:9.5px"></span>string<span style="padding-left:9.5px"></span>if<span style="padding-left:9.5px"></span>it<span style="padding-left:9.5px"></span>doesn't<span style="padding-left:9.5px"></span>exist.
</span> <br><span class="tlc_fkw">%function</span> <a id="LibGetBlockAttribute" class="tlc_func">LibGetBlockAttribute</a>(block,attr) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(block,attr)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> block.%<<span>attr</span>>
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> ""
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>DocFunction{Other<span style="padding-left:9.5px"></span>Useful<span style="padding-left:9.5px"></span>Functions}:<span style="padding-left:9.5px"></span>LibGetFcnCallBlock<span style="padding-left:9.5px"></span>=====================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Given<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>s-function<span style="padding-left:9.5px"></span>block<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>index<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>'SFcnSystemOutputCall'<span style="padding-left:9.5px"></span>record,<span style="padding-left:9.5px"></span>return
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>block<span style="padding-left:9.5px"></span>record<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>downstream<span style="padding-left:9.5px"></span>function-call<span style="padding-left:9.5px"></span>subsystem<span style="padding-left:9.5px"></span>block.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Call<span style="padding-left:9.5px"></span>syntax:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>%assign<span style="padding-left:9.5px"></span>ssBlock<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibGetFcnCallBlock">LibGetFcnCallBlock</a>(block,0)
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Returns:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Returns<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>block<span style="padding-left:9.5px"></span>record<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>downstream<span style="padding-left:9.5px"></span>f-c<span style="padding-left:9.5px"></span>subsystem<span style="padding-left:9.5px"></span>connected<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>that
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>element<span style="padding-left:9.5px"></span>(call<span style="padding-left:9.5px"></span>index).
</span> <br><span class="tlc_comment">%%
</span> <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="LibGetFcnCallBlock" class="tlc_func">LibGetFcnCallBlock</a>(sfcnblock, recIdx) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_with">%with</span> sfcnblock
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/obsoletelib.html#LibIsEqual">LibIsEqual</a>(SFcnSystemOutputCall[recIdx].BlockToCall, "unconnected")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> <span class="tlc_bifunc">ISFIELD</span>(sfcnblock,"SFcnSystemOutputCall") &amp;&amp; (<span class="tlc_bifunc">SIZE</span>(SFcnSystemOutputCall,1) > recIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ssSysIdx = SFcnSystemOutputCall[recIdx].BlockToCall[0]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ssBlkIdx = SFcnSystemOutputCall[recIdx].BlockToCall[1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> ::CompiledModel.System[ssSysIdx].Block[ssBlkIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::ShowErrorStackTrace = TLC_TRUE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibReportErrorWithIdAndArgs">SLibReportErrorWithIdAndArgs</a>("RTW:tlc:InvalidArg", "LibGetFcnCallBLock")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#FcnGetAsyncTidFromSfcnBlk">FcnGetAsyncTidFromSfcnBlk</a>(blk,<span style="padding-left:9.5px"></span>el)<span style="padding-left:9.5px"></span>============================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Each<span style="padding-left:9.5px"></span>element<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>asynchronous<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>call<span style="padding-left:9.5px"></span>signal
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>introduce<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>unique<span style="padding-left:9.5px"></span>async<span style="padding-left:9.5px"></span>sample<span style="padding-left:9.5px"></span>time<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>model.<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>returns<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>TID<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>sample<span style="padding-left:9.5px"></span>time<span style="padding-left:9.5px"></span>introduced<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>sfcn<span style="padding-left:9.5px"></span>block
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="FcnGetAsyncTidFromSfcnBlk" class="tlc_func">FcnGetAsyncTidFromSfcnBlk</a>(blk, el)
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibGetNumAsyncTasks">LibGetNumAsyncTasks</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tid = idx + NumRuntimeExportedRates
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(SampleTime[tid], "AsyncSfcnBlkIdx")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> asyncSfcnBlkIdx = SampleTime[tid].AsyncSfcnBlkIdx
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> thisBlkIdx =  blk.BlockIdx
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> SampleTime[tid].AsyncSfcnBlkElm == el &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asyncSfcnBlkIdx[0] == thisBlkIdx[0] &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asyncSfcnBlkIdx[1] == thisBlkIdx[2] 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_assert">%assert</span> tid < NumSampleTimes
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> tid 
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#SLibDumpOutputUpdateCodeForAsyncTid">SLibDumpOutputUpdateCodeForAsyncTid</a>(tidVal)<span style="padding-left:9.5px"></span>============================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>dumps<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>output<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>update<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>rate<span style="padding-left:9.5px"></span>grouped<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>give<span style="padding-left:9.5px"></span>async<span style="padding-left:9.5px"></span>tid<span style="padding-left:9.5px"></span>at<span style="padding-left:9.5px"></span>root<span style="padding-left:9.5px"></span>level.<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibDumpOutputUpdateCodeForAsyncTid" class="tlc_func">SLibDumpOutputUpdateCodeForAsyncTid</a>(tidVal)
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#SLibDumpOutputUpdateCodeForAsyncTidInSS">SLibDumpOutputUpdateCodeForAsyncTidInSS</a>(<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#GetBaseSystemIdx">GetBaseSystemIdx</a>(),tidVal)
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#SLibDumpOutputUpdateCodeForAsyncTid">SLibDumpOutputUpdateCodeForAsyncTid</a>(ssIdx,<span style="padding-left:9.5px"></span>tidVal)<span style="padding-left:9.5px"></span>============================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>dumps<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>output<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>update<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>rate<span style="padding-left:9.5px"></span>grouped<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>a
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>give<span style="padding-left:9.5px"></span>async<span style="padding-left:9.5px"></span>tid<span style="padding-left:9.5px"></span>at<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>given<span style="padding-left:9.5px"></span>subsystem<span style="padding-left:9.5px"></span>level.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibDumpOutputUpdateCodeForAsyncTidInSS" class="tlc_func">SLibDumpOutputUpdateCodeForAsyncTidInSS</a>(ssIdx, tidVal)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> baseSystem = ::CompiledModel.System[ssIdx]
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> retBuf
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> prevRSCurrTid = baseSystem.CurrentTID
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> baseSystem.CurrentTID = tidVal
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/partitiongroupinglib.html#SLibPartitionGroupingSystem">SLibPartitionGroupingSystem</a>(baseSystem)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> prevRSCurrPid = baseSystem.CurrentPID
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> pidVec = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/partitiongroupinglib.html#SLibGetPidFromTid">SLibGetPidFromTid</a>(tidVal)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> baseSystem.CurrentPID = pidVec[0]
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> outputFcnLocalVars 
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> MultiInstanceERTCode &amp;&amp; !GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertlib.html#SLibDumpLocalVariablesForBlockFcn">SLibDumpLocalVariablesForBlockFcn</a>(baseSystem, "OutputUpdate")>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibGetSystemLocalVars">LibGetSystemLocalVars</a>(baseSystem, "Output", tidVal)>
 <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibGetSystemLocalVars">LibGetSystemLocalVars</a>(baseSystem, "OutputUpdate", tidVal)>
 <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#SLibGetFcnLocalVars">SLibGetFcnLocalVars</a>(baseSystem, "Output", tidVal)>
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> outputFcnLocalVars
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> updateFcnLocalVars = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#SLibGetFcnLocalVars">SLibGetFcnLocalVars</a>(baseSystem, "Update", tidVal)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> needSeperateScope = !<span class="tlc_bifunc">WHITE_SPACE</span>(outputFcnLocalVars) &amp;&amp; !<span class="tlc_bifunc">WHITE_SPACE</span>(updateFcnLocalVars)
 <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/syslib.html#SLibDumpLocalTidInSystem">SLibDumpLocalTidInSystem</a>(baseSystem, "OutputUpdate")>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> needSeperateScope
 <br>&nbsp;&nbsp;&nbsp;{
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>outputFcnLocalVars</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/hookslib.html#LibDumpSystemUserCode">LibDumpSystemUserCode</a>(baseSystem,"Output","Header")>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/hookslib.html#LibDumpSystemUserCode">LibDumpSystemUserCode</a>(baseSystem,"Output","Body")>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/partitiongroupinglib.html#SLibPartitionGroupingSystem">SLibPartitionGroupingSystem</a>(baseSystem)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibDumpSystemFcn">LibDumpSystemFcn</a>(baseSystem,"Output%<<span>tidVal</span>>%<<span>baseSystem.CurrentPID</span>>")>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibDumpSystemFcn">LibDumpSystemFcn</a>(baseSystem,"Output%<<span>tidVal</span>>")>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/hookslib.html#LibDumpSystemUserCode">LibDumpSystemUserCode</a>(baseSystem,"Output","Trailer")>/
 <br>&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;{
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>updateFcnLocalVars</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/hookslib.html#LibDumpSystemUserCode">LibDumpSystemUserCode</a>(baseSystem,"Update","Header")>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/hookslib.html#LibDumpSystemUserCode">LibDumpSystemUserCode</a>(baseSystem,"Update","Body")>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/partitiongroupinglib.html#SLibPartitionGroupingSystem">SLibPartitionGroupingSystem</a>(baseSystem)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibDumpSystemFcn">LibDumpSystemFcn</a>(baseSystem,"Update%<<span>tidVal</span>>%<<span>baseSystem.CurrentPID</span>>")>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibDumpSystemFcn">LibDumpSystemFcn</a>(baseSystem,"Update%<<span>tidVal</span>>")>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/hookslib.html#LibDumpSystemUserCode">LibDumpSystemUserCode</a>(baseSystem,"Update","Trailer")>/
 <br>&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>outputFcnLocalVars</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>updateFcnLocalVars</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/hookslib.html#LibDumpSystemUserCode">LibDumpSystemUserCode</a>(baseSystem,"Output","Header")>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/hookslib.html#LibDumpSystemUserCode">LibDumpSystemUserCode</a>(baseSystem,"Output","Body")>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/partitiongroupinglib.html#SLibPartitionGroupingSystem">SLibPartitionGroupingSystem</a>(baseSystem)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibDumpSystemFcn">LibDumpSystemFcn</a>(baseSystem,"Output%<<span>tidVal</span>>%<<span>baseSystem.CurrentPID</span>>")>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibDumpSystemFcn">LibDumpSystemFcn</a>(baseSystem,"Output%<<span>tidVal</span>>")>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/hookslib.html#LibDumpSystemUserCode">LibDumpSystemUserCode</a>(baseSystem,"Output","Trailer")>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/hookslib.html#LibDumpSystemUserCode">LibDumpSystemUserCode</a>(baseSystem,"Update","Header")>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/hookslib.html#LibDumpSystemUserCode">LibDumpSystemUserCode</a>(baseSystem,"Update","Body")>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/partitiongroupinglib.html#SLibPartitionGroupingSystem">SLibPartitionGroupingSystem</a>(baseSystem)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibDumpSystemFcn">LibDumpSystemFcn</a>(baseSystem,"Update%<<span>tidVal</span>>%<<span>baseSystem.CurrentPID</span>>")>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibDumpSystemFcn">LibDumpSystemFcn</a>(baseSystem,"Update%<<span>tidVal</span>>")>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/hookslib.html#LibDumpSystemUserCode">LibDumpSystemUserCode</a>(baseSystem,"Update","Trailer")>/
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">EXISTS</span>(buffsRec.ExtModeTrailer%<<span>tidVal</span>>) &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;!<span class="tlc_bifunc">WHITE_SPACE</span>(buffsRec.ExtModeTrailer%<<span>tidVal</span>>)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;/* external mode */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmpBuff = buffsRec.ExtModeTrailer%<<span>tidVal</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpBuff</span>>/
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> baseSystem.CurrentTID = prevRSCurrTid
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/partitiongroupinglib.html#SLibPartitionGroupingSystem">SLibPartitionGroupingSystem</a>(baseSystem)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> baseSystem.CurrentPID = prevRSCurrPid
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> retBuf
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISFIELD</span>(SampleTime[tidVal], "DumpedAsyncOutputCode")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_addtorecord">%addtorecord</span> SampleTime[tidVal] DumpedAsyncOutputCode TLC_TRUE
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> retBuf
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#SLibGetAsyncSysTid">SLibGetAsyncSysTid</a>(ssBlock,<span style="padding-left:9.5px"></span>recIdx)<span style="padding-left:9.5px"></span>============================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>When<span style="padding-left:9.5px"></span>an<span style="padding-left:9.5px"></span>async<span style="padding-left:9.5px"></span>subsystem<span style="padding-left:9.5px"></span>has<span style="padding-left:9.5px"></span>nested<span style="padding-left:9.5px"></span>async<span style="padding-left:9.5px"></span>subsystem,<span style="padding-left:9.5px"></span>SubsystemTID
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>this<span style="padding-left:9.5px"></span>async<span style="padding-left:9.5px"></span>subsystem<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>vector<span style="padding-left:9.5px"></span>instead<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>scalar.<span style="padding-left:9.5px"></span>Nested<span style="padding-left:9.5px"></span>async<span style="padding-left:9.5px"></span>subsystem
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>tid<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>included<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>SubsystemTID.<span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>returns<span style="padding-left:9.5px"></span>AsyncShellTID
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>this<span style="padding-left:9.5px"></span>case.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibGetAsyncSysTid" class="tlc_func">SLibGetAsyncSysTid</a>(ssBlock, recIdx)
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> ssBlock.Type == "SubSystem"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ssTid = ssBlock.TaskToFirstTID
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> ssTid[0]
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span> ssBlock.Type == "ModelReference"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> ssBlock.InputPortTIDs[SFcnSystemOutputCall[recIdx].FcnPortIdx]
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>DocFunction{Other<span style="padding-left:9.5px"></span>Useful<span style="padding-left:9.5px"></span>Functions}:<span style="padding-left:9.5px"></span>LibSetAsyncCounter<span style="padding-left:9.5px"></span>=====================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>For<span style="padding-left:9.5px"></span>use<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>Async<span style="padding-left:9.5px"></span>S-Functions<span style="padding-left:9.5px"></span>with<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>call<span style="padding-left:9.5px"></span>outputs.<span style="padding-left:9.5px"></span>Asynchronous<span style="padding-left:9.5px"></span>tasks
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>can<span style="padding-left:9.5px"></span>manage<span style="padding-left:9.5px"></span>their<span style="padding-left:9.5px"></span>own<span style="padding-left:9.5px"></span>time.<span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>return<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>that<span style="padding-left:9.5px"></span>sets
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>counter<span style="padding-left:9.5px"></span>variable<span style="padding-left:9.5px"></span>that<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>be<span style="padding-left:9.5px"></span>maintained<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>asynchronous<span style="padding-left:9.5px"></span>task.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Example:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>%if<span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibNeedAsyncCounter">LibNeedAsyncCounter</a>(block,0)
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibSetAsyncCounter">LibSetAsyncCounter</a>(block,0,<span style="padding-left:9.5px"></span>"tickGet()")>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>%endif
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="LibSetAsyncCounter" class="tlc_func">LibSetAsyncCounter</a>(sfcnBlock,callIdx,buf) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> recIdx  = sfcnBlock.SFcnSystemOutputCallMappingInfo[callIdx].StartingIdx
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ssBlock = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibGetFcnCallBlock">LibGetFcnCallBlock</a>(sfcnBlock, recIdx)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ssTid   = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#SLibGetAsyncSysTid">SLibGetAsyncSysTid</a>(ssBlock, recIdx)
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> "%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibGetClockTick">LibGetClockTick</a>(ssTid)> = %<<span>buf</span>>;"
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>DocFunction{Other<span style="padding-left:9.5px"></span>Useful<span style="padding-left:9.5px"></span>Functions}:<span style="padding-left:9.5px"></span>LibSetAsyncCounterHigh<span style="padding-left:9.5px"></span>===============
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>For<span style="padding-left:9.5px"></span>use<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>Async<span style="padding-left:9.5px"></span>S-Functions<span style="padding-left:9.5px"></span>with<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>call<span style="padding-left:9.5px"></span>outputs.<span style="padding-left:9.5px"></span>Asynchronous<span style="padding-left:9.5px"></span>tasks
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>can<span style="padding-left:9.5px"></span>manage<span style="padding-left:9.5px"></span>their<span style="padding-left:9.5px"></span>own<span style="padding-left:9.5px"></span>time.<span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>return<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>that<span style="padding-left:9.5px"></span>sets<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>higher<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>word<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>counter<span style="padding-left:9.5px"></span>variable<span style="padding-left:9.5px"></span>that<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>be<span style="padding-left:9.5px"></span>maintained<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>asynchronous<span style="padding-left:9.5px"></span>task.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Example:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>%if<span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibNeedAsyncCounter">LibNeedAsyncCounter</a>(block,0)
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibSetAsyncCounterHigh">LibSetAsyncCounterHigh</a>(block,0,<span style="padding-left:9.5px"></span>"hightTickGet()")>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>%endif
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="LibSetAsyncCounterHigh" class="tlc_func">LibSetAsyncCounterHigh</a>(sfcnBlock,callIdx,buf) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> recIdx  = sfcnBlock.SFcnSystemOutputCallMappingInfo[callIdx].StartingIdx
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ssBlock = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibGetFcnCallBlock">LibGetFcnCallBlock</a>(sfcnBlock, recIdx)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ssTid   = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#SLibGetAsyncSysTid">SLibGetAsyncSysTid</a>(ssBlock, recIdx)
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sutillib.html#SLibClockTickIsUnit32Pair">SLibClockTickIsUnit32Pair</a>(ssTid)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> "%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibGetClockTickHigh">LibGetClockTickHigh</a>(ssTid)> = %<<span>buf</span>>;"
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> ""
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>SLibUpdateFloatTimeForAsyncTask<span style="padding-left:9.5px"></span>================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibUpdateFloatTimeForAsyncTask" class="tlc_func">SLibUpdateFloatTimeForAsyncTask</a>(tid)
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Update float absolute time for async task</span>
 <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> tmpBuf
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sutillib.html#SLibClockTickIsUnit32Pair">SLibClockTickIsUnit32Pair</a>(tid)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ct  = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/rtmdllib_obs.html#RTMDispatchToAccessFcn">RTMDispatchToAccessFcn</a>("ClockTick%<<span>tid</span>>", "get", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"", "", ::tSimStruct)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> cth  = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/rtmdllib_obs.html#RTMDispatchToAccessFcn">RTMDispatchToAccessFcn</a>("ClockTickH%<<span>tid</span>>", "get", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"", "", ::tSimStruct)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ss = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/rtmdllib_obs.html#RTMDispatchToAccessFcn">RTMDispatchToAccessFcn</a>("StepSize%<<span>tid</span>>", "get", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"", "", ::tSimStruct)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tt = "%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibGetTaskTime">LibGetTaskTime</a>(tid)>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> PurelyIntegerCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Extmode mode require floating point absolute time, in this </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% case, PurelyIntegerCode need provide floating point time. </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tt</span>> = %<<span>ct</span>> + %<<span>cth</span>> * 4294967296.0;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tt</span>> = %<<span>ct</span>> * %<<span>ss</span>> + %<<span>cth</span>> * %<<span>ss</span>> * 4294967296.0;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ct  = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/rtmdllib_obs.html#RTMDispatchToAccessFcn">RTMDispatchToAccessFcn</a>("ClockTick%<<span>tid</span>>", "get", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"", "", ::tSimStruct)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ss = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/rtmdllib_obs.html#RTMDispatchToAccessFcn">RTMDispatchToAccessFcn</a>("StepSize%<<span>tid</span>>", "get", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"", "", ::tSimStruct)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tt = "%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibGetTaskTime">LibGetTaskTime</a>(tid)>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> PurelyIntegerCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tt</span>> = (%<<span>ct</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tt</span>> = (%<<span>ct</span>>) * %<<span>ss</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> tmpBuf
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> tmpBuf
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>DocFunction{Other<span style="padding-left:9.5px"></span>Useful<span style="padding-left:9.5px"></span>Functions}:<span style="padding-left:9.5px"></span>LibSetAsyncClockTicks<span style="padding-left:9.5px"></span>=====================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>For<span style="padding-left:9.5px"></span>use<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>Async<span style="padding-left:9.5px"></span>S-Functions<span style="padding-left:9.5px"></span>with<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>call<span style="padding-left:9.5px"></span>outputs.<span style="padding-left:9.5px"></span>Asynchronous<span style="padding-left:9.5px"></span>tasks
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>can<span style="padding-left:9.5px"></span>manage<span style="padding-left:9.5px"></span>their<span style="padding-left:9.5px"></span>own<span style="padding-left:9.5px"></span>time.<span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>return<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>that<span style="padding-left:9.5px"></span>sets<span style="padding-left:9.5px"></span>clockTick<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>counter(s)<span style="padding-left:9.5px"></span>that<span style="padding-left:9.5px"></span>is(are)<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>be<span style="padding-left:9.5px"></span>maintaine<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>asynchronous<span style="padding-left:9.5px"></span>task.<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>If<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>data<span style="padding-left:9.5px"></span>type<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>clockTick<span style="padding-left:9.5px"></span>counter(s)<span style="padding-left:9.5px"></span>maintained<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>asynchronous<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>task<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>tSS_TIMER_UINT32_PAIR,<span style="padding-left:9.5px"></span>ther<span style="padding-left:9.5px"></span>low<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>high<span style="padding-left:9.5px"></span>word<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>clockTick<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>counters<span style="padding-left:9.5px"></span>are<span style="padding-left:9.5px"></span>set.<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Example:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>%if<span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibNeedAsyncCounter">LibNeedAsyncCounter</a>(block,callIdx)
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibSetAsyncCounter">LibSetAsyncCounter</a>(block,0),<span style="padding-left:9.5px"></span>buf1,<span style="padding-left:9.5px"></span>buf2)>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>%endif
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>buf1:<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>reading<span style="padding-left:9.5px"></span>low<span style="padding-left:9.5px"></span>word<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>hardware<span style="padding-left:9.5px"></span>counter
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>buf2:<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>reading<span style="padding-left:9.5px"></span>high<span style="padding-left:9.5px"></span>word<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>hardware<span style="padding-left:9.5px"></span>counter.<span style="padding-left:9.5px"></span>Leave<span style="padding-left:9.5px"></span>it<span style="padding-left:9.5px"></span>empty<span style="padding-left:9.5px"></span>if
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>hardware<span style="padding-left:9.5px"></span>counter<span style="padding-left:9.5px"></span>length<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>less<span style="padding-left:9.5px"></span>than<span style="padding-left:9.5px"></span>32<span style="padding-left:9.5px"></span>bits.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>When<span style="padding-left:9.5px"></span>buf2<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>empty<span style="padding-left:9.5px"></span>but<span style="padding-left:9.5px"></span>this<span style="padding-left:9.5px"></span>asynchronous<span style="padding-left:9.5px"></span>task<span style="padding-left:9.5px"></span>needs<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>64-bit<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>time,<span style="padding-left:9.5px"></span>high<span style="padding-left:9.5px"></span>32-bit<span style="padding-left:9.5px"></span>value<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>64-bit<span style="padding-left:9.5px"></span>timer<span style="padding-left:9.5px"></span>increments<span style="padding-left:9.5px"></span>whenever<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>low<span style="padding-left:9.5px"></span>32-bit<span style="padding-left:9.5px"></span>word<span style="padding-left:9.5px"></span>overflow.<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Lower<span style="padding-left:9.5px"></span>32-bits<span style="padding-left:9.5px"></span>timer<span style="padding-left:9.5px"></span>must<span style="padding-left:9.5px"></span>never<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>counter<span style="padding-left:9.5px"></span>around<span style="padding-left:9.5px"></span>pass<span style="padding-left:9.5px"></span>it's<span style="padding-left:9.5px"></span>previous<span style="padding-left:9.5px"></span>value<span style="padding-left:9.5px"></span>when<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>asynchronous
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>task<span style="padding-left:9.5px"></span>runs.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_fkw">%function</span> <a id="LibSetAsyncClockTicks" class="tlc_func">LibSetAsyncClockTicks</a>(sfcnBlock, callIdx, buf1, buf2) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> recIdx  = sfcnBlock.SFcnSystemOutputCallMappingInfo[callIdx].StartingIdx
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ssBlock = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibGetFcnCallBlock">LibGetFcnCallBlock</a>(sfcnBlock, recIdx)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ssTid   = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#SLibGetAsyncSysTid">SLibGetAsyncSysTid</a>(ssBlock, recIdx)
 <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> tmpBuf
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sutillib.html#SLibClockTickIsUnit32Pair">SLibClockTickIsUnit32Pair</a>(ssTid)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">WHITE_SPACE</span>(buf2)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> warnTxt = "Asynchronous task associated with "...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"sfunction %<<span>sfcnBlock.Name</span>> requires 64-bits hardware timer."...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"If target doesn't provide method to access the higher 32-bits "...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"of the hardware timer, higher 32-bits timer is calculated using " ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"lower 32-bits. Lower 32-bits timer must never counter around pass "...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"it's previous value"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibBlockReportWarning">LibBlockReportWarning</a>(sfcnBlock,warnTxt)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibGetClockTick">LibGetClockTick</a>(ssTid)> > %<<span>buf1</span>>) {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibGetClockTickHigh">LibGetClockTickHigh</a>(ssTid)>++;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibSetAsyncCounterHigh">LibSetAsyncCounterHigh</a>(sfcnBlock, callIdx, buf2)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibSetAsyncCounter">LibSetAsyncCounter</a>(sfcnBlock, callIdx, buf1)>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%% Update float absolute time for async task</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> SampleTime[ssTid].NeedFloatTime == "yes"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#SLibUpdateFloatTimeForAsyncTask">SLibUpdateFloatTimeForAsyncTask</a>(ssTid)>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> tmpBuf
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> tmpBuf
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>DocFunction{Other<span style="padding-left:9.5px"></span>Useful<span style="padding-left:9.5px"></span>Functions}:<span style="padding-left:9.5px"></span>LibNeedAsyncCounter<span style="padding-left:9.5px"></span>====================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>For<span style="padding-left:9.5px"></span>use<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>Async<span style="padding-left:9.5px"></span>S-Functions<span style="padding-left:9.5px"></span>with<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>call<span style="padding-left:9.5px"></span>outputs.<span style="padding-left:9.5px"></span>Asynchronous<span style="padding-left:9.5px"></span>tasks
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>can<span style="padding-left:9.5px"></span>manage<span style="padding-left:9.5px"></span>their<span style="padding-left:9.5px"></span>own<span style="padding-left:9.5px"></span>time<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>uses<span style="padding-left:9.5px"></span>this<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>determine<span style="padding-left:9.5px"></span>if<span style="padding-left:9.5px"></span>there<span style="padding-left:9.5px"></span>is
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>need<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>do.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Example:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>%if<span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibNeedAsyncCounter">LibNeedAsyncCounter</a>(block,0)
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibSetAsyncCounter">LibSetAsyncCounter</a>(block,0),<span style="padding-left:9.5px"></span>CodeBufGetCounter)>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>where<span style="padding-left:9.5px"></span>CoddeGetCounter<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>reading<span style="padding-left:9.5px"></span>absolute<span style="padding-left:9.5px"></span>time<span style="padding-left:9.5px"></span>from<span style="padding-left:9.5px"></span>model<span style="padding-left:9.5px"></span>base<span style="padding-left:9.5px"></span>rate,<span style="padding-left:9.5px"></span>or<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>caller<span style="padding-left:9.5px"></span>timer,<span style="padding-left:9.5px"></span>or<span style="padding-left:9.5px"></span>hardware<span style="padding-left:9.5px"></span>timer,<span style="padding-left:9.5px"></span>depends<span style="padding-left:9.5px"></span>on<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>absolute<span style="padding-left:9.5px"></span>time<span style="padding-left:9.5px"></span>source<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>asynchronous<span style="padding-left:9.5px"></span>task.<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Returns<span style="padding-left:9.5px"></span>TLC_TRUE<span style="padding-left:9.5px"></span>if<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>asynchronous<span style="padding-left:9.5px"></span>counter<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>needed,<span style="padding-left:9.5px"></span>otherwise<span style="padding-left:9.5px"></span>TLC_FALSE.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="LibNeedAsyncCounter" class="tlc_func">LibNeedAsyncCounter</a>(sfcnBlock,callIdx) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Get TID of downstream f-c ss, this sfcnblock TID will be for my caller</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% which is not the TID the sfcn defines</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> recIdx  = sfcnBlock.SFcnSystemOutputCallMappingInfo[callIdx].StartingIdx
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ssBlock = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibGetFcnCallBlock">LibGetFcnCallBlock</a>(sfcnBlock, recIdx)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ssTid   = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#SLibGetAsyncSysTid">SLibGetAsyncSysTid</a>(ssBlock, recIdx)
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> (::CompiledModel.SampleTime[ssTid].NeedAbsoluteTime == "yes"? TLC_TRUE:TLC_FALSE)
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>DocFunction{Other<span style="padding-left:9.5px"></span>Useful<span style="padding-left:9.5px"></span>Functions}:<span style="padding-left:9.5px"></span>LibManageAsyncCounter<span style="padding-left:9.5px"></span>==============
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>For<span style="padding-left:9.5px"></span>use<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>Async<span style="padding-left:9.5px"></span>S-Functions<span style="padding-left:9.5px"></span>with<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>call<span style="padding-left:9.5px"></span>outputs.<span style="padding-left:9.5px"></span>Asynchronous<span style="padding-left:9.5px"></span>task<span style="padding-left:9.5px"></span>uses<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>this<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>determine<span style="padding-left:9.5px"></span>if<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>task<span style="padding-left:9.5px"></span>needs<span style="padding-left:9.5px"></span>counter<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>manages<span style="padding-left:9.5px"></span>its<span style="padding-left:9.5px"></span>own<span style="padding-left:9.5px"></span>timer
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Example:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>%if<span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibManageAsyncCounter">LibManageAsyncCounter</a>(block,callIdx)
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibSetAsyncCounter">LibSetAsyncCounter</a>(block,callIdx),<span style="padding-left:9.5px"></span>CodeGetCounter)>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>where<span style="padding-left:9.5px"></span>CoddeGetCounter<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>target<span style="padding-left:9.5px"></span>specific<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>reading<span style="padding-left:9.5px"></span>hardware<span style="padding-left:9.5px"></span>timer.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Returns<span style="padding-left:9.5px"></span>TLC_TRUE<span style="padding-left:9.5px"></span>if<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>asynchronous<span style="padding-left:9.5px"></span>counter<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>needed,<span style="padding-left:9.5px"></span>otherwise<span style="padding-left:9.5px"></span>TLC_FALSE.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="LibManageAsyncCounter" class="tlc_func">LibManageAsyncCounter</a>(sfcnBlock,callIdx) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> recIdx  = sfcnBlock.SFcnSystemOutputCallMappingInfo[callIdx].StartingIdx
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ssBlock = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibGetFcnCallBlock">LibGetFcnCallBlock</a>(sfcnBlock, recIdx)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ssTid   = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#SLibGetAsyncSysTid">SLibGetAsyncSysTid</a>(ssBlock, recIdx)
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> (<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibNeedAsyncCounter">LibNeedAsyncCounter</a>(sfcnBlock,callIdx) &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;(::CompiledModel.SampleTime[ssTid].TimeSource == "Self"))
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>DocFunction{Other<span style="padding-left:9.5px"></span>Useful<span style="padding-left:9.5px"></span>Functions}:<span style="padding-left:9.5px"></span>LibGetCallerClockTickCounter<span style="padding-left:9.5px"></span>===========
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>For<span style="padding-left:9.5px"></span>use<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>Async<span style="padding-left:9.5px"></span>S-Functions<span style="padding-left:9.5px"></span>with<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>call<span style="padding-left:9.5px"></span>outputs.<span style="padding-left:9.5px"></span>Asynchronous<span style="padding-left:9.5px"></span>tasks
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>can<span style="padding-left:9.5px"></span>manage<span style="padding-left:9.5px"></span>their<span style="padding-left:9.5px"></span>own<span style="padding-left:9.5px"></span>time.<span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>access<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>upstream<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>asynchrounous<span style="padding-left:9.5px"></span>task's<span style="padding-left:9.5px"></span>time<span style="padding-left:9.5px"></span>counter.<span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>preferred<span style="padding-left:9.5px"></span>when<span style="padding-left:9.5px"></span>being<span style="padding-left:9.5px"></span>driven<span style="padding-left:9.5px"></span>by
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>another<span style="padding-left:9.5px"></span>asynchronous<span style="padding-left:9.5px"></span>rate<span style="padding-left:9.5px"></span>(e.g.<span style="padding-left:9.5px"></span>Interrupt<span style="padding-left:9.5px"></span>Block<span style="padding-left:9.5px"></span>driving<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>Task<span style="padding-left:9.5px"></span>block)<span style="padding-left:9.5px"></span>as
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>time<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>interrupt<span style="padding-left:9.5px"></span>occurred<span style="padding-left:9.5px"></span>will<span style="padding-left:9.5px"></span>be<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>as<span style="padding-left:9.5px"></span>apposed<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>time<span style="padding-left:9.5px"></span>the
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Task<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>allowed<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>run.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Example:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibGetCallerClockTickCounter">LibGetCallerClockTickCounter</a>(sfcnBlock))
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Returns<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>string<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>counter<span style="padding-left:9.5px"></span>variable<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>upstream<span style="padding-left:9.5px"></span>asynchronous
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>task.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="LibGetCallerClockTickCounter" class="tlc_func">LibGetCallerClockTickCounter</a>(sfcnBlock) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ssBlock = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibGetFcnCallBlock">LibGetFcnCallBlock</a>(sfcnBlock,0)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> callerTid = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#FcnGetAsyncPromotedTID">FcnGetAsyncPromotedTID</a>(<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#SLibGetAsyncSysTid">SLibGetAsyncSysTid</a>(ssBlock, 0))
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assert">%assert</span> ::CompiledModel.SampleTime[callerTid].NeedAbsoluteTime == "yes"
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibGetClockTick">LibGetClockTick</a>(callerTid)
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>DocFunction{Other<span style="padding-left:9.5px"></span>Useful<span style="padding-left:9.5px"></span>Functions}:<span style="padding-left:9.5px"></span>LibGetCallerClockTickCounterHigh<span style="padding-left:9.5px"></span>=======
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>For<span style="padding-left:9.5px"></span>use<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>Async<span style="padding-left:9.5px"></span>S-Functions<span style="padding-left:9.5px"></span>with<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>call<span style="padding-left:9.5px"></span>outputs.<span style="padding-left:9.5px"></span>Asynchronous<span style="padding-left:9.5px"></span>tasks
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>can<span style="padding-left:9.5px"></span>manage<span style="padding-left:9.5px"></span>their<span style="padding-left:9.5px"></span>own<span style="padding-left:9.5px"></span>time.<span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>access<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>upstream<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>asynchrounous<span style="padding-left:9.5px"></span>task's<span style="padding-left:9.5px"></span>time<span style="padding-left:9.5px"></span>counter.<span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>preferred<span style="padding-left:9.5px"></span>when<span style="padding-left:9.5px"></span>being<span style="padding-left:9.5px"></span>driven<span style="padding-left:9.5px"></span>by
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>another<span style="padding-left:9.5px"></span>asynchronous<span style="padding-left:9.5px"></span>rate<span style="padding-left:9.5px"></span>(e.g.<span style="padding-left:9.5px"></span>Interrupt<span style="padding-left:9.5px"></span>Block<span style="padding-left:9.5px"></span>driving<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>Task<span style="padding-left:9.5px"></span>block)<span style="padding-left:9.5px"></span>as
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>time<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>interrupt<span style="padding-left:9.5px"></span>occurred<span style="padding-left:9.5px"></span>will<span style="padding-left:9.5px"></span>be<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>as<span style="padding-left:9.5px"></span>apposed<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>time<span style="padding-left:9.5px"></span>the
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Task<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>allowed<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>run.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Example:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibGetCallerClockTickCounterHigh">LibGetCallerClockTickCounterHigh</a>(block)
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Returns<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>string<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>high<span style="padding-left:9.5px"></span>word<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>counter<span style="padding-left:9.5px"></span>variable<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>upstream<span style="padding-left:9.5px"></span>asynchronous<span style="padding-left:9.5px"></span>task.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="LibGetCallerClockTickCounterHigh" class="tlc_func">LibGetCallerClockTickCounterHigh</a>(sfcnBlock) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ssBlock = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#LibGetFcnCallBlock">LibGetFcnCallBlock</a>(sfcnBlock,0)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> callerTid = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#FcnGetAsyncPromotedTID">FcnGetAsyncPromotedTID</a>(<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/asynclib.html#SLibGetAsyncSysTid">SLibGetAsyncSysTid</a>(ssBlock,0))
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assert">%assert</span> ::CompiledModel.SampleTime[callerTid].NeedAbsoluteTime == "yes"
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sutillib.html#SLibClockTickIsUnit32Pair">SLibClockTickIsUnit32Pair</a>(callerTid)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibGetClockTickHigh">LibGetClockTickHigh</a>(callerTid)
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> ""
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function<span style="padding-left:9.5px"></span>FcnGetAsyncPromotedTID<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>returns<span style="padding-left:9.5px"></span>Prompted<span style="padding-left:9.5px"></span>TID<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>an<span style="padding-left:9.5px"></span>asyncTID.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>When<span style="padding-left:9.5px"></span>an<span style="padding-left:9.5px"></span>aynchrounous<span style="padding-left:9.5px"></span>task<span style="padding-left:9.5px"></span>need<span style="padding-left:9.5px"></span>synchronize<span style="padding-left:9.5px"></span>data<span style="padding-left:9.5px"></span>transfer<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>(including<span style="padding-left:9.5px"></span>time)<span style="padding-left:9.5px"></span>with<span style="padding-left:9.5px"></span>its<span style="padding-left:9.5px"></span>caller.<span style="padding-left:9.5px"></span>PromptedTID<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>this<span style="padding-left:9.5px"></span>async<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>task<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>its<span style="padding-left:9.5px"></span>caller's<span style="padding-left:9.5px"></span>TID,<span style="padding-left:9.5px"></span>othewise,<span style="padding-left:9.5px"></span>Promoted<span style="padding-left:9.5px"></span>TID<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>same<span style="padding-left:9.5px"></span>as<span style="padding-left:9.5px"></span>original<span style="padding-left:9.5px"></span>tid.<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>AsyncPromotpedTID<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>written<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>.rtw<span style="padding-left:9.5px"></span>file<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>WriteSampleTimes.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>AsyncPromotpedTID<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>while<span style="padding-left:9.5px"></span>generating<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>output<span style="padding-left:9.5px"></span>fcn<span style="padding-left:9.5px"></span>of
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>rate<span style="padding-left:9.5px"></span>transition<span style="padding-left:9.5px"></span>blocks.<span style="padding-left:9.5px"></span>Output<span style="padding-left:9.5px"></span>fcn<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>async<span style="padding-left:9.5px"></span>rate<span style="padding-left:9.5px"></span>transition
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>will<span style="padding-left:9.5px"></span>be<span style="padding-left:9.5px"></span>grouped<span style="padding-left:9.5px"></span>with<span style="padding-left:9.5px"></span>PromotedTID
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>However,<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>Acceleration<span style="padding-left:9.5px"></span>mode,<span style="padding-left:9.5px"></span>we<span style="padding-left:9.5px"></span>don't<span style="padding-left:9.5px"></span>need<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>synchronize<span style="padding-left:9.5px"></span>data<span style="padding-left:9.5px"></span>transfer<span style="padding-left:9.5px"></span>with<span style="padding-left:9.5px"></span>its<span style="padding-left:9.5px"></span>caller.<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Promoted<span style="padding-left:9.5px"></span>TID<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>original<span style="padding-left:9.5px"></span>TID
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="FcnGetAsyncPromotedTID" class="tlc_func">FcnGetAsyncPromotedTID</a>(tid)
 <br>&nbsp;&nbsp;<span class="tlc_assert">%assert</span>(<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibAsynchronousTriggeredTID">LibAsynchronousTriggeredTID</a>(tid))
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> Accelerator
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> tid
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> SampleTime[tid].AsyncPromotedTID
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_endif">%endif</span> <span class="tlc_comment">%% _ASYNCLIB__</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>SLibAsyncSampleTimeGeneratesTimeManagementCode<span style="padding-left:9.5px"></span>===============
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Determine<span style="padding-left:9.5px"></span>if<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>sample<span style="padding-left:9.5px"></span>time<span style="padding-left:9.5px"></span>needs<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>generate<span style="padding-left:9.5px"></span>time<span style="padding-left:9.5px"></span>management
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>code.<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>If<span style="padding-left:9.5px"></span>this<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>false,<span style="padding-left:9.5px"></span>this<span style="padding-left:9.5px"></span>means<span style="padding-left:9.5px"></span>one<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>function-call<span style="padding-left:9.5px"></span>subsysetms
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>will<span style="padding-left:9.5px"></span>handle<span style="padding-left:9.5px"></span>this.
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibAsyncSampleTimeGeneratesTimeManagementCode" class="tlc_func">SLibAsyncSampleTimeGeneratesTimeManagementCode</a>(tid)
 <br>&nbsp;&nbsp;<span class="tlc_assert">%assert</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibAsynchronousTriggeredTID">LibAsynchronousTriggeredTID</a>(tid)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> retVal = TLC_FALSE
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(SampleTime[tid],"AsyncSfcnBlkIdx")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> asyncSfcnBlkIdx = SampleTime[tid].AsyncSfcnBlkIdx
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> asyncSfcnBlk = System[asyncSfcnBlkIdx[0]].Block[asyncSfcnBlkIdx[1]]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_with">%with</span> asyncSfcnBlk
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% The sample time needs to generate the time management code if</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% the s-function is only hooked up to a Model block input, or</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% if the fcn-call signal is branched.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/private_api/sfunction_private_api.html#SLibSfcnHasBranchFcnCall">SLibSfcnHasBranchFcnCall</a>(asyncSfcnBlk)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> retVal = TLC_TRUE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> <span class="tlc_bifunc">ISFIELD</span>(asyncSfcnBlk,"NumSFcnSysOutputCallDsts") &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NumSFcnSysOutputCallDsts == 1 &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!<span class="tlc_bifunc">ISEQUAL</span>(SFcnSystemOutputCall[0].BlockToCall, "unconnected")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sysIdx = SFcnSystemOutputCall[0].BlockToCall[0]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> blkIdx = SFcnSystemOutputCall[0].BlockToCall[1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnCallBlock = System[sysIdx].Block[blkIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> retVal = (fcnCallBlock.Type == "ModelReference")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> retVal
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="FcnGetTaskTopSfcnBlock" class="tlc_func">FcnGetTaskTopSfcnBlock</a>(tid)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> taskTopSfcnBlock = ""
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibAsynchronousTriggeredTID">LibAsynchronousTriggeredTID</a>(tid) 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(SampleTime[tid], "AsyncSfcnBlkIdx")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> blkIdx = SampleTime[tid].AsyncSfcnBlkIdx
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> taskTopSfcnBlock = System[blkIdx[0]].Block[blkIdx[1]]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> taskTopSfcnBlock
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="FcnIsForcedInlinedForAsync" class="tlc_func">FcnIsForcedInlinedForAsync</a>(system,activeTid) 
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sysTid = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sysbodlib.html#LibGetSubsystemTID">LibGetSubsystemTID</a>(system, TLC_TRUE)
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> sysTid >=0 &amp;&amp; LibAsynchronousTriggered<span class="tlc_bifunc">TID</span>(activeTid) &amp;&amp; !<span class="tlc_bifunc">ISEQUAL</span>(activeTid, sysTid) 
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="FcnAddAsyncFunctionToCodeDescriptor" class="tlc_func">FcnAddAsyncFunctionToCodeDescriptor</a>(functionName, taskIndex, priority) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISFIELD</span>(::CompiledModel, "CodeDescriptorAsyncFunctions")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_addtorecord">%addtorecord</span>  ::CompiledModel CodeDescriptorAsyncFunctions {}
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_createrecord">%createrecord</span> entry {functionName "%<<span>functionName</span>>"}
 <br>&nbsp;&nbsp;<span class="tlc_addtorecord">%addtorecord</span> entry taskIndex "%<<span>taskIndex</span>>"
 <br>&nbsp;&nbsp;<span class="tlc_addtorecord">%addtorecord</span> entry priority "%<<span>priority</span>>"
 <br>&nbsp;&nbsp;<span class="tlc_addtorecord">%addtorecord</span> ::CompiledModel.CodeDescriptorAsyncFunctions %<<span>functionName</span>> entry
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br>&nbsp; <br></body></html>