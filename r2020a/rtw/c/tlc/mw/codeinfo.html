<html>
<head>

<style>
p {
    color : black; font-family:courier; font-size: 80%;
}
body {
    line-height: 120%; font-family:courier; font-zize:60%;
}
.tlc_func {color : blue; font-weight: bold; font-size:120%;}
.tlc_comment {color : #9aa;}
.tlc_if {color: green;}.tlc_assign {color: green;}.tlc_each {color: green;}.tlc_foreach {color: green;}.tlc_endif {color: green;}.tlc_switch {color: green;}.tlc_case {color: green;}.tlc_return {color: green;}.tlc_elseif {color: green;}.tlc_else {color: green;}.tlc_assert {color: green;}.tlc_endwith {color: green;}.tlc_endforeach {color: green;}.tlc_generatefile {color: green;}.tlc_includepath {color: green;}.tlc_include {color: green;}.tlc_sprintf {color: green;}.tlc_while {color: green;}.tlc_endwhile {color: green;}.tlc_default {color: green;}.tlc_createrecord {color: green;}.tlc_mergerecord {color: green;}.tlc_language {color: green;}.tlc_roll {color: green;}.tlc_endroll {color: green;}.tlc_with {color: green;}.tlc_selectfile {color: green;}.tlc_openfile {color: green;}.tlc_closefile {color: green;}.tlc_def {color: green;}.tlc_undef {color: green;}.tlc_realformat {color: green;}.tlc_endswitch {color: green;}.tlc_addtorecord {color: green;}.tlc_break {color: green;}
.tlc_bifunc {color: brown;}
.tlc_fkw {color:blue; font-weight: 800;}
.tlc_output {color:#FFF; font-style:italic;}
.tlc_mchar {color:purple;}
</style>

</head>
<body>
<span class="tlc_comment">%%<span style="padding-left:9.5px"></span>============================================================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>file<span style="padding-left:9.5px"></span>creates<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>codeInfo<span style="padding-left:9.5px"></span>MATLAB<span style="padding-left:9.5px"></span>object<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>saves<span style="padding-left:9.5px"></span>it<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>MAT<span style="padding-left:9.5px"></span>file.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>process<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>creation<span style="padding-left:9.5px"></span>here<span style="padding-left:9.5px"></span>means<span style="padding-left:9.5px"></span>emitting<span style="padding-left:9.5px"></span>out<span style="padding-left:9.5px"></span>an<span style="padding-left:9.5px"></span>MATLAB<span style="padding-left:9.5px"></span>file<span style="padding-left:9.5px"></span>which<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>contains<span style="padding-left:9.5px"></span>appropriate<span style="padding-left:9.5px"></span>syntax<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>create<span style="padding-left:9.5px"></span>codeInfo<span style="padding-left:9.5px"></span>object.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Copyright<span style="padding-left:9.5px"></span>2007-2019<span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>MathWorks,<span style="padding-left:9.5px"></span>Inc.
</span> <br><span class="tlc_comment">%%
</span> <br>&nbsp; <br><span class="tlc_if">%if</span> (<span class="tlc_bifunc">EXISTS</span>("_CIINFO_") == 0)
 <br><span class="tlc_assign">%assign</span> _CIINFO_ = 1
 <br>&nbsp; <br><span class="tlc_assign">%assign</span> rightClickBuildFeature = CGMODEL_ACCESS("CGModel.RightClickBuild")
 <br>&nbsp; <br><span class="tlc_include">%include</span> "%<::CompiledModel.Name>_codeIRInfo.tlc"
 <br><span class="tlc_include">%include</span> "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html">codeinfolib.tlc</a>"
 <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>reset<span style="padding-left:9.5px"></span>state<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html">codeinfolib.tlc</a><span style="padding-left:9.5px"></span>which<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>also<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>C<span style="padding-left:9.5px"></span>API<span style="padding-left:9.5px"></span>processing
</span> <br>%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibResetCodeInfoLib">SLibResetCodeInfoLib</a>()</span>>
 <br><span class="tlc_include">%include</span> "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfodatalib.html">codeinfodatalib.tlc</a>"
 <br><span class="tlc_include">%include</span> "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html">codeinfofcnlib.tlc</a>"
 <br><span class="tlc_include">%include</span> "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfomdlreflib.html">codeinfomdlreflib.tlc</a>"
 <br><span class="tlc_include">%include</span> "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/autosarsup.html">autosarsup.tlc</a>"
 <br>&nbsp; <br><span class="tlc_selectfile">%selectfile</span> NULL_FILE
 <br><span class="tlc_realformat">%realformat</span> "CONCISE"
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Name<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>.m<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>which<span style="padding-left:9.5px"></span>creates<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>codeInfo<span style="padding-left:9.5px"></span>object<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>saves<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>.mat
</span> <br><span class="tlc_assign">%assign</span> fcnName = "writeCodeInfoFcn"
 <br><span class="tlc_assign">%assign</span> timingSubfcnName = "getIndexFromTimingInternalId"
 <br><span class="tlc_assign">%assign</span> iDataSubfcnName = "getInternalDataByName"
 <br><span class="tlc_assign">%assign</span> iDataSubfcnVariableName = "getInternalDataByVariableName"
 <br><span class="tlc_assign">%assign</span> nameChkfcnName = "checkDataGraphicalNames"
 <br><span class="tlc_assign">%assign</span> uniquifyDataInterfaces = "uniquifyDataAccess"
 <br>&nbsp; <br><span class="tlc_selectfile">%selectfile</span> NULL_FILE
 <br>&nbsp; <br><span class="tlc_comment">%%with<span style="padding-left:9.5px"></span>::CompiledModel
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Open<span style="padding-left:9.5px"></span>file<span style="padding-left:9.5px"></span>on<span style="padding-left:9.5px"></span>disk<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>start<span style="padding-left:9.5px"></span>writing<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>it
</span> <br><span class="tlc_openfile">%openfile</span> ModelCI = "%<<span>fcnName</span>>.m"
 <br><span class="tlc_assign">%assign</span> comment = "% Autogenerated file: %<::CompiledModel.GeneratedOn>"
 <br>%<<span>comment</span>>
 <br>function %<<span>fcnName</span>>
 <br>&nbsp; <br><span class="tlc_assign">%assign</span> componentObj = "codeInfo"
 <br><span class="tlc_assign">%assign</span> expInportsObj = "expInports"
 <br>&nbsp; <br><span class="tlc_assign">%assign</span> comment = "% Load a ComponentInterface object from IR"
 <br>%<<span>comment</span>>
 <br>%<<span>FcnLoadCodeIRInfo()</span>>
 <br>&nbsp; <br><span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> map = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/autosarsup.html#FcnGetAutosarDataMap">FcnGetAutosarDataMap</a>()
 <br>&nbsp;&nbsp;%<<span>componentObj</span>>.Name          = '%<<span>map.ComponentName</span>>';
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/autosarsup.html#SLibAutosarIsAR4">SLibAutosarIsAR4</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfodatalib.html#SLibCreateStaticMemory">SLibCreateStaticMemory</a>()</span>>    
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfodatalib.html#SLibAddAutosarVarInfo">SLibAddAutosarVarInfo</a>()</span>>    
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_endif">%endif</span>
 <br><span class="tlc_comment">%%
</span> <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>create<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>data<span style="padding-left:9.5px"></span>interface<span style="padding-left:9.5px"></span>writer<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>descriptor
</span> <br><span class="tlc_assign">%assign</span> buildDir = <span class="tlc_bifunc">FEVAL</span>("rtwprivate", "rtwattic", "getBuildDir")
 <br>&nbsp; <br><span class="tlc_assign">%assign</span> mf0CodeDescriptor = CGMODEL_ACCESS("CGModel.GenerateMF0CodeDescriptor")
 <br><span class="tlc_assign">%assign</span> subsystemInterfaceForLibraryCodegen = CGMODEL_ACCESS("CGModel.SubsystemInterfaceForLibraryCodegen")
 <br>&nbsp; <br><span class="tlc_if">%if</span> mf0CodeDescriptor > 0
 <br>wr = coder.internal.writeMF0DataInterfacesToCodeDescriptor("%<::CompiledModel.Name>","%<<span>buildDir</span>>") ;
 <br>wr.writeName(%<<span>componentObj</span>>.Name);
 <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>create<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>interface<span style="padding-left:9.5px"></span>writer<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>descriptor
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>TODO:<span style="padding-left:9.5px"></span>remove<span style="padding-left:9.5px"></span>all<span style="padding-left:9.5px"></span>references<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>fr<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>use<span style="padding-left:9.5px"></span>wr
</span> <br>fr = wr;
 <br><span class="tlc_else">%else</span>
 <br>wr = coder.internal.writeDataInterfacesToCodeDescriptor("%<::CompiledModel.Name>","%<<span>buildDir</span>>") ;
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>create<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>interface<span style="padding-left:9.5px"></span>writer<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>descriptor
</span> <br>fr = coder.internal.writeFunctionInterfacesToCodeDescriptor("%<::CompiledModel.Name>", "%<<span>buildDir</span>>") ;
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfodatalib.html#SLibCreateInportInterfaces">SLibCreateInportInterfaces</a>()</span>>
 <br><span class="tlc_comment">%%
</span> <br>%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfodatalib.html#SLibCreateOutportInterfaces">SLibCreateOutportInterfaces</a>()</span>>
 <br><span class="tlc_comment">%%
</span> <br>skippedParameters = [];
 <br>%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfodatalib.html#SLibCreateParameterInterfaces">SLibCreateParameterInterfaces</a>()</span>>
 <br><span class="tlc_assign">%assign</span> prmArgs = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfodatalib.html#SLibCreateParameterArguments">SLibCreateParameterArguments</a>()
 <br>&nbsp; <br><span class="tlc_comment">%%
</span> <br>%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfodatalib.html#SLibCreateDataStoreInterfaces">SLibCreateDataStoreInterfaces</a>()</span>>
 <br>&nbsp; <br>%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfodatalib.html#SLibCreateExternalBlockOutputInterfaces">SLibCreateExternalBlockOutputInterfaces</a>()</span>>
 <br>%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfodatalib.html#SLibCreateDWorkInterfaces">SLibCreateDWorkInterfaces</a>()</span>>
 <br>&nbsp; <br>&nbsp; <br>&nbsp; <br><span class="tlc_comment">%%
</span> <br><span class="tlc_if">%if</span> !GenerateClassInterface
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#IsModelReferenceTarget">IsModelReferenceTarget</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create Initialize function interface</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibCreateModelFunctionInterface">SLibCreateModelFunctionInterface</a>(componentObj, "Initialize", "")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> UsingMalloc
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create Allocation function interface</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibCreateModelFunctionInterface">SLibCreateModelFunctionInterface</a>(componentObj, "Registration", "")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibIsDeploymentDiagram">LibIsDeploymentDiagram</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/deploymentdiagram.html#SLibDeploymentGenerateCodeInfo">SLibDeploymentGenerateCodeInfo</a>(componentObj)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> (ExportFunctionsMode != 0) || (<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>() &amp;&amp; !(<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsExportFcnDiagram">SLibIsExportFcnDiagram</a>()) &amp;&amp; <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsAsyncTaskOnlyModel">SLibIsAsyncTaskOnlyModel</a>())
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsAsyncTaskOnlyModel">SLibIsAsyncTaskOnlyModel</a>() &amp;&amp; !(<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsExportFcnDiagram">SLibIsExportFcnDiagram</a>())
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibCreateModelFunctionInterface">SLibCreateModelFunctionInterface</a>(componentObj, "OutputUpdate", "")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibCreateRunnables">SLibCreateRunnables</a>(componentObj)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibCreateExportFunctions">SLibCreateExportFunctions</a>(componentObj)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> (<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsAsyncTaskOnlyModel">SLibIsAsyncTaskOnlyModel</a>() == TLC_FALSE || <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsExportFcnDiagram">SLibIsExportFcnDiagram</a>())
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsExportFcnDiagram">SLibIsExportFcnDiagram</a>() &amp;&amp; <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>())
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibCreateRunnables">SLibCreateRunnables</a>(componentObj)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isAsyncExportFcn = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsExportFcnDiagram">SLibIsExportFcnDiagram</a>() &amp;&amp; <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsAsyncTaskOnlyModel">SLibIsAsyncTaskOnlyModel</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isPeriodicExportFcn = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsExportFcnDiagram">SLibIsExportFcnDiagram</a>() &amp;&amp; !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsAsyncTaskOnlyModel">SLibIsAsyncTaskOnlyModel</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isPeriodicRateGrouping = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sysbodlib.html#SLibIsMultiRateAndPeriodicRateGrouping">SLibIsMultiRateAndPeriodicRateGrouping</a>(System[NumSystems-1])
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> updateCState  = (NumContStates > 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> isPeriodicRateGrouping || isAsyncExportFcn <span class="tlc_comment">%% Rate grouped</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%    </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create rate grouped function interfaces</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> maxSampleTime = NumRuntimeExportedRates
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsExportFcnDiagram">SLibIsExportFcnDiagram</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> maxSampleTime = NumSampleTimes
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> tid = maxSampleTime
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tidIdx = tid
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsExportFcnDiagram">SLibIsExportFcnDiagram</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Loop over TIDs backwards for export function diagrams to match</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% module generation order in <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/opaquelib.html">opaquelib.tlc</a> : FcnGenerateCodeFromModule</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Needed to keep fcn index consistent with OutputFunctions array</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tidIdx = maxSampleTime - tid - 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (tidIdx==1) &amp;&amp; FixedStepOpts.TID01EQ
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_continue">%continue</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsExportFcnDiagram">SLibIsExportFcnDiagram</a>() 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> expFcnName = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertlib.html#SLibGenExporFunctionName">SLibGenExporFunctionName</a>(tidIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">WHITE_SPACE</span>(expFcnName)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Skip empty function names for export functions</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_continue">%continue</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rootSystem = System[NumSystems-1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> thisModule = ::CompiledModel.RTWCGModules.RTWCGModule[rootSystem.CGIRModuleIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(thisModule, "SystemFunctions") &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_bifunc">ISFIELD</span>(thisModule.SystemFunctions, expFcnName)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnIndex = <span class="tlc_bifunc">GETFIELD</span>(thisModule.SystemFunctions, expFcnName)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> thisFcn  = thisModule.Function[fcnIndex]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(thisFcn,"IsRateGroupedSLFcn") &amp;&amp; thisFcn.IsRateGroupedSLFcn == TLC_TRUE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Skip rate grouped Simulink functions. They are handled as model entry</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% point functions elsewhere. Without skipping here, we end up with duplicate</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% functions in PIL.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_continue">%continue</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Skip synchronous sample times for async export function</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> isAsyncExportFcn &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(tidIdx < NumRuntimeExportedRates)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_continue">%continue</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tid = tidIdx
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !CombineOutputUpdateFcns &amp;&amp; !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsExportFcnDiagram">SLibIsExportFcnDiagram</a>() <span class="tlc_comment">%% Export function is always treated as combined</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outString = "Output"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> updateCState
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> updateString = "UpdateContStates"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span> 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> updateString = "RootUpdate"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibCreateModelFunctionInterface">SLibCreateModelFunctionInterface</a>(componentObj, outString, tid)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibCreateModelFunctionInterface">SLibCreateModelFunctionInterface</a>(componentObj, updateString, tid)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> updateCState 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outString = "UpdateContStates"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outString = "OutputUpdate"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibCreateModelFunctionInterface">SLibCreateModelFunctionInterface</a>(componentObj, outString, tid)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> updateCState = TLC_FALSE 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsExportFcnDiagram">SLibIsExportFcnDiagram</a>() &amp;&amp; !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsAsyncTaskOnlyModel">SLibIsAsyncTaskOnlyModel</a>() &amp;&amp; !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> tid = NumSampleTimes
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibResetOrResetWithInitEventTID">SLibResetOrResetWithInitEventTID</a>(tid)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibCreateModelFunctionInterface">SLibCreateModelFunctionInterface</a>(componentObj, "OutputUpdate", tid)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsExportFcnDiagram">SLibIsExportFcnDiagram</a>() <span class="tlc_comment">%% Non-rate grouped</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%    </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create non-rate grouped function interfaces</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Please note that export function models will</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% not have a step function generated through this</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% branch. They may have one generated by the</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Simulink Function path</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !CombineOutputUpdateFcns
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outString = "Output"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> updateCState
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> updateString = "UpdateContStates"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span> 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> updateString = "RootUpdate"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibCreateModelFunctionInterface">SLibCreateModelFunctionInterface</a>(componentObj, outString, "")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibCreateModelFunctionInterface">SLibCreateModelFunctionInterface</a>(componentObj, updateString, "")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> updateCState 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outString = "UpdateContStates"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outString = "OutputUpdate"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibCreateModelFunctionInterface">SLibCreateModelFunctionInterface</a>(componentObj, outString, "")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add reset functions to list of output functions vector in </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% CodeInfo for the "Non-rate grouped" case. Note that in the </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% "Rate grouped" case all TID's are iterated over, which includes</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% the reset functions.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> tid = NumSampleTimes
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibResetOrResetWithInitEventTID">SLibResetOrResetWithInitEventTID</a>(tid)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibCreateModelFunctionInterface">SLibCreateModelFunctionInterface</a>(componentObj, "OutputUpdate", tid)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsExportFcnDiagram">SLibIsExportFcnDiagram</a>() <span class="tlc_comment">%% Export function's info should be handled in the rate grouping code</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfomdlreflib.html#AddFunctionCallInputInformation">AddFunctionCallInputInformation</a>(componentObj)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfomdlreflib.html#AddExternalInportMappingInfo">AddExternalInportMappingInfo</a>(expInportsObj)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsExportFcnDiagram">SLibIsExportFcnDiagram</a>() &amp;&amp; (NumAsynchronousSampleTimes > 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibCreateRunnables">SLibCreateRunnables</a>(componentObj)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsAsyncTaskOnlyModel">SLibIsAsyncTaskOnlyModel</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfomdlreflib.html#AddFunctionCallInputInformation">AddFunctionCallInputInformation</a>(componentObj)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfomdlreflib.html#AddExternalInportMappingInfo">AddExternalInportMappingInfo</a>(expInportsObj)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% For these cases, the base rate step function is generated and we want</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% to reflect that in CodeInfo.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !GenerateSampleERTMain
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibCreateModelFunctionInterface">SLibCreateModelFunctionInterface</a>(componentObj, "OutputUpdate", "")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span> 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Do nothing</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% derivative function</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">EXISTS</span>("IncludeMdlDerivativeFcn") &amp;&amp; IncludeMdlDerivativeFcn == TLC_TRUE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibCreateModelFunctionInterface">SLibCreateModelFunctionInterface</a>(componentObj, "Derivative", "")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> IncludeMdlTerminateFcn
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibCreateModelFunctionInterface">SLibCreateModelFunctionInterface</a>(componentObj, "Terminate", "")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfomdlreflib.html#SLibCreateModelReferenceFunctionInterfaces">SLibCreateModelReferenceFunctionInterfaces</a>(componentObj)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfomdlreflib.html#AddExternalInportMappingInfo">AddExternalInportMappingInfo</a>(expInportsObj)>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_else">%else</span> <span class="tlc_comment">%% GenerateClassInterface</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> (<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsAsyncTaskOnlyModel">SLibIsAsyncTaskOnlyModel</a>() &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsERTTarget">SLibIsERTTarget</a>() &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;!<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#IsModelReferenceRTWTarget">IsModelReferenceRTWTarget</a>())
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% step functions were removed in TLC so we must remove it from code info as well</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;codeInfo.OutputFunctions = [];
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#IsModelReferenceRTWTarget">IsModelReferenceRTWTarget</a>() &amp;&amp; <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsExportFcnDiagram">SLibIsExportFcnDiagram</a>() 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% %<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibCreateModelFunctionInterface">SLibCreateModelFunctionInterface</a>(componentObj, "Initialize", "")></span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% %if UsingMalloc</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%   %% Create Allocation function interface</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%  %<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibCreateModelFunctionInterface">SLibCreateModelFunctionInterface</a>(componentObj, "Registration", "")></span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% %endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;tmpArgs         = [];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;tmpActualArgs   = [];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;tmpRet          = coder.types.Argument.empty;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;tmpActualReturn = RTW.DataInterface.empty;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfomdlreflib.html#AddFunctionCallInputInformation">AddFunctionCallInputInformation</a>(componentObj)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfomdlreflib.html#AddExternalInportMappingInfo">AddExternalInportMappingInfo</a>(expInportsObj)>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#IsModelReferenceRTWTarget">IsModelReferenceRTWTarget</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfomdlreflib.html#SLibCreateModelReferenceFunctionInterfaces">SLibCreateModelReferenceFunctionInterfaces</a>(componentObj)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfomdlreflib.html#AddExternalInportMappingInfo">AddExternalInportMappingInfo</a>(expInportsObj)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;for i=1 : length(codeInfo.OutputFunctions)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codeInfo.OutputFunctions(i).Owner = codeInfo.InternalData(1).Implementation;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;end
 <br>&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> NumRuntimeExportedRates > 1 &amp;&amp; <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sysbodlib.html#SLibIsPeriodicRateGrouping">SLibIsPeriodicRateGrouping</a>() &amp;&amp; !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsExportFcnDiagram">SLibIsExportFcnDiagram</a>() <span class="tlc_comment">%% multi rate</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;fcnVec = [];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> tid = NumRuntimeExportedRates
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (tid==1) &amp;&amp; FixedStepOpts.TID01EQ
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_continue">%continue</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> timeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWTimingObject">SLibGetRTWTimingObject</a>(tid)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fcnTemp = codeInfo.OutputFunctions(1);      
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpImpl = coder.types.Prototype;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpImpl.Name = [fcnTemp.Prototype.Name,'%<<span>tid</span>>'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpImpl.HeaderFile = fcnTemp.Prototype.HeaderFile;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpImpl.SourceFile = fcnTemp.Prototype.SourceFile;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpFcn = RTW.FunctionInterface;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpFcn.Prototype = tmpImpl;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpFcn.Timing = %<<span>timeObj</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpFcn.Owner = fcnTemp.Owner;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fcnVec = [fcnVec, tmpFcn];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>  
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% depending on the fix of g758487, the wrapper step function may or may not present</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;codeInfo.OutputFunctions = fcnVec;
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add reset function into output functions vector for non-AUTOSAR</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% targets, for the GenerateClassInterface case.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> tid = NumSampleTimes
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibResetOrResetWithInitEventTID">SLibResetOrResetWithInitEventTID</a>(tid)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibCreateModelFunctionInterface">SLibCreateModelFunctionInterface</a>(componentObj, "OutputUpdate", tid)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Add<span style="padding-left:9.5px"></span>Simulink<span style="padding-left:9.5px"></span>functions<span style="padding-left:9.5px"></span>info.<span style="padding-left:9.5px"></span>For<span style="padding-left:9.5px"></span>AUTOSAR,<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>Simulink<span style="padding-left:9.5px"></span>functions<span style="padding-left:9.5px"></span>are<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>treated<span style="padding-left:9.5px"></span>as<span style="padding-left:9.5px"></span>runnables<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>added<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>SLibCreateRunnables.
</span> <br><span class="tlc_if">%if</span> !(<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#IsModelReferenceSimTarget">IsModelReferenceSimTarget</a>())
 <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#AddSimulinkFunctionInfo">AddSimulinkFunctionInfo</a>(componentObj)>
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Updates<span style="padding-left:9.5px"></span>output<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>interface<span style="padding-left:9.5px"></span>codeInfo<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>reused<span style="padding-left:9.5px"></span>IO<span style="padding-left:9.5px"></span>arguments
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>terms<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>prototype<span style="padding-left:9.5px"></span>control<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_if">%if</span> GenerateClassInterface || <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibFcnProtoCtrlActive">SLibFcnProtoCtrlActive</a>()
 <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#UpdateReusableArgsCodeInfoByFPC">UpdateReusableArgsCodeInfoByFPC</a>(componentObj)>
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>if<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>root<span style="padding-left:9.5px"></span>system<span style="padding-left:9.5px"></span>has<span style="padding-left:9.5px"></span>any<span style="padding-left:9.5px"></span>CoderDataGroups,<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>reusable<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>then<span style="padding-left:9.5px"></span>add<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>required<span style="padding-left:9.5px"></span>DataGroup<span style="padding-left:9.5px"></span>info<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>InternalData
</span> <br><span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/datagrouplib.html#LibCoderDataGroupStructsAreEmpty">LibCoderDataGroupStructsAreEmpty</a>() &amp;&amp; <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibMultiInstance">SLibMultiInstance</a>()
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%% add RTModel/self if not already part of InternalData</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>() &amp;&amp; !GenerateClassInterface &amp;&amp; <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfodatalib.html#FcnHasRTMOrSelf">FcnHasRTMOrSelf</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtMType    = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalTypeObj">FcnGetInternalTypeObj</a>("RTModel", ::tSimStructType, "")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtMPtrType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetPointerTypeObj">FcnGetPointerTypeObj</a>(rtMType, 1, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtMType</span>>.Name = '%<::CompiledModel.GlobalScope.tSimStructTypeTag>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a RTW.DataInterface object</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtmTgtVarObj  = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWVariableObject">SLibGetRTWVariableObject</a>("RTModel", rtMType,"%<::tSimStruct>_", "", "", "")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtmVarObj  = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWPointerVariableObject">SLibGetRTWPointerVariableObject</a>("RTModel", rtMPtrType,"%<::tSimStruct>", rtmTgtVarObj)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add it to InternalData if not already there (e.g. self in th SLfunction case)</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtmDataObj = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalDataObject">FcnGetInternalDataObject</a>("RTModel", "", "RTModel", rtmVarObj, [])
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%% Add CoderDataGroups to CodeInfo InternalData</span>
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = ::CompiledModel.NumCoderDataGroups
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> group = ::CompiledModel.CoderDataGroup[idx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> groupNeeded = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/datagrouplib.html#SLibHaveRootDataGroupVarGroup">SLibHaveRootDataGroupVarGroup</a>(group) &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(group.AsStructure == "InParent") &amp;&amp; !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsGroupSelfCoderGroup">SLibIsGroupSelfCoderGroup</a>(group)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% does the root system have a non-empty VarGroup matching the current group?</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% is it referenced by rtM/self? is it rtM/self?</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> groupNeeded
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span> <span class="tlc_bifunc">EXISTS</span>(rtmVarObj) || GenerateClassInterface || <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfodatalib.html#FcnHasRTMOrSelf">FcnHasRTMOrSelf</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> typeObjName = group.Name + "Type"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> groupType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalTypeObj">FcnGetInternalTypeObj</a>(typeObjName, <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/datagrouplib.html#SLibCoderDataGroupType">SLibCoderDataGroupType</a>(group), "")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> groupPtrType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetPointerTypeObj">FcnGetPointerTypeObj</a>(groupType, 0, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> groupVarId = "rt_" + group.Name
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> groupVar = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfodatalib.html#SLibGetCoderDataGroupVariable">SLibGetCoderDataGroupVariable</a>(group)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> desc = "Storage class " + group.Name
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>() &amp;&amp; !GenerateClassInterface &amp;&amp; <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfodatalib.html#FcnHasRTMOrSelf">FcnHasRTMOrSelf</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% create a RTW.PointerExpression for the group </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> groupPtrExpr = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnCreateRTMMemberObject">FcnCreateRTMMemberObject</a>(groupVarId, <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/datagrouplib.html#SLibCoderDataGroupRTMFieldName">SLibCoderDataGroupRTMFieldName</a>(group), ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;groupPtrType, rtmVarObj, groupVar)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> groupDataObj =  ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalDataObject">FcnGetInternalDataObject</a>(groupVarId, "", desc, groupPtrExpr, []) 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> GenerateClassInterface &amp;&amp; group.ContainsInstanceSpecificParameter &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGMODEL_ACCESS("CGModel.getParameterMemberVisibility") == "public"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#IsModelReferenceTarget">IsModelReferenceTarget</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> modelVarName = "ModelMDLOBJ"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> modelVarName = "%<::CompiledModel.GlobalScope.tModelObject>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> modelVarObj = "Var_" + modelVarName
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>modelVarObj</span>> = codeInfo.InternalData(1).Implementation;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> groupPtrExpr = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnCreateRTMMemberObject">FcnCreateRTMMemberObject</a>(groupVarId, <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/datagrouplib.html#SLibCoderDataGroupRTMFieldName">SLibCoderDataGroupRTMFieldName</a>(group), ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;groupPtrType, modelVarObj, groupVar)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> groupDataObj = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalDataObject">FcnGetInternalDataObject</a>(groupVarId, "", desc, groupPtrExpr, [])
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> groupdDataObj =  ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalDataObject">FcnGetInternalDataObject</a>(groupVarId, "", desc, groupVar, [])
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Create<span style="padding-left:9.5px"></span>DataImplementations<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>Instance-Specific<span style="padding-left:9.5px"></span>parameters
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>We<span style="padding-left:9.5px"></span>do<span style="padding-left:9.5px"></span>this<span style="padding-left:9.5px"></span>late<span style="padding-left:9.5px"></span>because<span style="padding-left:9.5px"></span>we<span style="padding-left:9.5px"></span>need<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>have<span style="padding-left:9.5px"></span>already<span style="padding-left:9.5px"></span>populated<span style="padding-left:9.5px"></span>the
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>CodeInfoMap
</span> <br>%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfodatalib.html#SLibCreateInstanceSpecificParameterInterfaces">SLibCreateInstanceSpecificParameterInterfaces</a>()</span>>
 <br><span class="tlc_if">%if</span> mf0CodeDescriptor < 1
 <br>wr.closeRepo();
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br><span class="tlc_if">%if</span> GenerateClassInterface
 <br>&nbsp;&nbsp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfodatalib.html#SLibCreateModelConstructorActualArgs">SLibCreateModelConstructorActualArgs</a>()</span>>
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>if ~isempty(skippedParameters)
 <br>fr.removeSkippedParameters(codeInfo.Parameters(skippedParameters));
 <br>codeInfo.Parameters(skippedParameters) = [];
 <br>end
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Writing<span style="padding-left:9.5px"></span>out<span style="padding-left:9.5px"></span>internal<span style="padding-left:9.5px"></span>data
</span> <br><span class="tlc_assign">%assign</span> internalData = <span class="tlc_bifunc">FIELDNAMES</span>(CodeInfoMap.InternalDataMap)
 <br><span class="tlc_foreach">%foreach</span> idx = <span class="tlc_bifunc">SIZE</span>(internalData,1)
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> (idx == 0)
 <br>%<<span>componentObj</span>>.InternalData = [%<<span>componentObj</span>>.InternalData, %<internalData[idx]>];
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>%<<span>componentObj</span>>.InternalData(end+1) = %<internalData[idx]>;
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;fr.addInternalData(%<internalData[idx]>);
 <br><span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp; <br><span class="tlc_assign">%assign</span> comment = "% Handling Right-Click Builds"
 <br>%<<span>comment</span>>
 <br>ss = rtwprivate('getSourceSubsystemHandle',codeInfo.GraphicalPath);
 <br><span class="tlc_assign">%assign</span> comment = "% Check if Rt-Click build, then re-map SIDs"
 <br>%<<span>comment</span>>
 <br>if ~isempty(ss) &amp;&amp; rtwprivate('rtwattic','hasSIDMap')
 <br>&nbsp;&nbsp;&nbsp;codeInfo = modifyCodeInfoForSubsystemBuild(ss, codeInfo, wr);
 <br>end
 <br>&nbsp; <br>&nbsp; <br><span class="tlc_if">%if</span> mf0CodeDescriptor > 0
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> subsystemInterfaceForLibraryCodegen > 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#FcnRemoveUnusedArgumentsFromSubsystemInterface">FcnRemoveUnusedArgumentsFromSubsystemInterface</a>()</span>>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>fr.writeFunctionInterfaces(%<<span>componentObj</span>>);
 <br>fr.writeServerCallPoints(%<<span>componentObj</span>>);
 <br>&nbsp; <br><span class="tlc_if">%if</span> GenerateClassInterface
 <br>&nbsp;&nbsp;fr.InstanceSpecificParameterConstructorFixup;
 <br>&nbsp;&nbsp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfodatalib.html#FcnAddModelBlockInstanceVariableName">FcnAddModelBlockInstanceVariableName</a>()</span>>
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br><span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(::CompiledModel, "CodeDescriptorAsyncFunctions")
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fieldNames = <span class="tlc_bifunc">FIELDNAMES</span>(::CompiledModel.CodeDescriptorAsyncFunctions)
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = <span class="tlc_bifunc">SIZE</span>(fieldNames, 1)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> cur = <span class="tlc_bifunc">GETFIELD</span>(::CompiledModel.CodeDescriptorAsyncFunctions,fieldNames[idx])
 <br>&nbsp;&nbsp;&nbsp;&nbsp;fr.addAsyncFunctionInterfaces("%<<span>cur.functionName</span>>", %<<span>cur.taskIndex</span>>, %<<span>cur.priority</span>>);
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br><span class="tlc_if">%if</span> mf0CodeDescriptor > 0
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> subsystemInterfaceForLibraryCodegen > 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;wr.copyTimingInterfacesForLibraryCodegen();
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>wr.closeRepo();
 <br><span class="tlc_endif">%endif</span>
 <br><span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#IsModelReferenceTarget">IsModelReferenceTarget</a>()
 <br>&nbsp;&nbsp;if exist('%<<span>expInportsObj</span>>', 'var')
 <br>&nbsp;&nbsp;&nbsp;&nbsp;save codeInfo.mat %<<span>componentObj</span>> %<<span>expInportsObj</span>>;
 <br>&nbsp;&nbsp;else
 <br>&nbsp;&nbsp;&nbsp;&nbsp;save codeInfo.mat %<<span>componentObj</span>>;
 <br>&nbsp;&nbsp;end
 <br><span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;<span class="tlc_assert">%assert</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#IsModelReferenceRTWTarget">IsModelReferenceRTWTarget</a>() || (<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#IsModelReferenceSimTarget">IsModelReferenceSimTarget</a>())
 <br>&nbsp;&nbsp;if exist('%<<span>expInportsObj</span>>', 'var')
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;save %<::CompiledModel.Name>_mr_codeInfo.mat %<<span>componentObj</span>> %<<span>expInportsObj</span>>;
 <br>&nbsp;&nbsp;else
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;save %<::CompiledModel.Name>_mr_codeInfo.mat %<<span>componentObj</span>>;
 <br>&nbsp;&nbsp;end
 <br><span class="tlc_endif">%endif</span>
 <br>returnVal = 1;
 <br>&nbsp; <br><span class="tlc_assign">%assign</span> comment = "% End Function"
 <br>%<<span>comment</span>>: %<<span>fcnName</span>>
 <br>&nbsp; <br>function data = %<<span>uniquifyDataInterfaces</span>>(list)
 <br>&nbsp;&nbsp;data = RTW.DataInterface.empty;
 <br>&nbsp;&nbsp;for idx=1:numel(list)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ~isPresentDI(data, list(idx))
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data(end+1) = list(idx); %#ok<AGROW>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end
 <br>&nbsp;&nbsp;end
 <br>%<<span>comment</span>>: %<<span>uniquifyDataInterfaces</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>function isPresent = isPresentDI(list, di)
 <br>&nbsp;&nbsp;isPresent = false;
 <br>&nbsp;&nbsp;for idx = 1:numel(list)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;if isequal(list(idx), di)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isPresent = true;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break
 <br>&nbsp;&nbsp;&nbsp;&nbsp;end
 <br>&nbsp;&nbsp;end
 <br>&nbsp; <br>function idx = %<<span>timingSubfcnName</span>>(internalIdVec, internalId)
 <br>&nbsp;idx = find(internalIdVec == internalId);
 <br>&nbsp;if (isempty(idx) || (length(idx) > 1))
 <br>&nbsp;&nbsp;&nbsp;&nbsp;ciMsg = 'Time object cannot be empty'; 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;ciExc = MException('RTW:buildProcess:CodeInfoInternalError',ciMsg);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;throw(ciExc);
 <br>&nbsp;&nbsp;end
 <br>%<<span>comment</span>>: %<<span>timingSubfcnName</span>>
 <br>&nbsp; <br>function %<<span>nameChkfcnName</span>>(ciName, rtwName)
 <br>&nbsp;&nbsp;if (strcmp(ciName, rtwName) ~= 1)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;ciMsg = ['Name mismatch: ', ciName, ' and ', rtwName]; 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;ciExc = MException('RTW:buildProcess:CodeInfoInternalError',ciMsg);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;throw(ciExc);
 <br>&nbsp;&nbsp;end
 <br>%<<span>comment</span>>: %<<span>nameChkfcnName</span>>
 <br>&nbsp; <br>function iData = %<<span>iDataSubfcnName</span>>(iDataVec, iDataName)
 <br>&nbsp;iData = RTW.DataInterface.empty;
 <br>&nbsp;for idxData = 1:numel(iDataVec)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;if strcmp(iDataName, iDataVec(idxData).GraphicalName)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iData(end+1) = iDataVec(idxData);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break
 <br>&nbsp;&nbsp;&nbsp;&nbsp;end
 <br>&nbsp;end
 <br>&nbsp;if (isempty(iData) || (length(iData) > 1))
 <br>&nbsp;&nbsp;&nbsp;&nbsp;ciMsg = 'Internal Data object cannot be empty'; 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;ciExc = MException('RTW:buildProcess:CodeInfoInternalError',ciMsg);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;throw(ciExc);
 <br>&nbsp;&nbsp;end
 <br>%<<span>comment</span>>: %<<span>iDataSubfcnName</span>>
 <br>&nbsp; <br>function iData = %<<span>iDataSubfcnVariableName</span>>(iDataVec, iDataVariableName)
 <br>&nbsp;iData = RTW.DataInterface.empty;
 <br>&nbsp;for idxData = 1:numel(iDataVec)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;if strcmp(iDataVariableName, iDataVec(idxData).Implementation.VariableName)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iData = iDataVec(idxData);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break
 <br>&nbsp;&nbsp;&nbsp;&nbsp;end
 <br>&nbsp;end
 <br>&nbsp;if isempty(iData)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;ciMsg = 'Internal Data object cannot be empty'; 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;ciExc = MException('RTW:buildProcess:CodeInfoInternalError',ciMsg);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;throw(ciExc);
 <br>&nbsp;&nbsp;end
 <br>%<<span>comment</span>>: %<<span>iDataSubfcnVariableName</span>>
 <br>&nbsp; <br>function codeInfo = modifyCodeInfoForSubsystemBuild(ss, codeInfo, wr)
 <br><span class="tlc_if">%if</span> rightClickBuildFeature==0
 <br><span class="tlc_assign">%assign</span> comment = "% Extract Subsystem Build Map from AtticData"
 <br>%<<span>comment</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;Subsystem_Build_Mapping = rtwprivate('rtwattic','getSIDMap');
 <br>&nbsp; <br><span class="tlc_assign">%assign</span> comment = "% Parameters"
 <br>%<<span>comment</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;for i = 1:length(codeInfo.Parameters)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sid = codeInfo.Parameters(i).SID;        
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sid = Simulink.ID.getSubsystemBuildSID(sid,ss, Subsystem_Build_Mapping);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codeInfo.Parameters(i).SID = sid;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wr.updateSIDForSubsystemBuild("Parameter", i, sid, codeInfo.Parameters(i));
 <br>&nbsp;&nbsp;&nbsp;&nbsp;end
 <br>&nbsp; <br><span class="tlc_assign">%assign</span> comment = "% Data Stores"
 <br>%<<span>comment</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for i = 1:length(codeInfo.DataStores)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sid = codeInfo.DataStores(i).SID;         
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sid = Simulink.ID.getSubsystemBuildSID(sid,ss, Subsystem_Build_Mapping);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codeInfo.DataStores(i).SID = sid;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wr.updateSIDForSubsystemBuild("DataStore", i, sid);
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end
 <br>&nbsp; <br><span class="tlc_assign">%assign</span> comment = "% Inports"
 <br>%<<span>comment</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;for i = 1:length(codeInfo.Inports)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sid = codeInfo.Inports(i).SID;
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sid = Simulink.ID.getSubsystemBuildSID(sid,ss, Subsystem_Build_Mapping);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codeInfo.Inports(i).SID = sid;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wr.updateSIDForSubsystemBuild("Inport", i, sid);
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;end
 <br>&nbsp; <br><span class="tlc_assign">%assign</span> comment = "% Outports"
 <br>%<<span>comment</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;for i = 1:length(codeInfo.Outports)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sid = codeInfo.Outports(i).SID;
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sid = Simulink.ID.getSubsystemBuildSID(sid,ss, Subsystem_Build_Mapping);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codeInfo.Outports(i).SID = sid;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wr.updateSIDForSubsystemBuild("Outport", i, sid);
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;end    
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br><span class="tlc_closefile">%closefile</span> ModelCI
 <br>&nbsp; <br><span class="tlc_endif">%endif</span>  <span class="tlc_comment">%% _CIINFO_</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>[EOF]<span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfo.html">codeinfo.tlc</a>
</span> <br></body></html>