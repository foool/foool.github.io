<html>
<head>

<style>
p {
    color : black; font-family:courier; font-size: 80%;
}
body {
    line-height: 120%; font-family:courier; font-zize:60%;
}
.tlc_func {color : blue; font-weight: bold; font-size:120%;}
.tlc_comment {color : #9aa;}
.tlc_if {color: green;}.tlc_assign {color: green;}.tlc_each {color: green;}.tlc_foreach {color: green;}.tlc_endif {color: green;}.tlc_switch {color: green;}.tlc_case {color: green;}.tlc_return {color: green;}.tlc_elseif {color: green;}.tlc_else {color: green;}.tlc_assert {color: green;}.tlc_endwith {color: green;}.tlc_endforeach {color: green;}.tlc_generatefile {color: green;}.tlc_includepath {color: green;}.tlc_include {color: green;}.tlc_sprintf {color: green;}.tlc_while {color: green;}.tlc_endwhile {color: green;}.tlc_default {color: green;}.tlc_createrecord {color: green;}.tlc_mergerecord {color: green;}.tlc_language {color: green;}.tlc_roll {color: green;}.tlc_endroll {color: green;}.tlc_with {color: green;}.tlc_selectfile {color: green;}.tlc_openfile {color: green;}.tlc_closefile {color: green;}.tlc_def {color: green;}.tlc_undef {color: green;}.tlc_realformat {color: green;}.tlc_endswitch {color: green;}.tlc_addtorecord {color: green;}.tlc_break {color: green;}
.tlc_bifunc {color: brown;}
.tlc_fkw {color:blue; font-weight: 800;}
.tlc_output {color:#FFF; font-style:italic;}
.tlc_mchar {color:purple;}
</style>

</head>
<body>
<span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Copyright<span style="padding-left:9.5px"></span>1994-2012<span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>MathWorks,<span style="padding-left:9.5px"></span>Inc.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Library<span style="padding-left:9.5px"></span>that<span style="padding-left:9.5px"></span>provides<span style="padding-left:9.5px"></span>hooks<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>targets<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>specify<span style="padding-left:9.5px"></span>profiling<span style="padding-left:9.5px"></span>code.
</span> <br><span class="tlc_comment">%%
</span> <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>What<span style="padding-left:9.5px"></span>profiling<span style="padding-left:9.5px"></span>hooks<span style="padding-left:9.5px"></span>do<span style="padding-left:9.5px"></span>we<span style="padding-left:9.5px"></span>provide?
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>-----------------------------------
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>For<span style="padding-left:9.5px"></span>any<span style="padding-left:9.5px"></span>target,<span style="padding-left:9.5px"></span>we<span style="padding-left:9.5px"></span>provide<span style="padding-left:9.5px"></span>hooks<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>adding<span style="padding-left:9.5px"></span>profiling<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>to
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>various<span style="padding-left:9.5px"></span>sections<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>generated<span style="padding-left:9.5px"></span>code.<span style="padding-left:9.5px"></span>These<span style="padding-left:9.5px"></span>various<span style="padding-left:9.5px"></span>hooks<span style="padding-left:9.5px"></span>are
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>as<span style="padding-left:9.5px"></span>follows:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>Hook<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>add<span style="padding-left:9.5px"></span>header<span style="padding-left:9.5px"></span>file(s)<span style="padding-left:9.5px"></span>which<span style="padding-left:9.5px"></span>contains<span style="padding-left:9.5px"></span>profiling<span style="padding-left:9.5px"></span>function
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>declarations
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>Hook<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>add<span style="padding-left:9.5px"></span>typedefs<span style="padding-left:9.5px"></span>that<span style="padding-left:9.5px"></span>support<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>profiler
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>Hook<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>create<span style="padding-left:9.5px"></span>global<span style="padding-left:9.5px"></span>variables<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>profiler<span style="padding-left:9.5px"></span>objects
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>Hook<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>add<span style="padding-left:9.5px"></span>global<span style="padding-left:9.5px"></span>extern<span style="padding-left:9.5px"></span>declarations<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>profiler<span style="padding-left:9.5px"></span>objects
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>Hook<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>add<span style="padding-left:9.5px"></span>declarations<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>profiler<span style="padding-left:9.5px"></span>variables<span style="padding-left:9.5px"></span>within<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>scope<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>System's<span style="padding-left:9.5px"></span>Output/Update/OutputUpdate/Derivatives
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>function
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>Hook<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>add<span style="padding-left:9.5px"></span>functionality<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>starting<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>profile<span style="padding-left:9.5px"></span>operation
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>at<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>beginning<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>segment<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>System's
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Output/Update/OutputUpdate/Derivatives<span style="padding-left:9.5px"></span>function
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>Hook<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>add<span style="padding-left:9.5px"></span>functionality<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>ending<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>profile<span style="padding-left:9.5px"></span>operation
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>at<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>end<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>segment<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>System's
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Output/Update/OutputUpdate/Derivatives<span style="padding-left:9.5px"></span>function
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>Hook<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>tabulate<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>profiler<span style="padding-left:9.5px"></span>results<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>terminate<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>system.
</span> <br><span class="tlc_comment">%%
</span> <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>How<span style="padding-left:9.5px"></span>do<span style="padding-left:9.5px"></span>you<span style="padding-left:9.5px"></span>use<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>profiling<span style="padding-left:9.5px"></span>hooks<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>your<span style="padding-left:9.5px"></span>target?
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>--------------------------------------------------
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>1.<span style="padding-left:9.5px"></span>For<span style="padding-left:9.5px"></span>your<span style="padding-left:9.5px"></span>target,<span style="padding-left:9.5px"></span>create<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>TLC<span style="padding-left:9.5px"></span>file<span style="padding-left:9.5px"></span>containing<span style="padding-left:9.5px"></span>functions<span style="padding-left:9.5px"></span>that<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>are<span style="padding-left:9.5px"></span>written<span style="padding-left:9.5px"></span>according<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>format<span style="padding-left:9.5px"></span>specified<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>Step<span style="padding-left:9.5px"></span>3.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>2.<span style="padding-left:9.5px"></span>In<span style="padding-left:9.5px"></span>your<span style="padding-left:9.5px"></span>target.tlc<span style="padding-left:9.5px"></span>file,<span style="padding-left:9.5px"></span>create<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>global<span style="padding-left:9.5px"></span>variable<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>'ProfilerTLC'<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>assign<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>it<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>name<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>your<span style="padding-left:9.5px"></span>profiling
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>TLC<span style="padding-left:9.5px"></span>file.<span style="padding-left:9.5px"></span>To<span style="padding-left:9.5px"></span>turn<span style="padding-left:9.5px"></span>profiling<span style="padding-left:9.5px"></span>On/Off<span style="padding-left:9.5px"></span>from<span style="padding-left:9.5px"></span>your<span style="padding-left:9.5px"></span>target<span style="padding-left:9.5px"></span>TLC
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>file,<span style="padding-left:9.5px"></span>use<span style="padding-left:9.5px"></span>another<span style="padding-left:9.5px"></span>global<span style="padding-left:9.5px"></span>called<span style="padding-left:9.5px"></span>'ProfileGenCode'.<span style="padding-left:9.5px"></span>Make<span style="padding-left:9.5px"></span>this
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>variable<span style="padding-left:9.5px"></span>have<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>value<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>'TLC_TRUE'<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>turn<span style="padding-left:9.5px"></span>on<span style="padding-left:9.5px"></span>profiling.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>3.<span style="padding-left:9.5px"></span>Format<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>target-specific<span style="padding-left:9.5px"></span>profiling<span style="padding-left:9.5px"></span>TLC<span style="padding-left:9.5px"></span>file:
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Functions<span style="padding-left:9.5px"></span>section<span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>In<span style="padding-left:9.5px"></span>this<span style="padding-left:9.5px"></span>section,<span style="padding-left:9.5px"></span>you<span style="padding-left:9.5px"></span>should<span style="padding-left:9.5px"></span>implement<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>TLC<span style="padding-left:9.5px"></span>functions
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>corresponding<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>one<span style="padding-left:9.5px"></span>or<span style="padding-left:9.5px"></span>more<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>hooks<span style="padding-left:9.5px"></span>specified
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>above.<span style="padding-left:9.5px"></span>Each<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>written<span style="padding-left:9.5px"></span>with<span style="padding-left:9.5px"></span>pre-determined<span style="padding-left:9.5px"></span>inputs
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>outputs.<span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>functions<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>their<span style="padding-left:9.5px"></span>output<span style="padding-left:9.5px"></span>type<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>specified
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>below:
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Function<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>InputArgs<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>OutputType<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>-----------------------------------------------------------
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>ProfHeaders<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>void<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Return<span style="padding-left:9.5px"></span>array<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>header<span style="padding-left:9.5px"></span>file<span style="padding-left:9.5px"></span>names
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>ProfTypedefs<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>void<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Output<span style="padding-left:9.5px"></span>typedefs
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>ProfGlobalData<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>system<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Output<span style="padding-left:9.5px"></span>global<span style="padding-left:9.5px"></span>data<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>given<span style="padding-left:9.5px"></span>system<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>ProfExternDataDecls<span style="padding-left:9.5px"></span>system<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Output<span style="padding-left:9.5px"></span>extern<span style="padding-left:9.5px"></span>decls<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>given<span style="padding-left:9.5px"></span>system<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>ProfSysDecl<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>system<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Output<span style="padding-left:9.5px"></span>declarations<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>given<span style="padding-left:9.5px"></span>system
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>functionType<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>given<span style="padding-left:9.5px"></span>functionType
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>ProfSysStart<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>system<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Output<span style="padding-left:9.5px"></span>profiler<span style="padding-left:9.5px"></span>start<span style="padding-left:9.5px"></span>commands<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>functionType<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>given<span style="padding-left:9.5px"></span>system<span style="padding-left:9.5px"></span>&amp;<span style="padding-left:9.5px"></span>functionType
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>ProfSysEnd<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>system<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Output<span style="padding-left:9.5px"></span>profiler<span style="padding-left:9.5px"></span>end<span style="padding-left:9.5px"></span>commands<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>functionType<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>given<span style="padding-left:9.5px"></span>system<span style="padding-left:9.5px"></span>&amp;<span style="padding-left:9.5px"></span>functionType
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>ProfSysTerminate<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>system<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Output<span style="padding-left:9.5px"></span>profiler<span style="padding-left:9.5px"></span>termination<span style="padding-left:9.5px"></span>code
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>given<span style="padding-left:9.5px"></span>system
</span> <br>&nbsp; <br><span class="tlc_if">%if</span> <span class="tlc_bifunc">EXISTS</span>("_PROF_") == 0
 <br><span class="tlc_assign">%assign</span> _PROF_ = 1
 <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="SLibSetupProf" class="tlc_func">SLibSetupProf</a>() <span class="tlc_fkw">void</span>
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">EXISTS</span>(ProfileIncludePath) &amp;&amp; ProfileIncludePath != ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_addincludepath">%addincludepath</span> ProfileIncludePath
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">EXISTS</span>(ProfileGenCode) &amp;&amp; ProfileGenCode &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_bifunc">EXISTS</span>(ProfilerTLC)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">FILE_EXISTS</span>(ProfilerTLC)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmpStr = "fileparts(which('%<<span>ProfilerTLC</span>>'))"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fPath  = <span class="tlc_bifunc">FEVAL</span>("eval", tmpStr)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISEMPTY</span>(fPath)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> errTxt = "%<<span>ProfilerTLC</span>> does not exist. You must add " ... 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;"this file to the MATLAB path"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibReportError">LibReportError</a>(errTxt)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_addincludepath">%addincludepath</span> fPath
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#IsModelReferenceSimTarget">IsModelReferenceSimTarget</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::ProfilerTLC = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> warnMsg = "The Model Reference simulation target does not support " ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;"profiling.  No profiling code is generated"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_warning">%warning</span> %<<span>warnMsg</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_generatefile">%generatefile</span> ProfilerType "%<<span>ProfilerTLC</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::ProfilerTLC = ""
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_createrecord">%createrecord</span> ::ProfilerRecord {   /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;Type        "ProfilerType";  /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;ProfTLCFile ProfilerTLC      /
 <br>&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp; <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp;&nbsp;&nbsp; <br><span class="tlc_fkw">%function</span> <a id="ProfilerFunctionExists" class="tlc_func">ProfilerFunctionExists</a>(fcnName) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> retVal = TLC_FALSE
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> ::ProfilerRecord.ProfTLCFile != ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> retVal = <span class="tlc_bifunc">GENERATE_FUNCTION_EXISTS</span>(::ProfilerRecord, fcnName)
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> retVal
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="GetNumEffectiveSystems" class="tlc_func">GetNumEffectiveSystems</a>()
 <br>&nbsp;&nbsp;<span class="tlc_with">%with</span> ::CompiledModel
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#IsModelReferenceTarget">IsModelReferenceTarget</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numSS = NumSystems-1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numSS = NumSystems
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;<span class="tlc_endwith">%endwith</span>
 <br>&nbsp;<span class="tlc_return">%return</span> numSS
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>SLibGetProfCache<span style="padding-left:9.5px"></span>=============================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Returns<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>ProfCache<span style="padding-left:9.5px"></span>record<span style="padding-left:9.5px"></span>if<span style="padding-left:9.5px"></span>it<span style="padding-left:9.5px"></span>exists,<span style="padding-left:9.5px"></span>empty<span style="padding-left:9.5px"></span>string<span style="padding-left:9.5px"></span>otherwise
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>SLibGetProfCache<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>SLibSetProfCache<span style="padding-left:9.5px"></span>are<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>passing<span style="padding-left:9.5px"></span>profiler<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>related<span style="padding-left:9.5px"></span>information<span style="padding-left:9.5px"></span>between<span style="padding-left:9.5px"></span>functions.<span style="padding-left:9.5px"></span>For<span style="padding-left:9.5px"></span>example,<span style="padding-left:9.5px"></span>we<span style="padding-left:9.5px"></span>can<span style="padding-left:9.5px"></span>pass<span style="padding-left:9.5px"></span>global<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>variable<span style="padding-left:9.5px"></span>names<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>profiler<span style="padding-left:9.5px"></span>objects<span style="padding-left:9.5px"></span>between<span style="padding-left:9.5px"></span>ProfGlbExtData<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>ProfGlbData
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>functions<span style="padding-left:9.5px"></span>using<span style="padding-left:9.5px"></span>this<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>pair.<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibGetProfCache" class="tlc_func">SLibGetProfCache</a>(system) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibReportWarning">LibReportWarning</a>("SLibGetProfCache is obsolete. Use LibGetProfCache instead.")>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(system,"ProfCache")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> system.ProfCache
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> ""
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>DocFunction{Advanced<span style="padding-left:9.5px"></span>Functions}:<span style="padding-left:9.5px"></span>LibGetProfCache<span style="padding-left:9.5px"></span>============================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Get<span style="padding-left:9.5px"></span>profiler<span style="padding-left:9.5px"></span>cache.<span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>passing<span style="padding-left:9.5px"></span>profiler<span style="padding-left:9.5px"></span>related<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>such<span style="padding-left:9.5px"></span>as<span style="padding-left:9.5px"></span>global<span style="padding-left:9.5px"></span>variable<span style="padding-left:9.5px"></span>names<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>profiler<span style="padding-left:9.5px"></span>objects<span style="padding-left:9.5px"></span>between<span style="padding-left:9.5px"></span>TLC<span style="padding-left:9.5px"></span>functions<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>related<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>profiling.<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Call<span style="padding-left:9.5px"></span>syntax:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>%assign<span style="padding-left:9.5px"></span>rec<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/prof.html#LibGetProfCache">LibGetProfCache</a>(system)
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Returns:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Returns<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>profiler<span style="padding-left:9.5px"></span>cache.
</span> <br><span class="tlc_fkw">%function</span> <a id="LibGetProfCache" class="tlc_func">LibGetProfCache</a>(system) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(system,"ProfCache")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> system.ProfCache
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> ""
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>SLibSetProfCache<span style="padding-left:9.5px"></span>=============================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Add<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>ProfCache<span style="padding-left:9.5px"></span>record<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>system
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibSetProfCache" class="tlc_func">SLibSetProfCache</a>(system, rec) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibReportWarning">LibReportWarning</a>("SLibSetProfCache is obsolete. Use LibSetProfCache instead.")>
 <br>&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_addtorecord">%addtorecord</span> system ProfCache rec
 <br>&nbsp;&nbsp;&nbsp; <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>DocFunction{Advanced<span style="padding-left:9.5px"></span>Functions}:<span style="padding-left:9.5px"></span>LibSetProfCache<span style="padding-left:9.5px"></span>============================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Add<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>record<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>profiler<span style="padding-left:9.5px"></span>cache.<span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>passing<span style="padding-left:9.5px"></span>profiler<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>related<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>such<span style="padding-left:9.5px"></span>as<span style="padding-left:9.5px"></span>global<span style="padding-left:9.5px"></span>variable<span style="padding-left:9.5px"></span>names<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>profiler<span style="padding-left:9.5px"></span>objects<span style="padding-left:9.5px"></span>between<span style="padding-left:9.5px"></span>TLC<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>functions<span style="padding-left:9.5px"></span>related<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>profiling.<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Call<span style="padding-left:9.5px"></span>syntax:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/prof.html#LibSetProfCache">LibSetProfCache</a>(system,<span style="padding-left:9.5px"></span>rec)
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="LibSetProfCache" class="tlc_func">LibSetProfCache</a>(system, rec) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_addtorecord">%addtorecord</span> system ProfCache rec
 <br>&nbsp;&nbsp;&nbsp; <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>SLibGenProfHeaders<span style="padding-left:9.5px"></span>============================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Generate<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>including<span style="padding-left:9.5px"></span>profiling<span style="padding-left:9.5px"></span>header<span style="padding-left:9.5px"></span>files<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibGenProfHeaders" class="tlc_func">SLibGenProfHeaders</a>() <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> hdr = ""
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/prof.html#ProfilerFunctionExists">ProfilerFunctionExists</a>("ProfilerHeaders")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> hdr = <span class="tlc_bifunc">GENERATE</span>(::ProfilerRecord, "ProfilerHeaders")
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(hdr)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% hdr contains an array of header files</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> s = <span class="tlc_bifunc">SIZE</span>(hdr)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numHdr = s[1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> hIdx = numHdr
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/cachelib.html#LibAddToCommonIncludes">LibAddToCommonIncludes</a>(hdr[hIdx])>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>SLibGenProfTypeDef<span style="padding-left:9.5px"></span>============================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Generate<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>typedefs<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>profiler<span style="padding-left:9.5px"></span>objects
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibGenProfTypeDef" class="tlc_func">SLibGenProfTypeDef</a>() <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/prof.html#ProfilerFunctionExists">ProfilerFunctionExists</a>("ProfilerTypeDefs")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmp = <span class="tlc_bifunc">GENERATE</span>(::ProfilerRecord, "ProfilerTypeDefs")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmp</span>>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>SLibGenProfGlbExtData<span style="padding-left:9.5px"></span>============================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Generate<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>global<span style="padding-left:9.5px"></span>extern<span style="padding-left:9.5px"></span>variable<span style="padding-left:9.5px"></span>declarations<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>profiler<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>objects
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibGenProfGlbExtData" class="tlc_func">SLibGenProfGlbExtData</a>() <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/prof.html#ProfilerFunctionExists">ProfilerFunctionExists</a>("ProfilerGlobalExterns")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_with">%with</span> ::CompiledModel
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% For each system in ::CompiledModel, we check if the AddProfilerCode </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% option is turned on, if so, generate code for global extern variable </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% declarations of profiler objects</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numSS = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/prof.html#GetNumEffectiveSystems">GetNumEffectiveSystems</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = numSS
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sys = System[idx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmp = <span class="tlc_bifunc">GENERATE</span>(::ProfilerRecord, "ProfilerGlobalExterns", sys)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmp</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>SLibGenProfGlbData<span style="padding-left:9.5px"></span>============================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Generate<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>creating<span style="padding-left:9.5px"></span>global<span style="padding-left:9.5px"></span>variables<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>profiler<span style="padding-left:9.5px"></span>objects
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibGenProfGlbData" class="tlc_func">SLibGenProfGlbData</a>() <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span>  <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/prof.html#ProfilerFunctionExists">ProfilerFunctionExists</a>("ProfilerGlobalData")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_with">%with</span> ::CompiledModel
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% For each system in ::CompiledModel, we check if the AddProfilerCode </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% option is turned on, if so, generate code for creating global variables</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% of profiler objects</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numSS = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/prof.html#GetNumEffectiveSystems">GetNumEffectiveSystems</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = numSS
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sys = System[idx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmp = <span class="tlc_bifunc">GENERATE</span>(::ProfilerRecord, "ProfilerGlobalData", sys)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmp</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>SLibGenProfSysDeclare<span style="padding-left:9.5px"></span>============================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Generate<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>adding<span style="padding-left:9.5px"></span>declarations<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>profiler<span style="padding-left:9.5px"></span>variables<span style="padding-left:9.5px"></span>within<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>scope<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>System's<span style="padding-left:9.5px"></span>fcn<span style="padding-left:9.5px"></span>(Output/Update/OutputUpdate/Derivatives)<span style="padding-left:9.5px"></span>function
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibGenProfSysDeclare" class="tlc_func">SLibGenProfSysDeclare</a>(system, fcn) 
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span>  <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/prof.html#ProfilerFunctionExists">ProfilerFunctionExists</a>("ProfilerSystemDecls")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> tmpBuff
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmp = <span class="tlc_bifunc">GENERATE</span>(::ProfilerRecord, "ProfilerSystemDecls", system, fcn)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% If InLine option is turned on, we add an extra { in generated code, </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% but only if there is anything to be emitted</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemIsInlined">LibSystemIsInlined</a>(system) &amp;&amp; !<span class="tlc_bifunc">ISEMPTY</span>(tmp)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>  
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmp</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> tmpBuff
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> tmpBuff
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> ""
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>SLibGenProfSysStart<span style="padding-left:9.5px"></span>============================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Generate<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>starting<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>profile<span style="padding-left:9.5px"></span>operation<span style="padding-left:9.5px"></span>at<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>beginning<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>segment<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>System's<span style="padding-left:9.5px"></span>fcn<span style="padding-left:9.5px"></span>(Output/Update/OutputUpdate/Derivatives)<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>function
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibGenProfSysStart" class="tlc_func">SLibGenProfSysStart</a>(system, fcn) 
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/prof.html#ProfilerFunctionExists">ProfilerFunctionExists</a>("ProfilerSystemStart")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> tmpBuff
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmp = <span class="tlc_bifunc">GENERATE</span>(::ProfilerRecord, "ProfilerSystemStart", system, fcn)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmp</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> tmpBuff
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> tmpBuff
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> ""
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>SLibGenProfSysEnd<span style="padding-left:9.5px"></span>============================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Generate<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>ending<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>profile<span style="padding-left:9.5px"></span>operation<span style="padding-left:9.5px"></span>at<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>beginning<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>segment<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>System's<span style="padding-left:9.5px"></span>fcn<span style="padding-left:9.5px"></span>(Output/Update/OutputUpdate/Derivatives)<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>function
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibGenProfSysEnd" class="tlc_func">SLibGenProfSysEnd</a>(system, fcn) 
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/prof.html#ProfilerFunctionExists">ProfilerFunctionExists</a>("ProfilerSystemFinish")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> tmpBuff
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmp = <span class="tlc_bifunc">GENERATE</span>(::ProfilerRecord, "ProfilerSystemFinish", system, fcn)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmp</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% If InLine option is turned on, we add } in the generated code,</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% but only if there was anything emitted in the decls section. Easiest</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% thing to do is figure it out again.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemIsInlined">LibSystemIsInlined</a>(system)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmp = <span class="tlc_bifunc">GENERATE</span>(::ProfilerRecord, "ProfilerSystemDecls", system, fcn)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(tmp)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> tmpBuff
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> tmpBuff
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> ""
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>SLibGenProfSysTerminate<span style="padding-left:9.5px"></span>========================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Generate<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>tabulating<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>profiler<span style="padding-left:9.5px"></span>results<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>terminate<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>system<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibGenProfSysTerminate" class="tlc_func">SLibGenProfSysTerminate</a>(system) 
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/prof.html#ProfilerFunctionExists">ProfilerFunctionExists</a>("ProfilerSystemTerminate")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> tmpBuff
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#IsBaseSystem">IsBaseSystem</a>(system)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_with">%with</span> ::CompiledModel
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numSS = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/prof.html#GetNumEffectiveSystems">GetNumEffectiveSystems</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx =  numSS
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sys = System[idx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmp = <span class="tlc_bifunc">GENERATE</span>(::ProfilerRecord, "ProfilerSystemTerminate", sys)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmp</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> tmpBuff
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> tmpBuff
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> ""
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_endif">%endif</span> <span class="tlc_comment">%% _PROF_</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>[EOF]<span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/prof.html">prof.tlc</a>
</span> <br></body></html>