<html>
<head>

<style>
p {
    color : black; font-family:courier; font-size: 80%;
}
body {
    line-height: 120%; font-family:courier; font-zize:60%;
}
.tlc_func {color : blue; font-weight: bold; font-size:120%;}
.tlc_comment {color : #9aa;}
.tlc_if {color: green;}.tlc_assign {color: green;}.tlc_each {color: green;}.tlc_foreach {color: green;}.tlc_endif {color: green;}.tlc_switch {color: green;}.tlc_case {color: green;}.tlc_return {color: green;}.tlc_elseif {color: green;}.tlc_else {color: green;}.tlc_assert {color: green;}.tlc_endwith {color: green;}.tlc_endforeach {color: green;}.tlc_generatefile {color: green;}.tlc_includepath {color: green;}.tlc_include {color: green;}.tlc_sprintf {color: green;}.tlc_while {color: green;}.tlc_endwhile {color: green;}.tlc_default {color: green;}.tlc_createrecord {color: green;}.tlc_mergerecord {color: green;}.tlc_language {color: green;}.tlc_roll {color: green;}.tlc_endroll {color: green;}.tlc_with {color: green;}.tlc_selectfile {color: green;}.tlc_openfile {color: green;}.tlc_closefile {color: green;}.tlc_def {color: green;}.tlc_undef {color: green;}.tlc_realformat {color: green;}.tlc_endswitch {color: green;}.tlc_addtorecord {color: green;}.tlc_break {color: green;}
.tlc_bifunc {color: brown;}
.tlc_fkw {color:blue; font-weight: 800;}
.tlc_output {color:#FFF; font-style:italic;}
.tlc_mchar {color:purple;}
</style>

</head>
<body>
<span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Copyright<span style="padding-left:9.5px"></span>1994-2019<span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>MathWorks,<span style="padding-left:9.5px"></span>Inc.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>system<span style="padding-left:9.5px"></span>TLC<span style="padding-left:9.5px"></span>library<span style="padding-left:9.5px"></span>file<span style="padding-left:9.5px"></span>contains<span style="padding-left:9.5px"></span>functions<span style="padding-left:9.5px"></span>that<span style="padding-left:9.5px"></span>are<span style="padding-left:9.5px"></span>common
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>between<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>different<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>generators<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>producing<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>model's
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>dwork<span style="padding-left:9.5px"></span>structure<span style="padding-left:9.5px"></span>definition.
</span> <br>&nbsp; <br><span class="tlc_if">%if</span> <span class="tlc_bifunc">EXISTS</span>("_COMMONHDR_DWORKLIB_") == 0
 <br><span class="tlc_assign">%assign</span> _COMMONHDR_DWORKLIB_ = 1
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>============================================================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Create<span style="padding-left:9.5px"></span>global<span style="padding-left:9.5px"></span>cache<span style="padding-left:9.5px"></span>variables<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>hold<span style="padding-left:9.5px"></span>each<span style="padding-left:9.5px"></span>structure<span style="padding-left:9.5px"></span>definition
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>============================================================================
</span> <br>&nbsp; <br>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibAddToCompiledModel">LibAddToCompiledModel</a>("DWorkStructDefn", 0)>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>FcnDefineDWorkElement<span style="padding-left:9.5px"></span>=============================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>defines<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>element<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>DWork<span style="padding-left:9.5px"></span>structure.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="FcnDefineDWorkElement" class="tlc_func">FcnDefineDWorkElement</a>(id, dataType, width) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> buffer
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> optWidth = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibOptionalVectorWidth">LibOptionalVectorWidth</a>(width)
 <br>&nbsp;&nbsp;%<<span>dataType</span>>%<<span>id</span>>%<<span>optWidth</span>>;/
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> buffer
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> buffer
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>FcnReportDWorkError<span style="padding-left:9.5px"></span>===============================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstact:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Shared<span style="padding-left:9.5px"></span>error<span style="padding-left:9.5px"></span>message.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="FcnReportDWorkError" class="tlc_func">FcnReportDWorkError</a>(block, dwType, count, width) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> errTxt = "%<<span>dwType</span>> size mismatch detected./n" + /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"  Block requires    : %<<span>width</span>> elements/n" + /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"  Actually generated: %<<span>count</span>> elements/n/n" + /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"This can occur when an inlined s-function defines more/less work /n" + /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"vector elements in TLC than it did in the C-MEX version of the block./n"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibBlockReportError">LibBlockReportError</a>(block,errTxt)>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>FcnDefineDWorkRecord<span style="padding-left:9.5px"></span>==============================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Returns<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>DWork<span style="padding-left:9.5px"></span>substructure<span style="padding-left:9.5px"></span>or<span style="padding-left:9.5px"></span>element<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>block<span style="padding-left:9.5px"></span>depending<span style="padding-left:9.5px"></span>on<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>number
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>declared<span style="padding-left:9.5px"></span>work<span style="padding-left:9.5px"></span>vector<span style="padding-left:9.5px"></span>elements.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="FcnDefineDWorkRecord" class="tlc_func">FcnDefineDWorkRecord</a>(dwRec, dwType, dataType) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> referencedBy = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibReferencedBy">SLibReferencedBy</a>(dwRec)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> traceMarker = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAddBlockTrace">SLibAddBlockTrace</a>(referencedBy)
 <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibTraceBegin">SLibTraceBegin</a>(traceMarker)>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> dwRec.SigSrc[0] < 0 || dwRec.SigSrc[2] < 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_createrecord">%createrecord</span> block { Type "InputPort" ; Num%<<span>dwType</span>>Defines 0 }
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> block = System[dwRec.SigSrc[0]].Block[dwRec.SigSrc[2]]
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dwId  = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(dwRec)
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">GETFIELD</span>(block, "Num%<<span>dwType</span>>Defines") > 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> count = 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;struct {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> i = <span class="tlc_bifunc">GETFIELD</span>(block, "Num%<<span>dwType</span>>Defines")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> def = <span class="tlc_bifunc">GETFIELD</span>(block, "%<<span>dwType</span>>Define")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdr_dworklib.html#FcnDefineDWorkElement">FcnDefineDWorkElement</a>(def[i].Name, dataType, def[i].Width)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> count = count + def[i].Width
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;} %<<span>dwId</span>>; /* %<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibReferencedBy">SLibReferencedBy</a>(dwRec)> */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> count != <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/blocklib.html#SLibDWorkWidth">SLibDWorkWidth</a>(dwRec)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdr_dworklib.html#FcnReportDWorkError">FcnReportDWorkError</a>(block, dwType, count, <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/blocklib.html#SLibDWorkWidth">SLibDWorkWidth</a>(dwRec))>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdr_dworklib.html#FcnDefineDWorkElement">FcnDefineDWorkElement</a>(dwId, dataType, <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/blocklib.html#SLibDWorkWidth">SLibDWorkWidth</a>(dwRec))>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* %<<span>referencedBy</span>> */
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibTraceEnd">SLibTraceEnd</a>(traceMarker)>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>FcnIsDWorkFromMdlBlockInCppClassGenMode<span style="padding-left:9.5px"></span>============================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Returns<span style="padding-left:9.5px"></span>true/false,<span style="padding-left:9.5px"></span>depending<span style="padding-left:9.5px"></span>on<span style="padding-left:9.5px"></span>if<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>DWork<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>from<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>ModelRef
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>block<span style="padding-left:9.5px"></span>whose<span style="padding-left:9.5px"></span>referenced<span style="padding-left:9.5px"></span>model's<span style="padding-left:9.5px"></span>target<span style="padding-left:9.5px"></span>language<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>'C++<span style="padding-left:9.5px"></span>(Encapsulated)'.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="FcnIsDWorkFromMdlBlockInCppClassGenMode" class="tlc_func">FcnIsDWorkFromMdlBlockInCppClassGenMode</a>(dwRec) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> dwRec.SigSrc[0] >= 0 &amp;&amp; dwRec.SigSrc[2] >= 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> blk = System[dwRec.SigSrc[0]].Block[dwRec.SigSrc[2]]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> recIDNum = <span class="tlc_bifunc">IDNUM</span>(dwRec.Name)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> blk.Type != "ModelReference"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> TLC_FALSE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> !<span class="tlc_bifunc">ISFIELD</span>(blk,"MdlRefIsCPPClassGenMode")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> TLC_FALSE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> blk.MdlRefIsCPPClassGenMode &amp;&amp; recIDNum[0] == "InstanceData"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% FcnIsDWorkFromMdlBlockInCppClassGenMode</span>
 <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="FcnGenDWorkDefNotHandledInVarGroup" class="tlc_func">FcnGenDWorkDefNotHandledInVarGroup</a>(dwRec)
 <br>&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assert">%assert</span> dwRec.StorageClass == "Auto" &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;!dwRec.OptimizedAwayInTLC &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;!<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdr_dworklib.html#FcnIsDWorkFromMdlBlockInCppClassGenMode">FcnIsDWorkFromMdlBlockInCppClassGenMode</a>(dwRec)
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> dwRec.SigSrc[0] < 0 || dwRec.SigSrc[2] < 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_createrecord">%createrecord</span> ownerBlk { Type "InputPort" }
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ownerBlk = System[dwRec.SigSrc[0]].Block[dwRec.SigSrc[2]] 
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dataTypeId = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#SLibGetRecordDataTypeId">SLibGetRecordDataTypeId</a>(dwRec)
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> retBuf
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dwId = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(dwRec)
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> dwRec.BitFieldWidth > 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> referencedBy = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibReferencedBy">SLibReferencedBy</a>(dwRec)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> traceMarker = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAddBlockTrace">SLibAddBlockTrace</a>(referencedBy)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibTraceBegin">SLibTraceBegin</a>(traceMarker)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> bitfldtype = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#SLibGetTypeForBitfield">SLibGetTypeForBitfield</a>(dwRec.BitFieldWidth)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>bitfldtype</span>> %<<span>dwId</span>>:%<<span>dwRec.BitFieldWidth</span>>; /* %<<span>referencedBy</span>> */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibTraceEnd">SLibTraceEnd</a>(traceMarker)>
 <br>&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> (dwRec.Origin == "RWORK" || dwRec.Origin == "IWORK" ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;|| dwRec.Origin == "PWORK") 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_switch">%switch</span> dwRec.Origin
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "RWORK"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdr_dworklib.html#FcnDefineDWorkRecord">FcnDefineDWorkRecord</a>(dwRec, "RWork", "real_T ")>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "IWORK"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdr_dworklib.html#FcnDefineDWorkRecord">FcnDefineDWorkRecord</a>(dwRec, "IWork", "int_T ")>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "PWORK"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdr_dworklib.html#FcnDefineDWorkRecord">FcnDefineDWorkRecord</a>(dwRec, "PWork", "void *")>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endswitch">%endswitch</span>
 <br>&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> Accelerator &amp;&amp; ownerBlk.Type == "S-Function" &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;ownerBlk.ParamSettings.Inlined == "no" &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;!<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibIsFundamentalBuiltInDataType">LibIsFundamentalBuiltInDataType</a>(dataTypeId) &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;!dwRec.DWorkForDimSize
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dataType = "char"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> optWidth = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/blocklib.html#SLibDWorkWidth">SLibDWorkWidth</a>(dwRec) * ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetDataTypeSLSizeFromId">LibGetDataTypeSLSizeFromId</a>(dataTypeId)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/blocklib.html#SLibDWorkIsComplex">SLibDWorkIsComplex</a>(dwRec)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> optWidth = optWidth * 2
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>  
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> optWidth = "[%<<span>optWidth</span>>]"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% block traceability</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> referencedBy = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibReferencedBy">SLibReferencedBy</a>(dwRec)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> traceMarker = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAddBlockTrace">SLibAddBlockTrace</a>(referencedBy)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibTraceBegin">SLibTraceBegin</a>(traceMarker)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>dataType</span>> %<<span>dwId</span>>%<<span>optWidth</span>>; /* %<<span>referencedBy</span>> */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibTraceEnd">SLibTraceEnd</a>(traceMarker)>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> retBuf
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> retBuf
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>LibCacheSystemDWorkStructDef<span style="padding-left:9.5px"></span>======================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Caches<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>definition<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>system<span style="padding-left:9.5px"></span>DWork<span style="padding-left:9.5px"></span>structure.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="LibCacheSystemDWorkStructDef" class="tlc_func">LibCacheSystemDWorkStructDef</a>(sysIdx) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#SLibSystemHasOwnDataScope">SLibSystemHasOwnDataScope</a>(System[sysIdx])
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dWorkBuff = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/opaquelib.html#SLibGetSystemDataDefUsingVarGroup">SLibGetSystemDataDefUsingVarGroup</a>(sysIdx,"DWork", TLC_FALSE)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dWorkDef = ""
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> identifierTag = ""
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sysInfo = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#GetSystemNameForComments">GetSystemNameForComments</a>(System[sysIdx])
 <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> comment
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> ::CompiledModel.DWorkAndBlockIOCombined
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Block signals and states (%<::AutoOrDefaultStorageClass> storage) for %<<span>sysInfo</span>> */
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Block states (%<::AutoOrDefaultStorageClass> storage) for %<<span>sysInfo</span>> */
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> comment
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> (sysIdx < (NumSystems-1))
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !GenerateClassInterface || !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#IsModelReferenceBaseSys">IsModelReferenceBaseSys</a>(System[sysIdx])
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> identifier = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/opaquelib.html#FcnSysVarGroupType">FcnSysVarGroupType</a>(System[sysIdx],"DWork")    
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> identifier = ::tDWorkType
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::CompiledModel.DWorkStructDefn = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_bifunc">WHITE_SPACE</span>(dWorkBuff[0])?"":"Nonempty"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> identifier = ::tDWorkType
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> identifierTag = ::CompiledModel.GlobalScope.tDWorkTypeTag
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> dWorkDef
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> dWorkBuff[1] > 0 <span class="tlc_comment">%% number of elements</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>comment</span>>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> nonInlSysIdx = System[sysIdx].NonInlinedParentSystemIdx
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> needToExportDWork = <a href="https://foool.github.io/r2020a/rtw/c/tlc/private_api/system_private_api.html#LibSystemIsReusedLibraryFcn">LibSystemIsReusedLibraryFcn</a>(System[nonInlSysIdx]) || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/servicelib.html#SLibModelHasServicePortDWork">SLibModelHasServicePortDWork</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !needToExportDWork
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#GetHideChildDefineSymbol">GetHideChildDefineSymbol</a>("ifndef")>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpStructDefWithAlignment">SLibDumpStructDefWithAlignment</a>(identifierTag, identifier, dWorkBuff[2], dWorkBuff[0])>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !needToExportDWork
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#GetHideChildDefineSymbol">GetHideChildDefineSymbol</a>("endif")>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> dWorkDef
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/syslib.html#SLibIsSystemTypesModelClassNamespace">SLibIsSystemTypesModelClassNamespace</a>(System[sysIdx])
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/syslib.html#SLibCacheCPPEncapModelData">SLibCacheCPPEncapModelData</a>("Typedefs", dWorkDef)>
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/filepackaginglib.html#SLibCacheSystemCodeToFile">SLibCacheSystemCodeToFile</a>("sys_data_DWork_typedef", System[sysIdx], dWorkDef)>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% LibCacheSystemDWorkStructDef</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>LibCacheNonAutoStorageClassDWorkDefinition<span style="padding-left:9.5px"></span>========================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Cache<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>DWorks<span style="padding-left:9.5px"></span>that<span style="padding-left:9.5px"></span>have<span style="padding-left:9.5px"></span>non-default<span style="padding-left:9.5px"></span>storage<span style="padding-left:9.5px"></span>class.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="LibCacheNonAutoStorageClassDWorkDefinition" class="tlc_func">LibCacheNonAutoStorageClassDWorkDefinition</a>() <span class="tlc_fkw">void</span>
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numDWorks = ::CompiledModel.DWorks.NumDWorks
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> numDWorks == 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::CompiledModel.ExportedGlobalDWorkDefn = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::CompiledModel.ImportedExternDWorkDefn = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::CompiledModel.ImportedExternPointerDWorkDefn = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> ""
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> exportedGlobalsBuffer
 <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> importedExternBuffer
 <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> importedExternPointerBuffer
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> dwIdx = numDWorks
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dwRec = ::CompiledModel.DWorks.DWork[dwIdx]
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span>  dwRec.StorageClass == "Auto" 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_continue">%continue</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_switch">%switch</span> dwRec.StorageClass
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ExportedGlobal"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_selectfile">%selectfile</span> exportedGlobalsBuffer
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ImportedExtern"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_selectfile">%selectfile</span> importedExternBuffer
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ImportedExternPointer"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_selectfile">%selectfile</span> importedExternPointerBuffer
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "Custom"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_default">%default</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> errTxt = "Should not get here"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibReportFatalError">LibReportFatalError</a>(errTxt)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endswitch">%endswitch</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdr_extiolib.html#FcnGenerateBlockDWorkExternalDefinition">FcnGenerateBlockDWorkExternalDefinition</a>(dwRec)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> dwRec.Padding != 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> optPadWidth = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibOptionalVectorWidth">LibOptionalVectorWidth</a>(dwRec.Padding)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dwId = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(dwRec)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char pad_%<<span>dwId</span>>%<<span>optPadWidth</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> exportedGlobalsBuffer
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> importedExternBuffer
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> importedExternPointerBuffer
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::CompiledModel.ExportedGlobalDWorkDefn = exportedGlobalsBuffer
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::CompiledModel.ImportedExternDWorkDefn = importedExternBuffer
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::CompiledModel.ImportedExternPointerDWorkDefn = importedExternPointerBuffer
 <br>&nbsp;&nbsp;&nbsp; <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% LibCacheNonAutoStorageClassDWorkDefinition</span>
 <br>&nbsp; <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>LibDWorkStructIsEmpty<span style="padding-left:9.5px"></span>============================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Does<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>root<span style="padding-left:9.5px"></span>system<span style="padding-left:9.5px"></span>have<span style="padding-left:9.5px"></span>any<span style="padding-left:9.5px"></span>DWorks?
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="LibDWorkStructIsEmpty" class="tlc_func">LibDWorkStructIsEmpty</a>() <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> baseSysIdx = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#GetBaseSystemIdx">GetBaseSystemIdx</a>()
 <br>&nbsp;&nbsp;<span class="tlc_assert">%assert</span> (<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/cachelib.html#LibGetFieldSet">LibGetFieldSet</a>(System[baseSysIdx], "HasDWorkArg") == 1)
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> (System[baseSysIdx].HasDWorkArg == 0)
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>SLibDModelWorkStructIsEmpty<span style="padding-left:9.5px"></span>=======================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Does<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>model<span style="padding-left:9.5px"></span>have<span style="padding-left:9.5px"></span>any<span style="padding-left:9.5px"></span>DWorks?
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibModelDWorkStructIsEmpty" class="tlc_func">SLibModelDWorkStructIsEmpty</a>() <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#IsModelReferenceTarget">IsModelReferenceTarget</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdr_dworklib.html#LibDWorkStructIsEmpty">LibDWorkStructIsEmpty</a>()
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> (::CompiledModel.HasDWorkArg == 0)
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>SLibGetDataStoreForHasBeenInitIdentifier<span style="padding-left:9.5px"></span>===================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Return<span style="padding-left:9.5px"></span>name<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>shared<span style="padding-left:9.5px"></span>local<span style="padding-left:9.5px"></span>data<span style="padding-left:9.5px"></span>store<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>preventing<span style="padding-left:9.5px"></span>re-initialization
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>shared<span style="padding-left:9.5px"></span>data.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibGetDataStoreForHasBeenInitIdentifier" class="tlc_func">SLibGetDataStoreForHasBeenInitIdentifier</a>() <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISFIELD</span>(::CompiledModel.DWorks, "SharedLocalDSMForHasBeenInit_Identifier")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_addtorecord">%addtorecord</span> ::CompiledModel.DWorks SharedLocalDSMForHasBeenInit_Identifier ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> dwIdx = ::CompiledModel.DWorks.NumDWorks
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dwRec = ::CompiledModel.DWorks.DWork[dwIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (dwRec.SharedLocalDSMForHasBeenInit)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> id = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(dwRec)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (<span class="tlc_bifunc">ISFIELD</span>(dwRec, "VarGroupIdx"))
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> baseSysIdx = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#GetBaseSystemIdx">GetBaseSystemIdx</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> path = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/opaquelib.html#SLibCGIRVarGroupPath">SLibCGIRVarGroupPath</a>(dwRec.VarGroupIdx[0], baseSysIdx, TLC_FALSE)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> id = path + id
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::CompiledModel.DWorks.SharedLocalDSMForHasBeenInit_Identifier = id
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> ::CompiledModel.DWorks.SharedLocalDSMForHasBeenInit_Identifier
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_endif">%endif</span> <span class="tlc_comment">%%  _COMMONHDR_DWORKLIB_</span>
 <br></body></html>