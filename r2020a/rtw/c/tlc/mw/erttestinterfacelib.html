<html>
<head>

<style>
p {
    color : black; font-family:courier; font-size: 80%;
}
body {
    line-height: 120%; font-family:courier; font-zize:60%;
}
.tlc_func {color : blue; font-weight: bold; font-size:120%;}
.tlc_comment {color : #9aa;}
.tlc_if {color: green;}.tlc_assign {color: green;}.tlc_each {color: green;}.tlc_foreach {color: green;}.tlc_endif {color: green;}.tlc_switch {color: green;}.tlc_case {color: green;}.tlc_return {color: green;}.tlc_elseif {color: green;}.tlc_else {color: green;}.tlc_assert {color: green;}.tlc_endwith {color: green;}.tlc_endforeach {color: green;}.tlc_generatefile {color: green;}.tlc_includepath {color: green;}.tlc_include {color: green;}.tlc_sprintf {color: green;}.tlc_while {color: green;}.tlc_endwhile {color: green;}.tlc_default {color: green;}.tlc_createrecord {color: green;}.tlc_mergerecord {color: green;}.tlc_language {color: green;}.tlc_roll {color: green;}.tlc_endroll {color: green;}.tlc_with {color: green;}.tlc_selectfile {color: green;}.tlc_openfile {color: green;}.tlc_closefile {color: green;}.tlc_def {color: green;}.tlc_undef {color: green;}.tlc_realformat {color: green;}.tlc_endswitch {color: green;}.tlc_addtorecord {color: green;}.tlc_break {color: green;}
.tlc_bifunc {color: brown;}
.tlc_fkw {color:blue; font-weight: 800;}
.tlc_output {color:#FFF; font-style:italic;}
.tlc_mchar {color:purple;}
</style>

</head>
<body>
<span class="tlc_comment">%%<span style="padding-left:9.5px"></span>============================================================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>file<span style="padding-left:9.5px"></span>contains<span style="padding-left:9.5px"></span>functions<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>generate<span style="padding-left:9.5px"></span>interface<span style="padding-left:9.5px"></span>functions<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>subsystems.<span style="padding-left:9.5px"></span>These<span style="padding-left:9.5px"></span>functions<span style="padding-left:9.5px"></span>provide<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>graphical<span style="padding-left:9.5px"></span>I/O<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>I/O<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>mapping<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>subsystem.<span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>functions<span style="padding-left:9.5px"></span>are<span style="padding-left:9.5px"></span>generated<span style="padding-left:9.5px"></span>using<span style="padding-left:9.5px"></span>API<span style="padding-left:9.5px"></span>created<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>SLibCreateSubsystemGraphicalAPI()<span style="padding-left:9.5px"></span>defined<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html">ertsystemgraphmaplib.tlc</a>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>an<span style="padding-left:9.5px"></span>example<span style="padding-left:9.5px"></span>file
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Copyright<span style="padding-left:9.5px"></span>1994-2019<span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>MathWorks,<span style="padding-left:9.5px"></span>Inc.
</span> <br><span class="tlc_comment">%%
</span> <br>&nbsp; <br><span class="tlc_if">%if</span> !<span class="tlc_bifunc">EXISTS</span>("_ERT_TEST_INTERFACE_LIB")
 <br><span class="tlc_assign">%assign</span> _ERT_TEST_INTERFACE_LIB = 1
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>SLibWriteSubsystemTestInterfaces
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>TopTester:<span style="padding-left:9.5px"></span>test/toolbox/simulink/variants/tTypesToPrivate.m
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibWriteSubsystemTestInterfaces" class="tlc_func">SLibWriteSubsystemTestInterfaces</a>() <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> skipSysCode       = ""
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numSkippedSystems = 0
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%% For each subsystem function in the generated code, use subsystem graphical</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% API and generate drivers </span>
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> subsysIdx = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetNumSubsystemInterfaces">SLibGetNumSubsystemInterfaces</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Get SubsystemInterface</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ssInterface  = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetSubsystemInterface">SLibGetSubsystemInterface</a>(subsysIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Ignore subsystems where Canonical input arguments are different from</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% function inputs. This is mostly because of virtual blocks like Mux</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% DeMux, Selector connected directly yo the inport of the subsystem.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numFInputs   = ssInterface.NumFunctionInputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> system       = System[ssInterface.SystemIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemIsReusedFcn">LibSystemIsReusedFcn</a>(system) &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(system.Interface.NumCanonicalInputArgDefs != numFInputs)) || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_bifunc">ISFIELD</span>(system,"RTWSystemCodeOptIntf") || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_bifunc">ISFIELD</span>(system, "RTWSystemWithReturnValue")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> skipSysCode = skipSysCode + "*   -   '%<<span>ssInterface.BlockPath</span>>'/n"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numSkippedSystems = numSkippedSystems + 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_continue">%continue</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Get FunctionInfo Record of the driver functions</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnInfo = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/erttestinterfacelib.html#FcnGetInterfaceFcnInfoForSubsystem">FcnGetInterfaceFcnInfoForSubsystem</a>(ssInterface, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add driver functions to driver source file</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> fcnCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* =========================================================
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Test Interface for Subsystem: '%<<span>ssInterface.BlockPath</span>>'
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'%<<span>ssInterface.BlockPath</span>>' <==> %<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibMangledPathName">LibMangledPathName</a>(ssInterface.BlockPath)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;========================================================= 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnInfo.FunctionComments</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnAbstracts = "Test interface initialize for Subsystem: '%<<span>ssInterface.BlockPath</span>>'"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = "%<<span>ssInterface.Name</span>>_Initialize_TestInterface"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnParams = fcnInfo.InitFunctionArgs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnReturns = "void"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract fcnAbstract; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Category "test"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/erttestinterfacelib.html">erttestinterfacelib.tlc</a>"; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GeneratedFor ssInterface.BlockPath; Type "Test interface for Initialize"}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)></span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_undef">%undef</span> fcnRec
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;{
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnInfo.InitFunctionBody</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnAbstracts = "Test interface for output and update of Subsystem: '%<<span>ssInterface.BlockPath</span>>'"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = "%<<span>ssInterface.Name</span>>_Output_TestInterface"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnParams = fcnInfo.StepFunctionArgs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnReturns = "void"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract fcnAbstract; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Category "test"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/erttestinterfacelib.html">erttestinterfacelib.tlc</a>"; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GeneratedFor ssInterface.BlockPath; Type "Test interface for Output and update"}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)></span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_undef">%undef</span> fcnRec
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;{
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnInfo.StepFunctionBody</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> fcnCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/filepackaginglib.html#SLibCacheCodeToFile">SLibCacheCodeToFile</a>("testif_fcn_defn", fcnCode)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add Driver function prototypes to driver header file</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> fcnDeclCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* extern declarations for test interfaces of Subsystem: '%<<span>ssInterface.BlockPath</span>>' */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibExternInFcnDecls">LibExternInFcnDecls</a>()</span>>void %<<span>ssInterface.Name</span>>_Initialize_TestInterface(%<<span>fcnInfo.InitFunctionArgs</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibExternInFcnDecls">LibExternInFcnDecls</a>()</span>>void %<<span>ssInterface.Name</span>>_Output_TestInterface(%<<span>fcnInfo.StepFunctionArgs</span>>);
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> fcnDeclCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/filepackaginglib.html#SLibCacheCodeToFile">SLibCacheCodeToFile</a>("testif_fcn_decl", fcnDeclCode)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Cache necessary #include's to driver header file</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/erttestinterfacelib.html#FcnCacheHeaderInInterfaceFile">FcnCacheHeaderInInterfaceFile</a>(ssInterface.HeaderFile)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add Virtual IO Typedefs </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/filepackaginglib.html#SLibCacheCodeToFile">SLibCacheCodeToFile</a>("testif_data_typedef", fcnInfo.VirtualIOTypedefs)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>  <span class="tlc_comment">%%  subsysIdx = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetNumSubsystemInterfaces">SLibGetNumSubsystemInterfaces</a>()</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> (ConfigSet.MultiInstanceERTCode) &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;(numSkippedSystems < <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetNumSubsystemInterfaces">SLibGetNumSubsystemInterfaces</a>())
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add Static definitions in case of MultiInstance model</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Declare model data statically */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> staticCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/erttestinterfacelib.html#SLibDeclareStaticDatainDriverFile">SLibDeclareStaticDatainDriverFile</a>()</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> staticCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/filepackaginglib.html#SLibCacheCodeToFile">SLibCacheCodeToFile</a>("testif_data_defn", staticCode)>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(skipSysCode)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> skipSysTxt
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;/*
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Cannot generate interface function for following non-inlined subsystems
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>skipSysCode</span>> 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* because of one or more of the following reasons
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*  o The subsystem has a function-call signal on its outport
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*  o The subsystem's parameter function packaging is
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*    set as 'Reusable Function' and either
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*     - Inside the subsystem, the input port is connected to either a
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*       Selector block or a Demux block, or to a subsystem whose inport
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*       is directly connected to the above blocks. To generate test 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*       interface, consider moving Selector/Demux outside the subsystem or
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*       inserting a Signal Conversion block between the subsystem input
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*       port and the Demux/Selector block.
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*       or
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*     - The signal driving the input port is a Ground block. To generate
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*       test interface, replace the Ground block with a Constant Block 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*       with a value of zero.
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> skipSysTxt
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/filepackaginglib.html#SLibCacheCodeToFile">SLibCacheCodeToFile</a>("testif_src_doc", skipSysTxt)>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>SLibWriteRootModelTestInterface
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>TopTester:<span style="padding-left:9.5px"></span>test/toolbox/simulink/variants/tTypesToPrivate.m
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibWriteRootModelTestInterface" class="tlc_func">SLibWriteRootModelTestInterface</a>() <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !(ConfigSet.MultiInstanceERTCode) &amp;&amp; (ExportFunctionsMode == 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Write Test Drivers when the model code is not multi-instanced</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Get Root Interface from the SystemGraphicalMap</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rootInterface  = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetRootInterface">SLibGetRootInterface</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Get FunctionInfo of the driver function</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnInfo = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/erttestinterfacelib.html#FcnGetInterfaceFcnInfoForSubsystem">FcnGetInterfaceFcnInfoForSubsystem</a>(rootInterface, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add driver functions to driver source file</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> fcnCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* =========================================================
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Test Interface for Root Model: '%<<span>rootInterface.BlockPath</span>>'
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=========================================================
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnInfo.FunctionComments</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnAbstracts = "Test interface initialize function for model"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = "%<<span>rootInterface.ModelName</span>>_Initialize_TestInterface"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnParams = fcnInfo.InitFunctionArgs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnReturns = "void"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract fcnAbstract; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Category "test"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/erttestinterfacelib.html">erttestinterfacelib.tlc</a>"; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GeneratedFor rootInterface.BlockPath; Type "Test interface for Initialize"}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)></span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_undef">%undef</span> fcnRec
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>) 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;{
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnInfo.InitFunctionBody</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnAbstracts = "Test interface for model step function"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = "%<<span>rootInterface.ModelName</span>>_Step_TestInterface"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnParams = fcnInfo.StepFunctionArgs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnReturns = "void"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract fcnAbstract; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Category "test"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/erttestinterfacelib.html">erttestinterfacelib.tlc</a>"; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GeneratedFor rootInterface.BlockPath; Type "Test interface for Step"}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)></span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_undef">%undef</span> fcnRec
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;{
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span>  NumRuntimeExportedRates == 1  <span class="tlc_comment">%% Single Rate</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnInfo.StepFunctionBody</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sysbodlib.html#SLibSingleTasking">SLibSingleTasking</a>()  <span class="tlc_comment">%% Multi Rate Single Tasking</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnInfo.StepFunctionBody</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>                        <span class="tlc_comment">%% Multi Rate Multi Tasking</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Model has %<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmainlib.html#FcnNumST">FcnNumST</a>()</span>> rates and the Tasking Mode is Multi-Tasking *
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Cannot generate a test interface for this case                        */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> TLC_FALSE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tid01Eq = FixedStepOpts.TID01EQ
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibGetNumSyncPeriodicTasks">LibGetNumSyncPeriodicTasks</a>() > 2
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int_T rt_tid;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnInfo.StepFunctionBody</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibGetNumSyncPeriodicTasks">LibGetNumSyncPeriodicTasks</a>() > 2
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (rt_tid = %<1+tid01Eq>; rt_tid < %<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmainlib.html#FcnNumST">FcnNumST</a>()</span>>; rt_tid++) {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (rtmStepTask(%<::tSimStruct>, rt_tid)) {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch(rt_tid) {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibGetNumSyncPeriodicTasks">LibGetNumSyncPeriodicTasks</a>() - 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tid = idx + 1 + tid01Eq
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case %<<span>tid</span>> : 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> System[NumSystems-1].CurrentTID = tid
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnInfo = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/erttestinterfacelib.html#FcnGetInterfaceFcnInfoForSubsystem">FcnGetInterfaceFcnInfoForSubsystem</a>(rootInterface, tid)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnInfo.StepFunctionBody</span>>               
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default : 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}  
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tid = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmainlib.html#FcnNumST">FcnNumST</a>()-1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (rtmStepTask(%<::tSimStruct>, %<<span>tid</span>>)) {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnInfo =<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/erttestinterfacelib.html#FcnGetInterfaceFcnInfoForSubsystem">FcnGetInterfaceFcnInfoForSubsystem</a>(rootInterface,tid)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnInfo.StepFunctionBody</span>> 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}    
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>  <span class="tlc_comment">%% TLC_FALSE</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> fcnCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/filepackaginglib.html#SLibCacheCodeToFile">SLibCacheCodeToFile</a>("testif_fcn_defn", fcnCode)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add Driver function prototypes to driver header file</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> fcnDeclCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Extern Declarations for test interfaces of model */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibExternInFcnDecls">LibExternInFcnDecls</a>()</span>>void %<<span>rootInterface.ModelName</span>>_Initialize_TestInterface(%<<span>fcnInfo.InitFunctionArgs</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibExternInFcnDecls">LibExternInFcnDecls</a>()</span>>void %<<span>rootInterface.ModelName</span>>_Step_TestInterface(%<<span>fcnInfo.StepFunctionArgs</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> fcnDeclCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/filepackaginglib.html#SLibCacheCodeToFile">SLibCacheCodeToFile</a>("testif_fcn_decl", fcnDeclCode)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Cache necessary #include's to driver header file</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/erttestinterfacelib.html#FcnCacheHeaderInInterfaceFile">FcnCacheHeaderInInterfaceFile</a>(rootInterface.HeaderFile)>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add Virtual IO Typedefs </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/filepackaginglib.html#SLibCacheCodeToFile">SLibCacheCodeToFile</a>("testif_data_typedef", fcnInfo.VirtualIOTypedefs)>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>SLibWriteExpFcnsTestInterfaces
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>TopTester:<span style="padding-left:9.5px"></span>test/toolbox/simulink/variants/tTypesToPrivate.m
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibWriteExpFcnsTestInterface" class="tlc_func">SLibWriteExpFcnsTestInterface</a>() <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> (ExportFunctionsMode == 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> root = System[NumSystems-1]
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> origERTInitFcnArg = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelFcnArgs">SLibModelFcnArgs</a>("Initialize",TLC_TRUE, root.CurrentTID)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> modelInitFcn      = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#GenerateModelInitFcnName">GenerateModelInitFcnName</a>()
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%% For each exported function in the generated code, use system graphical</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% API and generate test interfaces</span>
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> fcnIdx = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetNumExportedFunctions">SLibGetNumExportedFunctions</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Get Exported Function</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> expFcn    = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetExportedFunction">SLibGetExportedFunction</a>(fcnIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> expSystem = System[expFcn.SystemIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Define Temp variables</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> args      = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argSep    = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> inputMap  = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outputMap = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% For each functional input </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%   - Map functional input to graphical input</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numInputs = expFcn.NumFunctionInputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> fInIdx = numInputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fIn     = expFcn.FunctionInput[fInIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fInDType   = fIn.DataType
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fInWidth   = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetFunctionIOWidth">SLibGetFunctionIOWidth</a>(fIn)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> optArray   = (fInWidth > 1) ? "[%<<span>fInWidth</span>>]" : ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> optStar    = ((fInWidth ==  1) &amp;&amp; (fIn.DataIsBus)) ? "*": ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% To use memcpy, we need to reference the address of the input</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ref = ((fInWidth > 1) || (fIn.DataIsBus)) ? " " : " &amp;"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> len = (fInWidth > 1) ? " %<<span>fInWidth</span>>*" : " "
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> inputMap = inputMap + ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"memcpy(%<<span>fIn.Address</span>>,%<<span>ref</span>>%<<span>fIn.SLName</span>>,%<<span>len</span>>sizeof(%<<span>fInDType</span>>));"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> inputMap = inputMap + "/n"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add inport to the list of arguments of wrapper function</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> inputArg = "%<<span>fInDType</span>> %<<span>optStar</span>>%<<span>fIn.SLName</span>>%<<span>optArray</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> args = args + argSep + inputArg
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argSep = ", "
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% For each functional output </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%   - Map functional output to graphical output</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numOuts = expFcn.NumFunctionOutputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> fOutIdx = numOuts
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fOut = expFcn.FunctionOutput[fOutIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fOutDType = fOut.DataType
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fOutWidth = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetFunctionIOWidth">SLibGetFunctionIOWidth</a>(fOut)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Map functional out with graphical out</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> len = (fOutWidth > 1) ? " %<<span>fOutWidth</span>>*" : " "
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outputMap = outputMap + ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"memcpy(%<<span>fOut.SLName</span>>, %<<span>fOut.Address</span>>,%<<span>len</span>>sizeof(%<<span>fOutDType</span>>));"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outputMap = outputMap + "/n"
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outputArg = "%<<span>fOutDType</span>> *%<<span>fOut.SLName</span>>" 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> args = args + argSep + outputArg
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argSep = ", "
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% END MAPPING OUTPUTS</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISEMPTY</span>(args)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> args = "void"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemFcnIsEmpty">LibSystemFcnIsEmpty</a>(expSystem,"OutputUpdate")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> outfcnCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnAbstracts = "Test interface for output and update of Function: '%<<span>expFcn.Name</span>>'"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = "%<<span>expFcn.Name</span>>_Output_TestInterface"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnParams = args
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnReturns = "void"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract fcnAbstract; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Category "test"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/erttestinterfacelib.html">erttestinterfacelib.tlc</a>"; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GeneratedFor <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#FcnGeneratedFor">FcnGeneratedFor</a>(expSystem); Type "Test interface for Output and update"}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)></span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_undef">%undef</span> fcnRec
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>inputMap</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Output-update function for system '%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(expSystem)>'. */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>expSystem.OutputUpdateFcn</span>>();
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>outputMap</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> outfcnCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/filepackaginglib.html#SLibCacheCodeToFile">SLibCacheCodeToFile</a>("testif_fcn_defn", outfcnCode)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add interface prototypes to header file</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> fcnDeclCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Extern declarations for test interfaces of function: '%<<span>expFcn.Name</span>>' */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibExternInFcnDecls">LibExternInFcnDecls</a>()</span>>void %<<span>expFcn.Name</span>>_Output_TestInterface(%<<span>args</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> fcnDeclCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/filepackaginglib.html#SLibCacheCodeToFile">SLibCacheCodeToFile</a>("testif_fcn_decl", fcnDeclCode)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemFcnIsEmpty">LibSystemFcnIsEmpty</a>(expSystem,"Enable")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> enablefcnCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnAbstracts = "Test interface for Enable of Function: '%<<span>expFcn.Name</span>>'"      
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = "%<<span>expFcn.Name</span>>_Enable_TestInterface"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnParams = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnReturns = "void"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract fcnAbstract; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Category "test"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/erttestinterfacelib.html">erttestinterfacelib.tlc</a>"; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GeneratedFor <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#FcnGeneratedFor">FcnGeneratedFor</a>(expSystem); Type "Test interface for Enable"}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)></span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_undef">%undef</span> fcnRec
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Enable function for system '%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(expSystem)>'. */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>expSystem.EnableFcn</span>>();
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> enablefcnCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/filepackaginglib.html#SLibCacheCodeToFile">SLibCacheCodeToFile</a>("testif_fcn_defn", enablefcnCode)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add interface prototypes to header file</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> fcnDeclCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibExternInFcnDecls">LibExternInFcnDecls</a>()</span>>void %<<span>expFcn.Name</span>>_Enable_TestInterface();
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> fcnDeclCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/filepackaginglib.html#SLibCacheCodeToFile">SLibCacheCodeToFile</a>("testif_fcn_decl", fcnDeclCode)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemFcnIsEmpty">LibSystemFcnIsEmpty</a>(expSystem,"Disable")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> disablefcnCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnAbstracts = "Test interface for Disable of Function: '%<<span>expFcn.Name</span>>'"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = "%<<span>expFcn.Name</span>>_Disable_TestInterface"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnParams = args
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnReturns = "void"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract fcnAbstract; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Category "test"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/erttestinterfacelib.html">erttestinterfacelib.tlc</a>"; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GeneratedFor <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#FcnGeneratedFor">FcnGeneratedFor</a>(expSystem); Type "Test interface for Disable"}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)></span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_undef">%undef</span> fcnRec
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>)      
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>inputMap</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Disable function for system '%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(expSystem)>'. */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>expSystem.DisableFcn</span>>();
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>outputMap</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> disablefcnCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/filepackaginglib.html#SLibCacheCodeToFile">SLibCacheCodeToFile</a>("testif_fcn_defn", disablefcnCode)>      
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add interface prototypes to header file</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> fcnDeclCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibExternInFcnDecls">LibExternInFcnDecls</a>()</span>>void %<<span>expFcn.Name</span>>_Disable_TestInterface(%<<span>args</span>>);
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> fcnDeclCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/filepackaginglib.html#SLibCacheCodeToFile">SLibCacheCodeToFile</a>("testif_fcn_decl", fcnDeclCode)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Cache necessary #include's to driver header file</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/erttestinterfacelib.html#FcnCacheHeaderInInterfaceFile">FcnCacheHeaderInInterfaceFile</a>(expFcn.HeaderFile)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>  <span class="tlc_comment">%%  fcnIdx = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetNumExportedFunctions">SLibGetNumExportedFunctions</a>()</span>
 <br>&nbsp;&nbsp;&nbsp; <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>FcnGetInterfaceFcnInfoForSubsystem
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>TopTester:<span style="padding-left:9.5px"></span>test/toolbox/simulink/variants/tTypesToPrivate.m
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="FcnGetInterfaceFcnInfoForSubsystem" class="tlc_func">FcnGetInterfaceFcnInfoForSubsystem</a>(interface, tid) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%% </span>
 <br>&nbsp;&nbsp;<span class="tlc_createrecord">%createrecord</span> InterfaceFcnInfo {   /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;StepFunctionArgs    ""        /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;StepFunctionBody    ""        /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;InitFunctionArgs    ""        /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;InitFunctionBody    ""        /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;VirtualIOTypedefs   ""        /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;FunctionComments    ""        /
 <br>&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> interface.InterfaceType == "RootModel"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isRoot = TLC_TRUE
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isRoot = TLC_FALSE
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%% Define Temp variables</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> args      = ""
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argSep    = ""
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> inputMap  = ""
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> localMap  = ""
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dsMap     = ""
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dsReMap   = ""
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outputMap = ""
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> typedefCode = ""
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> unusedInputMap  = ""
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> unusedOutputMap = ""
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Comments</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> inportComments       = "" 
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outportComments      = "" 
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dsComments           = "" 
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dwComments           = ""
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> inputcommentsHeader  = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_bifunc">SPRINTF</span>("/t%-25s%-15s%-8s%-20s/t%s/n/t%-25s%-15s%-8s%-20s/t%s", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;"Argument Name", "Data Type", "Width", "Block Path", "Function Input (copied from)", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;"-------------", "---------", "-----", "----------", "---------------------------")
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outputcommentsHeader  = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_bifunc">SPRINTF</span>("/t%-25s%-15s%-8s%-20s/t%s/n/t%-25s%-15s%-8s%-20s/t%s", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;"Argument Name", "Data Type", "Width", "Block Path", "Function Output (copied to)", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;"-------------", "---------", "-----", "----------", "---------------------------")
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dstorecommentsHeader  = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_bifunc">SPRINTF</span>("/t%-25s%-15s%-8s%-20s/t%s/n/t%-25s%-15s%-8s%-20s/t%s", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;"Argument Name", "Data Type", "Width", "Block Path", "Data Store Memory (copied from/To)", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;"-------------", "---------", "-----", "----------", "----------------------------------")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Input Port Mapping</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% For each input port (graphical input)</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%    - add graphical input as argument to the wrapper</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%    - map graphical input to function input(s) inside the function</span>
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> inpIdx = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetNumInports">SLibGetNumInports</a>(interface)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> input      = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetInport">SLibGetInport</a>(interface, inpIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> inputWidth = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetFunctionIOWidth">SLibGetFunctionIOWidth</a>(input)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> optArray   = (inputWidth > 1) ? "[%<<span>inputWidth</span>>]" : ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> constKeyWd = (inputWidth > 1 || input.IsBus) ? "const " : ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> optStar    = ((inputWidth ==  1) &amp;&amp; (input.IsBus)) ? "*": ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numFuncInputs = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetNumFunctionInputsInInport">SLibGetNumFunctionInputsInInport</a>(input)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> inAddrComment   = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (numFuncInputs == 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> unusedInputMap = unusedInputMap + "UNUSED_IO(%<<span>input.Name</span>>);/n"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> inAddrComment  = "Unused"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% For each functional input </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%   - Map functional input to graphical input</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%   - Create Typedef if necessary</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> fInIdx = numFuncInputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fIn        = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetFunctionInputOfInport">SLibGetFunctionInputOfInport</a>(interface,input,fInIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fInDType   = fIn.DataType
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fInWidth   = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetFunctionIOWidth">SLibGetFunctionIOWidth</a>(fIn)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ifCond = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ifEndCond = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (isRoot) 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extInp = ::CompiledModel.ExternalInputs.ExternalInput[inpIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(extInp, "Inactive")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_continue">%continue</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% TopTester : test/toolbox/simulink/variants/inlineVariants/variantSource/systemtests/tmg1257208_VC1.m</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(extInp, "VariantCondition") &amp;&amp; !<span class="tlc_bifunc">ISEMPTY</span>(extInp.VariantCondition)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ifCond = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIfVariantCondition">SLibIfVariantCondition</a>(extInp)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ifEndCond = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibEndIfVariantCondition">SLibEndIfVariantCondition</a>(extInp)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span> 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (fIn.Access == "Global")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Unstructured scalar inputs are passed via value </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% To use memcpy, we need to reference the address of the input</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ref = ((fInWidth > 1)  || fIn.DataIsBus) ? " " : " &amp;"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> len = (fInWidth > 1) ? " %<<span>fInWidth</span>>*" : " "
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> inputMap = inputMap + ifCond + "/n"...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"memcpy(%<<span>fIn.Address</span>>,%<<span>ref</span>>%<<span>fIn.SLName</span>>,%<<span>len</span>>sizeof(%<<span>fInDType</span>>));"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> inputMap = inputMap + "/n" + ifEndCond + "/n"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> (fIn.Access == "ConstGlobal") || (fIn.Access == "ConstInlined")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> unusedInputMap = unusedInputMap + "UNUSED_IO(%<<span>fIn.SLName</span>>);/n"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span> <span class="tlc_comment">%% Access = "Global"</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> inAddrComment = <span class="tlc_bifunc">ISEMPTY</span>(fIn.Address) ? ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Local Signal" : fIn.Address
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> inAddrComment = (fIn.Access != "ConstInlined") ? ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inAddrComment : "Constant Value"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add typedef to the driver file</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dTypeComment = constKeyWd + input.DataType
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(input.VirtualTypeDef)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> typedefCode  = typedefCode + input.VirtualTypeDef
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dTypeComment = "Virtual Type"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> inAddrComment  = "Multiple Signals"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add inport to the list of arguments of wrapper function</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> inputArg = "%<<span>constKeyWd</span>>%<<span>input.DataType</span>> %<<span>optStar</span>>%<<span>input.Name</span>>%<<span>optArray</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> args = args + argSep + inputArg
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argSep = ", "
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add inport comment to the list of comments of wrapper function</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> inportComments = inportComments + ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_bifunc">SPRINTF</span>("%-3s%-22s%-15s%-8d%-20s/t%s/n", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"%<inpIdx+1>)",input.Name, dTypeComment, inputWidth, input.BlockPath, inAddrComment)
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% END MAPPING INPORTS</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% MAPPING OUTPORTS - Graphical Outputs</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% For each output port (graphical output)</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%    - add graphical output as argument to the wrapper</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%    - Re-map function output(s) to graphical outputs after the call to </span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%      subsystem function</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%% Get the table of unique variant conditions for the model.</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(VariantConditions, "CGVCEList")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> cgvceList = VariantConditions.CGVCEList
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span> 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> cgvceList = ""
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> outIdx = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetNumOutports">SLibGetNumOutports</a>(interface)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> output =  <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetOutport">SLibGetOutport</a>(interface, outIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outputWidth = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetFunctionIOWidth">SLibGetFunctionIOWidth</a>(output)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numFuncOuts = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetNumFunctionOutputsInOutport">SLibGetNumFunctionOutputsInOutport</a>(output)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outAddrComment = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (numFuncOuts == 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> unusedOutputMap = unusedOutputMap +"UNUSED_IO(%<<span>output.Name</span>>);/n"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% For each functional output </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%   - Map functional output to graphical output</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%   - Create Typedef if necessary</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> fOutIdx = numFuncOuts
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fOut = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetFunctionOutputOfOutport">SLibGetFunctionOutputOfOutport</a>(interface, output, fOutIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fOutDType = fOut.DataType
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fOutWidth = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetFunctionIOWidth">SLibGetFunctionIOWidth</a>(fOut)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> variantCondition = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ifCond = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ifEndCond = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (isRoot) 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extOut = ::CompiledModel.ExternalOutputs.ExternalOutput[outIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sysIdx       = extOut.Block[0]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> blkIdx       = extOut.Block[1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outportBlock = System[sysIdx].Block[blkIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(outportBlock, "Inactive") 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_continue">%continue</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% TopTester : test/toolbox/simulink/variants/inlineVariants/variantSource/systemtests/tmg1257208_VC1.m</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(extOut, "LocalCGVCEIdx") &amp;&amp; (extOut.LocalCGVCEIdx != -1) &amp;&amp; !<span class="tlc_bifunc">ISEMPTY</span>(cgvceList)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> variantCondition = cgvceList[extOut.LocalCGVCEIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ifCond = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIfVariantConditionForm">SLibIfVariantConditionForm</a>(variantCondition)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ifEndCond = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibEndIfVariantConditionForm">SLibEndIfVariantConditionForm</a>(variantCondition)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span> 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (numFuncOuts == 1) &amp;&amp; (fOutWidth > outputWidth)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outputWidth = fOutWidth
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (fOut.Access == "Global") || (fOut.Access == "Argument") || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(fOut.Access == "ConstGlobal")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Map functional out with graphical out</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> len = (fOutWidth > 1) ? " %<<span>fOutWidth</span>>*" : " "
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outputMap = outputMap + ifCond + "/n" ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"memcpy(%<<span>fOut.SLName</span>>, %<<span>fOut.Address</span>>,%<<span>len</span>>sizeof(%<<span>fOutDType</span>>));"  
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outputMap = outputMap + "/n" + ifEndCond + "/n"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> (fOut.Access == "ConstInlined")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Address is actual the constant value. No need to dereference</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (<span class="tlc_bifunc">SIZE</span>(fOut.Value, 0) * <span class="tlc_bifunc">SIZE</span>(fOut.Value, 1)) > 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% constant array</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = <span class="tlc_bifunc">SIZE</span>(fOut.Value)[1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outputMap = outputMap + ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"%<<span>fOut.SLName</span>>[%<<span>idx</span>>] = %<fOut.Value[idx]>;" + "/n"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> <span class="tlc_bifunc">ISEMPTY</span>(fOut.Value)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% constant ground</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outputMap = outputMap + "%<<span>fOut.SLName</span>> = 0;" + "/n"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% constant scalar</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outputMap = outputMap + ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"%<<span>fOut.SLName</span>> = %<fOut.Value[0]>;" + "/n"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outAddrComment = <span class="tlc_bifunc">ISEMPTY</span>(fOut.Address) ? "Local Signal" : fOut.Address
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outAddrComment = (fOut.Access != "ConstInlined") ? ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outAddrComment : "Constant Value"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dTypeComment = output.DataType
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(output.VirtualTypeDef)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> typedefCode = typedefCode + output.VirtualTypeDef
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dTypeComment = "Virtual Type"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outAddrComment  = "Multiple Signals"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> optPtrStr   = "*"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> optWidthStr = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> outputWidth > 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> optPtrStr   = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> optWidthStr = "[%<<span>outputWidth</span>>]"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outputArg = "%<<span>output.DataType</span>> %<<span>optPtrStr</span>>%<<span>output.Name</span>>%<<span>optWidthStr</span>>" 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> args = args + argSep + outputArg
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argSep = ", "
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outportComments = outportComments + ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_bifunc">SPRINTF</span>("%-3s%-22s%-15s%-8d%-20s/t%s/n", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"%<outIdx+1>)", output.Name, dTypeComment, outputWidth, output.BlockPath,outAddrComment)
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% END MAPPING OUTPUTS</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% MAPPING DATA STORES</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% For each data store</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%   - Add a argument to the wrapper function</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%   - Map data stores before calling the subsystem function (Read)</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%   - Re-Map data stores after calling subsystem function (Write)</span>
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> dsIdx = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetNumDataStores">SLibGetNumDataStores</a>(interface)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ds         = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetDataStore">SLibGetDataStore</a>(interface, dsIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dsDType    = ds.DataType
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dsWidth    = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetFunctionIOWidth">SLibGetFunctionIOWidth</a>(ds)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> optArray   = (dsWidth > 1) ? "[%<<span>dsWidth</span>>]" : ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ptr        = (dsWidth == 1) ? "*" : ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (ds.Access == "Global") 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> len = (dsWidth > 1) ? "%<<span>dsWidth</span>>*" : ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dsMap   = dsMap + ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"memcpy(%<<span>ds.Address</span>>, %<<span>ds.Name</span>>, %<<span>len</span>>sizeof(%<<span>dsDType</span>>));" 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dsMap   = dsMap + "/n"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dsReMap = dsReMap + ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"memcpy(%<<span>ds.Name</span>>, %<<span>ds.Address</span>>, %<<span>len</span>>sizeof(%<<span>dsDType</span>>));" 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dsReMap = dsReMap + "/n"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dsArg      = "%<<span>dsDType</span>> %<<span>ptr</span>>%<<span>ds.Name</span>>%<<span>optArray</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> args       = args + argSep+ dsArg
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argSep     = ", "
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dsComments = dsComments + ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_bifunc">SPRINTF</span>("%-3s%-22s%-15s%-8d%-20s/t%s/n", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"%<dsIdx+1>)", ds.Name, dsDType, dsWidth, ds.BlockPath, ds.Address)
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% END MAPPING DATA STORES</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% MAPPING DISCRETE States</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% For each discrete state</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%   - Add a comment in the subsystem banner</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%   - Map data stores before calling the subsystem function (Read)</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%   - Re-Map data stores after calling subsystem function (Write)</span>
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> dsIdx = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetNumDiscStates">SLibGetNumDiscStates</a>(interface)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ds         = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetDiscState">SLibGetDiscState</a>(interface, dsIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dsDType    = ds.DataType
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dsWidth    = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsystemgraphmaplib.html#SLibGetFunctionIOWidth">SLibGetFunctionIOWidth</a>(ds)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dwComments = dwComments + ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_bifunc">SPRINTF</span>("%-3s%-15s%-8d%s/t%s/n", "%<dsIdx+1>)", dsDType, dsWidth, ds.BlockPath, ds.Address)
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% END MAPPING DISCRETE States</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% START WRITING WRAPPER</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> initBody
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> root = System[NumSystems-1]
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(root, "SystemInitializeFcn") &amp;&amp; !<span class="tlc_bifunc">ISEMPTY</span>(root.SystemInitializeFcn)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> MultiInstanceERTCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/erttestinterfacelib.html#SLibDefineRootIOInLocalScope">SLibDefineRootIOInLocalScope</a>()</span>></span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> InterfaceFcnInfo.InitFunctionArgs = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/erttestinterfacelib.html#SLibDefineRootIOInLocalScope">SLibDefineRootIOInLocalScope</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Call model initialize function */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#GenerateModelInitFcnName">GenerateModelInitFcnName</a>()</span>>(%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelFcnArgs">SLibModelFcnArgs</a>("Initialize", 2, root.CurrentTID)>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> initBody
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> outputBody
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(inputMap)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (tid == 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Copy test driver input arguments to actual function inputs */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Copy test driver input arguments associated with subrate: %<<span>tid</span>> */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>inputMap</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(unusedInputMap)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* The following input arguments cannot be copied to the actual function 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* inputs of the system. The inputs are either constant values or defined 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* with "const" qualifier. Alternatively, the inputs are resolved with a 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* custom storage class which generates  non-addressable data (e.g. 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Bit-Fields). The input arguments will be unused.
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>unusedInputMap</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(dsMap)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (tid == 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Copy test driver data store arguments to  data store */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Copy test driver data stores associated with subrate: %<<span>tid</span>> */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>dsMap</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ppIf = ""
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ppEndif = ""
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> isRoot
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (tid == 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Call model step function associated with base rate */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Call model step function associated with subrate: %<<span>tid</span>> */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmainlib.html#FcnCallMdlStep">FcnCallMdlStep</a>(tid)>
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Call subsystem's output code */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% TopTester : test/toolbox/simulink/variants/tVSSWithReusuableSS.m</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> systemIdx = interface.SystemIdx
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> parent = ::CompiledModel.System[systemIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> netCond = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(parent.NetInlineVariantPreprocessorInstanceConditions)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> netCond = parent.NetInlineVariantPreprocessorInstanceConditions[interface.CallSiteIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ppIf = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIfVariantConditionForm">SLibIfVariantConditionForm</a>(netCond)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ppEndif = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibEndIfVariantConditionForm">SLibEndIfVariantConditionForm</a>(netCond)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>ppIf</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/erttestinterfacelib.html#FcnGenSubsystemOutputFcnCallInInterface">FcnGenSubsystemOutputFcnCallInInterface</a>(interface)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemFcnIsEmptyForTID">LibSystemFcnIsEmptyForTID</a>(parent,"Update")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>ppIf</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/erttestinterfacelib.html#FcnGenSubsystemUpdateFcnCallInInterface">FcnGenSubsystemUpdateFcnCallInInterface</a>(interface)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemFcnIsEmptyForTID">LibSystemFcnIsEmptyForTID</a>(parent,"Update")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>ppEndif</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(outputMap)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (tid == 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Copy function output values to test driver output arguments */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Copy function output values associated with subrate: %<<span>tid</span>> */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>outputMap</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(unusedOutputMap)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* The following output arguments cannot be copied from the function outputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* of the system. The outputs are ground/unconnected signals or are resolved
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* with a custom storage class which generates non-addressable data 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* (e.g. BitField). The output arguments will be unused.
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>unusedOutputMap</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(dsReMap)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (tid == 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Copy test driver data store arguments to  data store */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Copy test driver data stores associated with subrate: %<<span>tid</span>> */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>dsReMap</span>>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;%<<span>ppEndif</span>>
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> outputBody
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> commentBody
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(inportComments)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;Inports: (passed as arguments to test interface output function)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>inputcommentsHeader</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>inportComments</span>>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(outportComments)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;Outports: (passed as arguments to test interface output function)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>outputcommentsHeader</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>outportComments</span>>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(dsComments)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;Data Stores: (passed as arguments to test interface output function)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>dstorecommentsHeader</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>dsComments</span>>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(dwComments)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;Discrete States:
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span class="tlc_bifunc">SPRINTF</span>("/t%-18s%-8s%s/n/t%-18s%-8s%s", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Data Type", "Width", "Block Path and State Address", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"---------", "-----", "----------------------------")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>dwComments</span>>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> commentBody
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISEMPTY</span>(args)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> args = "void"
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISEMPTY</span>(InterfaceFcnInfo.InitFunctionArgs)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> InterfaceFcnInfo.InitFunctionArgs = "void"
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> InterfaceFcnInfo.StepFunctionArgs = args
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> InterfaceFcnInfo.StepFunctionBody = outputBody
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> InterfaceFcnInfo.InitFunctionBody = initBody
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> InterfaceFcnInfo.FunctionComments = commentBody
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(typedefCode)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> virtualTypedefCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Typdefs for virtual signals on Inport and/or Outport of '%<<span>interface.BlockPath</span>>' */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>typedefCode</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> virtualTypedefCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> InterfaceFcnInfo.VirtualIOTypedefs = virtualTypedefCode
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> InterfaceFcnInfo
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Local<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>FcnGenSubsystemOutputFcnCallInInterface<span style="padding-left:9.5px"></span>====================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>TopTester:<span style="padding-left:9.5px"></span>test/toolbox/simulink/variants/tTypesToPrivate.m
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="FcnGenSubsystemOutputFcnCallInInterface" class="tlc_func">FcnGenSubsystemOutputFcnCallInInterface</a>(ssInterface) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmpBlockFcn = ::BlockFcn
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn  = "Output"
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> system      = System[ssInterface.SystemIdx]
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> csIdx       = ssInterface.CallSiteIdx
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> system.LivesInStandaloneSS[csIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> parentSystem = System[system.StandaloneParentSysIdx[csIdx]]
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> parentSystem = System[NumSystems - 1]
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemIsReusedFcn">LibSystemIsReusedFcn</a>(system)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> currentTID        = system.CurrentTID
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isPeriodicRateGrouping    = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sysbodlib.html#SLibSystemFcnPeriodicRateGrouping">SLibSystemFcnPeriodicRateGrouping</a>(system, "Output")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add graphical reference to Canonical args, so that the call to the</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% reusable "output" function uses graphical inputs.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_addtorecord">%addtorecord</span> system GenerateReusableWrapper TLC_TRUE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add graphical inports if the function has Canonical inputs</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(ssInterface, "FunctionInputHash")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> argIdx=system.Interface.NumCanonicalInputArgDefs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> canIn = system.Interface.CanonicalInputArgDef[argIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/sysarglib.html#FcnArgNeeded">FcnArgNeeded</a>(canIn, currentTID, isPeriodicRateGrouping)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(ssInterface.FunctionInputHash, "FuncIn%<<span>argIdx</span>>")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fIn=<span class="tlc_bifunc">GETFIELD</span>(ssInterface.FunctionInputHash, "FuncIn%<<span>argIdx</span>>")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_addtorecord">%addtorecord</span> canIn SSGraphicalAPIReference fIn
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add graphical Outports if the function has Canonical Outputs</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(ssInterface, "FunctionOutputHash")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> argIdx=system.Interface.NumCanonicalOutputArgDefs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> canOut = system.Interface.CanonicalOutputArgDef[argIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/sysarglib.html#FcnArgNeeded">FcnArgNeeded</a>(canOut, currentTID, isPeriodicRateGrouping)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(ssInterface.FunctionOutputHash, "FuncOut%<<span>argIdx</span>>")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fOut = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_bifunc">GETFIELD</span>(ssInterface.FunctionOutputHash, "FuncOut%<<span>argIdx</span>>")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_addtorecord">%addtorecord</span> canOut SSGraphicalAPIReference fOut
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add graphical Data stores if the function has Canonical Dworks (DSM)</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span> (ssInterface.NumDataStores == system.Interface.NumCanonicalDWorkArgDefs)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> argIdx = system.Interface.NumCanonicalDWorkArgDefs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> canDW = system.Interface.CanonicalDWorkArgDef[argIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/sysarglib.html#FcnArgIsNeeded">FcnArgIsNeeded</a>(canDW)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ds    = ssInterface.DataStore[argIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_addtorecord">%addtorecord</span> canDW SSGraphicalAPIReference ds
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_with">%with</span> parentSystem
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Copy over original interface as LibGenCachedSystemFcnCall may overwrite</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% some of the accessed flags in the parent</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_copyrecord">%copyrecord</span> parentInterface parentSystem.Interface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Generate System function call</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argVec = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/erttestinterfacelib.html#getTestInterfaceArgVector">getTestInterfaceArgVector</a>(system, "Output", csIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sysbodlib.html#SLibGenCachedSystemFcnCallWithArgs">SLibGenCachedSystemFcnCallWithArgs</a>(system, "Output", csIdx, argVec)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Revert to the original interface</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> parentSystem.Interface = parentInterface
 <br>&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>  <span class="tlc_comment">%% parentSystem</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemIsReusedFcn">LibSystemIsReusedFcn</a>(system)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Clean up - Remove fields added while genrating the subsystem call</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmp = <span class="tlc_bifunc">REMOVEFIELD</span>(system, "GenerateReusableWrapper")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Remove graphical inports reference from Canonical inputs</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> argIdx=system.Interface.NumCanonicalInputArgDefs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> canIn = system.Interface.CanonicalInputArgDef[argIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(canIn, "SSGraphicalAPIReference")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmp = <span class="tlc_bifunc">REMOVEFIELD</span>(canIn, "SSGraphicalAPIReference")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Remove graphical Outports reference from Canonical outputs</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> argIdx=system.Interface.NumCanonicalOutputArgDefs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> canOut = system.Interface.CanonicalOutputArgDef[argIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(canOut, "SSGraphicalAPIReference")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmp = <span class="tlc_bifunc">REMOVEFIELD</span>(canOut, "SSGraphicalAPIReference")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Remove graphical DS reference from Canonical DWorks</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> argIdx = system.Interface.NumCanonicalDWorkArgDefs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> canDW = system.Interface.CanonicalDWorkArgDef[argIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(canDW, "SSGraphicalAPIReference")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmp = <span class="tlc_bifunc">REMOVEFIELD</span>(canDW, "SSGraphicalAPIReference")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span> <span class="tlc_comment">%% <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemIsReusedFcn">LibSystemIsReusedFcn</a>(system)</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn  = tmpBlockFcn
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>getTestInterfaceArgVector<span style="padding-left:9.5px"></span>=========================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Returns<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>argument<span style="padding-left:9.5px"></span>vector<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>system<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>call<span style="padding-left:9.5px"></span>from<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>test<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>interface
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>TopTester:<span style="padding-left:9.5px"></span>test/toolbox/simulink/variants/tTypesToPrivate.m
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="getTestInterfaceArgVector" class="tlc_func">getTestInterfaceArgVector</a>(thisSystem, fcnType, csIdx)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argVec = []  
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% If the context is unknown, we dispach the function call </span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% to use global argument references.</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sysIdx = thisSystem.SystemIdx
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> modIdx = ::CompiledModel.RTWCGModules.NumRTWCGModules-1
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnIdx = ::CompiledModel.RTWCGModules.TestInterfaceFcnIdx
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sysCS  = thisSystem.CallSites[csIdx]
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> parent = ::CompiledModel.System[sysCS[2]]
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ssBlk  = parent.Block[sysCS[3]]
 <br>&nbsp;&nbsp;<span class="tlc_with">%with</span> parent
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_with">%with</span> ssBlk
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibTLCSystemFcnCallExists">SLibTLCSystemFcnCallExists</a>(fcnType, sysIdx, csIdx, modIdx, fcnIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> callInfo = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibTLCSystemFcnCallInfo">SLibTLCSystemFcnCallInfo</a>(fcnType, sysIdx, csIdx, modIdx, fcnIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argVec  = callInfo.Args
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = callInfo.Name
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> thisModule = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::CompiledModel.RTWCGModules.RTWCGModule[thisSystem.CGIRModuleIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnIdx = <span class="tlc_bifunc">GETFIELD</span>(thisModule.SystemFunctions, fcnName)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span> (thisModule.NumSubFunctions <= fcnIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> thisFcn = thisModule.Function[fcnIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> thisInterface = thisSystem.Interface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> argIdx=thisFcn.NumArgs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> idNum = SLibSafe<span class="tlc_bifunc">IDNUM</span>(thisFcn.ArgSource, argIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argSrc = idNum[0]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argSrcIdx = idNum[1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_switch">%switch</span> argSrc
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "I" <span class="tlc_comment">%% canonical input</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> canIn = thisInterface.CanonicalInputArgDef[argSrcIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(canIn, "SSGraphicalAPIReference")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> grIn = canIn.SSGraphicalAPIReference
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (canIn.DeclareAsPointer == "yes")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> actArg = "&amp;(%<<span>grIn.SLName</span>>)"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> actArg = grIn.SLName
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argVec[argIdx] = actArg
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "O" <span class="tlc_comment">%% canonical output</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> canOut = thisInterface.CanonicalOutputArgDef[argSrcIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(canOut, "SSGraphicalAPIReference")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> grOut = canOut.SSGraphicalAPIReference
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argVec[argIdx] = grOut.SLName
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "D" <span class="tlc_comment">%% canonical dwork</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> canDWork = thisInterface.CanonicalDWorkArgDef[argSrcIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span>  <span class="tlc_bifunc">ISFIELD</span>(canDWork, "SSGraphicalAPIReference")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> grDS = canDWork.SSGraphicalAPIReference
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argVec[argIdx] = grDS.Name
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_default">%default</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endswitch">%endswitch</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span> <span class="tlc_comment">%% thisFcn.NumArgs</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span> <span class="tlc_comment">%% ssBlk</span>
 <br>&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span> <span class="tlc_comment">%% parent</span>
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> argVec
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% getTestInterfaceArgVector</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Local<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>FcnGenSubsystemUpdateFcnCallInInterface<span style="padding-left:9.5px"></span>===================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>toptester:<span style="padding-left:9.5px"></span>test/toolbox/simulink/variants/tTypesToPrivate.m
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="FcnGenSubsystemUpdateFcnCallInInterface" class="tlc_func">FcnGenSubsystemUpdateFcnCallInInterface</a>(ssInterface) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmpBlockFcn = ::BlockFcn
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn  = "Update"
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> system      = System[ssInterface.SystemIdx]
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> csIdx       = ssInterface.CallSiteIdx
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> system.LivesInStandaloneSS[csIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> parentSystem = System[system.StandaloneParentSysIdx[csIdx]]
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> parentSystem = System[NumSystems - 1]
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemIsReusedFcn">LibSystemIsReusedFcn</a>(system)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> currentTID        = system.CurrentTID
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isPeriodicRateGrouping    = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sysbodlib.html#SLibSystemFcnPeriodicRateGrouping">SLibSystemFcnPeriodicRateGrouping</a>(system, "Output")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add graphical reference to Canonical args, so that the call to the</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% reusable "update" function uses graphical inputs.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_addtorecord">%addtorecord</span> system GenerateReusableWrapper TLC_TRUE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add graphical inports if the function has Canonical inputs</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(ssInterface, "FunctionInputHash")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> argIdx=system.Interface.NumCanonicalInputArgDefs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> canIn = system.Interface.CanonicalInputArgDef[argIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/sysarglib.html#FcnArgNeeded">FcnArgNeeded</a>(canIn, currentTID, isPeriodicRateGrouping)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(ssInterface.FunctionInputHash, "FuncIn%<<span>argIdx</span>>")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fIn=<span class="tlc_bifunc">GETFIELD</span>(ssInterface.FunctionInputHash, "FuncIn%<<span>argIdx</span>>")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_addtorecord">%addtorecord</span> canIn SSGraphicalAPIReference fIn
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add graphical Outports if the function has Canonical Outputs</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(ssInterface, "FunctionOutputHash")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> argIdx=system.Interface.NumCanonicalOutputArgDefs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> canOut = system.Interface.CanonicalOutputArgDef[argIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/sysarglib.html#FcnArgNeeded">FcnArgNeeded</a>(canOut, currentTID, isPeriodicRateGrouping)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(ssInterface.FunctionOutputHash, "FuncOut%<<span>argIdx</span>>")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fOut = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_bifunc">GETFIELD</span>(ssInterface.FunctionOutputHash, "FuncOut%<<span>argIdx</span>>")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_addtorecord">%addtorecord</span> canOut SSGraphicalAPIReference fOut
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add graphical Data stores if the function has Canonical Dworks (DSM)</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span> (ssInterface.NumDataStores == system.Interface.NumCanonicalDWorkArgDefs)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> argIdx = system.Interface.NumCanonicalDWorkArgDefs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> canDW = system.Interface.CanonicalDWorkArgDef[argIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/sysarglib.html#FcnArgIsNeeded">FcnArgIsNeeded</a>(canDW)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ds    = ssInterface.DataStore[argIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_addtorecord">%addtorecord</span> canDW SSGraphicalAPIReference ds
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>  <span class="tlc_comment">%% <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemIsReusedFcn">LibSystemIsReusedFcn</a>(system)</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% </span>
 <br>&nbsp;&nbsp;<span class="tlc_with">%with</span> parentSystem
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemFcnIsEmptyForTID">LibSystemFcnIsEmptyForTID</a>(system,"Update")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Copy over original interface as LibGenCachedSystemFcnCall may overwrite</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% some of the accessed flags</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_copyrecord">%copyrecord</span> parentInterface parentSystem.Interface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Generate System function call</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Call subsystem's update code */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argVec = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/erttestinterfacelib.html#getTestInterfaceArgVector">getTestInterfaceArgVector</a>(system, "Update", csIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sysbodlib.html#SLibGenSystemFcnCallWithArgs">SLibGenSystemFcnCallWithArgs</a>(system, "Update", csIdx, argVec)>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Revert to the original interface</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> parentSystem.Interface = parentInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>  <span class="tlc_comment">%% parentSystem</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemIsReusedFcn">LibSystemIsReusedFcn</a>(system)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Clean up - Remove fields added while generating the subsystem call</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmp = <span class="tlc_bifunc">REMOVEFIELD</span>(system, "GenerateReusableWrapper")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Remove graphical inports reference from Canonical inputs</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> argIdx=system.Interface.NumCanonicalInputArgDefs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> canIn = system.Interface.CanonicalInputArgDef[argIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(canIn, "SSGraphicalAPIReference")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmp = <span class="tlc_bifunc">REMOVEFIELD</span>(canIn, "SSGraphicalAPIReference")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Remove graphical Outports reference from Canonical outputs</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> argIdx=system.Interface.NumCanonicalOutputArgDefs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> canOut = system.Interface.CanonicalOutputArgDef[argIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(canOut, "SSGraphicalAPIReference")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmp = <span class="tlc_bifunc">REMOVEFIELD</span>(canOut, "SSGraphicalAPIReference")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Remove graphical DS reference from Canonical DWorks</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> argIdx = system.Interface.NumCanonicalDWorkArgDefs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> canDW = system.Interface.CanonicalDWorkArgDef[argIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(canDW, "SSGraphicalAPIReference")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmp = <span class="tlc_bifunc">REMOVEFIELD</span>(canDW, "SSGraphicalAPIReference")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span> <span class="tlc_comment">%% <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemIsReusedFcn">LibSystemIsReusedFcn</a>(system)</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%  </span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn  = tmpBlockFcn
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Local<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>FcnCacheHeaderInInterfaceFile<span style="padding-left:9.5px"></span>================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Caches<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>header<span style="padding-left:9.5px"></span>file<span style="padding-left:9.5px"></span>(header.h)<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>be<span style="padding-left:9.5px"></span>included<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>model_testinterface.h
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>If<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>header<span style="padding-left:9.5px"></span>file<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>not<span style="padding-left:9.5px"></span>already<span style="padding-left:9.5px"></span>included<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>model_testinterface.h,<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>then<span style="padding-left:9.5px"></span>cache<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>header<span style="padding-left:9.5px"></span>file<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>put<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>#include<span style="padding-left:9.5px"></span>"header.h"<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>Includes<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>section<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>model_testinterface.h<span style="padding-left:9.5px"></span>file
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>TopTester:<span style="padding-left:9.5px"></span>test/toolbox/simulink/variants/tTypesToPrivate.m
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="FcnCacheHeaderInInterfaceFile" class="tlc_func">FcnCacheHeaderInInterfaceFile</a>(header) <span class="tlc_fkw">void</span>
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">WHITE_SPACE</span>(header)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> errTxt = "HeaderFile not specified."
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibReportFatalError">LibReportFatalError</a>(errTxt)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> modelHdrFilename = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/filepackaginglib.html#SLibGetFileNameForCode">SLibGetFileNameForCode</a>("mdl_hdr")
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> modelPrivHdrFilename = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/filepackaginglib.html#SLibGetFileNameForCode">SLibGetFileNameForCode</a>("mdl_priv_hdr")
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> header == "%<<span>modelHdrFilename</span>>.h" || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;header == "%<<span>modelPrivHdrFilename</span>>.h"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Dont add model header files. These are added later</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> header = "/"" + header + "/""
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%% Keep track of when we've already #include'd this file for some</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% other data of this class.  #include this file once.</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Note the file should already include delimeter.</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> headerIncluded = TLC_FALSE
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_with">%with</span> ::CompiledModel
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a record for this driver file, if not exists already</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISFIELD</span>(SystemGraphicalMap, "HeaderMap")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_addtorecord">%addtorecord</span> SystemGraphicalMap HeaderMap {}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> driverHdrMap = SystemGraphicalMap.HeaderMap
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> driverHdrMap = SystemGraphicalMap.HeaderMap
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%% driverHdrMap contains a map of header files included</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% for this driver file. Loop through the contents to check if</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% header is included</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> headers    = <span class="tlc_bifunc">FIELDNAMES</span>(driverHdrMap)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numHeaders = <span class="tlc_bifunc">SIZE</span>(headers)[1]
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> numHeaders > 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> hdrIdx = numHeaders
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (header == <span class="tlc_bifunc">GETFIELD</span>(driverHdrMap, headers[hdrIdx]))
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> headerIncluded = TLC_TRUE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !headerIncluded
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> hdrmarker = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibConvertNameToIdentifier">LibConvertNameToIdentifier</a>(header)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmpBuffer = "#include %<<span>header</span>>/n"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/filepackaginglib.html#SLibCacheCodeToFile">SLibCacheCodeToFile</a>("testif_hdr_incl", tmpBuffer)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_addtorecord">%addtorecord</span> driverHdrMap %<<span>hdrmarker</span>> header
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="SLibDeclareStaticDatainDriverFile" class="tlc_func">SLibDeclareStaticDatainDriverFile</a>() <span class="tlc_fkw">void</span>
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !MultiInstanceERTCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> ""
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> recArgs    = []
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rootSystem = System[NumSystems-1]
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> reqInsts = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sysbodlib.html#LibGetSystemField">LibGetSystemField</a>(rootSystem, "ReqRootPrmHdrDataInsts")
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> static   = "static" 
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> tmpFcnBuf
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !reqInsts.SimStructInst &amp;&amp; !EmptyRealTimeObject
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Real-time model */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>static</span>> %<::tSimStructType> %<::tSimStruct>_;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>static</span>> %<::tSimStructType> *const %<::tSimStruct> = &amp;%<<span>tSimStruct</span>>_; 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !reqInsts.ParamsInst &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;!<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/prm_cacheutils.html#SLibPrmBufferIsEmpty">SLibPrmBufferIsEmpty</a>("SimulinkGlobal", "Instance")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>static</span>> %<::tParametersType> %<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetParametersStruct">LibGetParametersStruct</a>()</span>>_ = {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/prm_cacheutils.html#SLibGetPrmBuffer">SLibGetPrmBuffer</a>("SimulinkGlobal", "Instance")> 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;}; /* Modifiable parameters */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>static</span>> %<::tParametersType>* %<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetParametersStruct">LibGetParametersStruct</a>"><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetParametersStruct">LibGetParametersStruct</a></a>()</span>> = &amp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetParametersStruct">LibGetParametersStruct</a>"><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetParametersStruct">LibGetParametersStruct</a></a>()</span>>_;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !reqInsts.BlockIOInst &amp;&amp; !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonprmlib.html#LibBlockIOInstanceIsEmpty">LibBlockIOInstanceIsEmpty</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Observable signals */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>static</span>> %<::tBlockIOType> %<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetBlockIOStruct">LibGetBlockIOStruct</a>()</span>>_; 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>static</span>> %<::tBlockIOType> *%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetBlockIOStruct">LibGetBlockIOStruct</a>"><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetBlockIOStruct">LibGetBlockIOStruct</a></a>()</span>> = &amp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetBlockIOStruct">LibGetBlockIOStruct</a>"><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetBlockIOStruct">LibGetBlockIOStruct</a></a>()</span>>_; 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !reqInsts.DworkInst &amp;&amp; !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonprmlib.html#LibDWorkInstanceIsEmpty">LibDWorkInstanceIsEmpty</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Observable states */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>static</span>> %<::tDWorkType> %<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetDWorkStruct">LibGetDWorkStruct</a>()</span>>_; 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>static</span>> %<::tDWorkType> *%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetDWorkStruct">LibGetDWorkStruct</a>"><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetDWorkStruct">LibGetDWorkStruct</a></a>()</span>> = &amp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetDWorkStruct">LibGetDWorkStruct</a>"><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetDWorkStruct">LibGetDWorkStruct</a></a>()</span>>_; 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !reqInsts.ContStatesInst &amp;&amp; !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonprmlib.html#LibContStatesInstanceIsEmpty">LibContStatesInstanceIsEmpty</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Observable continuous states */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>static</span>> %<::tContStateType> %<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetContinuousStateStruct">LibGetContinuousStateStruct</a>()</span>>_; 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>static</span>> %<::tContStateType> *%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetContinuousStateStruct">LibGetContinuousStateStruct</a>"><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetContinuousStateStruct">LibGetContinuousStateStruct</a></a>()</span>> = &amp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetContinuousStateStruct">LibGetContinuousStateStruct</a>"><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetContinuousStateStruct">LibGetContinuousStateStruct</a></a>()</span>>_;  
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !reqInsts.PrevZCStatesInst &amp;&amp; !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonprmlib.html#LibPrevZCStatesInstanceIsEmpty">LibPrevZCStatesInstanceIsEmpty</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Triggered events */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>static</span>> %<::tPrevZCStateType> %<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetPreviousZCStruct">LibGetPreviousZCStruct</a>()</span>>_;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>static</span>> %<::tPrevZCStateType> *%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetPreviousZCStruct">LibGetPreviousZCStruct</a>"><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetPreviousZCStruct">LibGetPreviousZCStruct</a></a>()</span>> = &amp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetPreviousZCStruct">LibGetPreviousZCStruct</a>"><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetPreviousZCStruct">LibGetPreviousZCStruct</a></a>()</span>>_;  
 <br>&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> tmpFcnBuf
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> tmpFcnBuf
 <br>&nbsp;&nbsp;&nbsp; <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="SLibDefineRootIOInLocalScope" class="tlc_func">SLibDefineRootIOInLocalScope</a>() <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !(MultiInstanceERTCode)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> ""
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmpFcn = ::BlockFcn
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn = "Registration"
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> recArgs    = []
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rootSystem = System[NumSystems-1]
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> reqInsts   = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sysbodlib.html#LibGetSystemField">LibGetSystemField</a>(rootSystem, "ReqRootPrmHdrDataInsts")
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isPeriodicRateGrouping    = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sysbodlib.html#SLibSystemFcnPeriodicRateGrouping">SLibSystemFcnPeriodicRateGrouping</a>(rootSystem, "Initialize")
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> tmpFcnBuf
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !reqInsts.ExtInpsInst &amp;&amp; !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonprmlib.html#LibExternalInputsInstanceIsEmpty">LibExternalInputsInstanceIsEmpty</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Declare model's inputs as local variables */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> RootIOStructures
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> recArgs =  recArgs + "%<::tInputType> *%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#SLibGetExternalInputStruct">SLibGetExternalInputStruct</a>(0,isCallSite,TLC_FALSE)>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = ExternalInputs.NumExternalInputs 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extInp = ExternalInputs.ExternalInput[idx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> id = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(extInp)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_with">%with</span> extInp
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> extInp.StorageClass != "Auto" 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_continue">%continue</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dataType  = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#SLibGetRecordDataTypeName">SLibGetRecordDataTypeName</a>(extInp, "")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordWidth">LibGetRecordWidth</a>(extInp) > 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> recArgs =  recArgs + "%<<span>dataType</span>> %<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#SLibGetExternalInputStruct">SLibGetExternalInputStruct</a>(0,0,TLC_FALSE)>%<<span>UQualifier</span>>%<<span>id</span>>[%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordWidth">LibGetRecordWidth</a>(extInp)>]"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> passByRef = MultiInstanceERTCode &amp;&amp; !RootIOStructures
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> optStar   = passByRef ? "*" : ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> recArgs = recArgs + "%<<span>dataType</span>> %<<span>optStar</span>>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#SLibGetExternalInputStruct">SLibGetExternalInputStruct</a>(0, 0 ,TLC_FALSE)>%<<span>UQualifier</span>>%<<span>id</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>dataType</span>> %<<span>optStar</span>>%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetExternalInputStruct">LibGetExternalInputStruct</a>()</span>>%<<span>UQualifier</span>>%<<span>id</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !reqInsts.ExtOutputsInst &amp;&amp; !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonprmlib.html#LibExternalOutputsInstanceIsEmpty">LibExternalOutputsInstanceIsEmpty</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Declare model's outputs as local variables */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> RootIOStructures
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> recArgs = recArgs + "%<::tOutputType> *%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#SLibGetExternalOutputStruct">SLibGetExternalOutputStruct</a>(0,isCallSite,TLC_FALSE)>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<::tOutputType> *%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetExternalOutputStruct">LibGetExternalOutputStruct</a>()</span>>; 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = ExternalOutputs.NumExternalOutputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extOut       = ExternalOutputs.ExternalOutput[idx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sysIdx       = extOut.Block[0]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> blkIdx       = extOut.Block[1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outportBlock = System[sysIdx].Block[blkIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/blkiolib.html#SLibExternalOutputIsVirtual">SLibExternalOutputIsVirtual</a>(outportBlock) || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/sysarglib.html#FcnArgNeeded">FcnArgNeeded</a>(extOut, rootSystem.CurrentTID, isPeriodicRateGrouping)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_continue">%continue</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_with">%with</span> outportBlock
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> portWidth = <a href="https://foool.github.io/r2020a/rtw/c/tlc/public_api/blkio_api.html#LibBlockInputSignalWidth">LibBlockInputSignalWidth</a>(0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dataType  = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/blkiolib.html#LibBlockInputSignalDataTypeName">LibBlockInputSignalDataTypeName</a>(0, "")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> id = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(outportBlock)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> portWidth > 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> recArgs = recArgs + "%<<span>dataType</span>> %<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#SLibGetExternalOutputStruct">SLibGetExternalOutputStruct</a>(0, 0 ,TLC_FALSE)>%<<span>YQualifier</span>>%<<span>id</span>>[%<<span>portWidth</span>>]"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>dataType</span>> %<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetExternalOutputStruct">LibGetExternalOutputStruct</a>()</span>>%<<span>YQualifier</span>>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(outportBlock)>[%<<span>portWidth</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> recArgs = recArgs + "%<<span>dataType</span>> *%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#SLibGetExternalOutputStruct">SLibGetExternalOutputStruct</a>(0, 0,TLC_FALSE)>%<<span>YQualifier</span>>%<<span>id</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>dataType</span>> *%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetExternalOutputStruct">LibGetExternalOutputStruct</a>()</span>>%<<span>YQualifier</span>>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(outportBlock)>; 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> tmpFcnBuf
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn = tmpFcn
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%return tmpFcnBuf</span>
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = <span class="tlc_bifunc">SIZE</span>(recArgs,1)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> idx == 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnArgs = recArgs[idx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnArgs = fcnArgs + ", %<recArgs[idx]>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> fcnArgs
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_endif">%endif</span>  <span class="tlc_comment">%% !<span class="tlc_bifunc">EXISTS</span>("_ERT_TEST_INTERFACE_LIB")</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>[EOF]<span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/erttestinterfacelib.html">erttestinterfacelib.tlc</a>
</span> <br></body></html>