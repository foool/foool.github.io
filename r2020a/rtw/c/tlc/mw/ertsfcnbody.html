<html>
<head>

<style>
p {
    color : black; font-family:courier; font-size: 80%;
}
body {
    line-height: 120%; font-family:courier; font-zize:60%;
}
.tlc_func {color : blue; font-weight: bold; font-size:120%;}
.tlc_comment {color : #9aa;}
.tlc_if {color: green;}.tlc_assign {color: green;}.tlc_each {color: green;}.tlc_foreach {color: green;}.tlc_endif {color: green;}.tlc_switch {color: green;}.tlc_case {color: green;}.tlc_return {color: green;}.tlc_elseif {color: green;}.tlc_else {color: green;}.tlc_assert {color: green;}.tlc_endwith {color: green;}.tlc_endforeach {color: green;}.tlc_generatefile {color: green;}.tlc_includepath {color: green;}.tlc_include {color: green;}.tlc_sprintf {color: green;}.tlc_while {color: green;}.tlc_endwhile {color: green;}.tlc_default {color: green;}.tlc_createrecord {color: green;}.tlc_mergerecord {color: green;}.tlc_language {color: green;}.tlc_roll {color: green;}.tlc_endroll {color: green;}.tlc_with {color: green;}.tlc_selectfile {color: green;}.tlc_openfile {color: green;}.tlc_closefile {color: green;}.tlc_def {color: green;}.tlc_undef {color: green;}.tlc_realformat {color: green;}.tlc_endswitch {color: green;}.tlc_addtorecord {color: green;}.tlc_break {color: green;}
.tlc_bifunc {color: brown;}
.tlc_fkw {color:blue; font-weight: 800;}
.tlc_output {color:#FFF; font-style:italic;}
.tlc_mchar {color:purple;}
</style>

</head>
<body>
<span class="tlc_comment">%%<span style="padding-left:9.5px"></span>============================================================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>system<span style="padding-left:9.5px"></span>file<span style="padding-left:9.5px"></span>creates<span style="padding-left:9.5px"></span><model>_sf.c<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>ERT's<span style="padding-left:9.5px"></span>S-Function<span style="padding-left:9.5px"></span>wrapper.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Copyright<span style="padding-left:9.5px"></span>1994-2019<span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>MathWorks,<span style="padding-left:9.5px"></span>Inc.
</span> <br><span class="tlc_comment">%%
</span> <br>&nbsp; <br><span class="tlc_include">%include</span> "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sfcnlib.html">sfcnlib.tlc</a>"
 <br><span class="tlc_include">%include</span> "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/prm_sfcntunable.html">prm_sfcntunable.tlc</a>"
 <br><span class="tlc_assign">%assign</span> ROLL_LIMIT         = ::CompiledModel.RollThreshold
 <br>&nbsp; <br><span class="tlc_if">%if</span> ::GenerateClassInterface
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> classConfObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertfcnprotocontrol.html#FcnGetRTWCPPStepPrototypeRecord">FcnGetRTWCPPStepPrototypeRecord</a>()
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> theClassName = classConfObj.ModelClassName
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> theObjectName = ::CompiledModel.GlobalScope.tModelObject
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br><span class="tlc_assign">%assign</span> tSimStructArg = GlobalScope.tSimStructArg
 <br>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibAddToCompiledModel">LibAddToCompiledModel</a>("tSimStructArg", tSimStructArg)>
 <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="GetERTSFcnNumExtInputs" class="tlc_func">GetERTSFcnNumExtInputs</a>() <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numExtInps = ExternalInputs.NumExternalInputs
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> ExportFunctionsMode == 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rootSystem = System[NumSystems-1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> id = rootSystem.NumChildSystems
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> systemId = rootSystem.ChildSystems[id][0]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> system = System[systemId]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> system.Type == "function-call" &amp;&amp; system.Exported == "yes"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numExtInps = numExtInps + 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> numExtInps
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function<span style="padding-left:9.5px"></span>DumpErtSFcnExternalInputs<span style="padding-left:9.5px"></span>=========================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Generate<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>S-Function<span style="padding-left:9.5px"></span>input<span style="padding-left:9.5px"></span>signal<span style="padding-left:9.5px"></span>registration<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>generated<span style="padding-left:9.5px"></span>ERT
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>code.<span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>will<span style="padding-left:9.5px"></span>register<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>signal<span style="padding-left:9.5px"></span>properties<span style="padding-left:9.5px"></span>(like<span style="padding-left:9.5px"></span>type<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>size)
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>every<span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>external<span style="padding-left:9.5px"></span>input<span style="padding-left:9.5px"></span>signal<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>mdlInitializeSizes<span style="padding-left:9.5px"></span>function.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>registration<span style="padding-left:9.5px"></span>will<span style="padding-left:9.5px"></span>be<span style="padding-left:9.5px"></span>generated<span style="padding-left:9.5px"></span>as<span style="padding-left:9.5px"></span>follow:
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>/*<span style="padding-left:9.5px"></span>Number<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>input<span style="padding-left:9.5px"></span>ports<span style="padding-left:9.5px"></span>*/
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>if<span style="padding-left:9.5px"></span>(!ssSetNumInputPorts(S,<span style="padding-left:9.5px"></span>NumberOfInputPorts))<span style="padding-left:9.5px"></span>return;
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>ssSetInputPort<Property>(S,<span style="padding-left:9.5px"></span>PortNumber,<span style="padding-left:9.5px"></span><PropertyValue`>);
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>...
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="DumpErtSFcnExternalInputs" class="tlc_func">DumpErtSFcnExternalInputs</a>() <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_with">%with</span> ExternalInputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Number of input ports */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;if (!ssSetNumInputPorts(%<<span>tSimStructArg</span>>, %<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GetERTSFcnNumExtInputs">GetERTSFcnNumExtInputs</a>()</span>>)) return;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> NumExternalInputs > 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = NumExternalInputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extInp = ExternalInput[idx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_with">%with</span> extInp
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% pIdx is the actual port index of the S-Fcn wrapper.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% The pIdx is remapped for exported function calls.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> pIdx = idx
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> ExportFunctionsMode == 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> pIdx = extInp.ExportedId - 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> portWidth  = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordWidth">LibGetRecordWidth</a>(extInp)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sampleTime = SampleTime[TID].PeriodAndOffset[0]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> offsetTime = SampleTime[TID].PeriodAndOffset[1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isComplex  = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordIsComplex">LibGetRecordIsComplex</a>(extInp)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dataTypeIdx= <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordDataTypeId">LibGetRecordDataTypeId</a>(extInp)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isFrame    = FrameData == "yes"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dims = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordDimensions">LibGetRecordDimensions</a>(extInp)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numDimensions = <span class="tlc_bifunc">SIZE</span>(%<<span>dims</span>>,1)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isBus = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibDataTypeIsBus">LibDataTypeIsBus</a>(dataTypeIdx)
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(extInp, "HasVarDims")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetInputPortRequiredContiguous(%<<span>tSimStructArg</span>>, %<<span>pIdx</span>>, %<GET_TYPE_ID_REPLACEMENT("true")>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> isBus == TLC_FALSE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetInputPortDimensionsMode(%<<span>tSimStructArg</span>>, %<<span>pIdx</span>>, VARIABLE_DIMS_MODE)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sfcnlib.html#SLibDumpSfcnInpDims">SLibDumpSfcnInpDims</a>("%<<span>tSimStructArg</span>>",pIdx,portWidth,numDimensions,dims)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#SLibSfunRegisterAndSetDataType">SLibSfunRegisterAndSetDataType</a>("input","%<<span>tSimStructArg</span>>",pIdx,dataTypeIdx,"namedObject")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetBusInputAsStruct(%<<span>tSimStructArg</span>>, %<<span>pIdx</span>>, 1);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> isComplex
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetInputPortComplexSignal(%<<span>tSimStructArg</span>>, %<<span>pIdx</span>>, COMPLEX_YES);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> isFrame
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetInputPortFrameData(%<<span>tSimStructArg</span>>, %<<span>pIdx</span>>, FRAME_YES);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetInputPortDirectFeedThrough(%<<span>tSimStructArg</span>>, %<<span>pIdx</span>>, 1);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% ssSetInputPortRequiredContiguous(%<<span>tSimStructArg</span>>, %<<span>pIdx</span>>, 1);</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> AllSampleTimesInherited == "yes" || ExportFunctionsMode == 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetInputPortSampleTime(%<<span>tSimStructArg</span>>, %<<span>pIdx</span>>, -1);      
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetInputPortSampleTime(%<<span>tSimStructArg</span>>, %<<span>pIdx</span>>, %<<span>sampleTime</span>>);      
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetInputPortOffsetTime(%<<span>tSimStructArg</span>>, %<<span>pIdx</span>>, %<<span>offsetTime</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">TYPE</span>(TID) == "Number"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::CompiledModel.IsSampleTimeOnPort[TID]=1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span> <span class="tlc_comment">%% extInp</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span> <span class="tlc_comment">%% ExternalInputs</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> ExportFunctionsMode == 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Register exported function-call wrappers. */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rootSystem = System[NumSystems-1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> id = rootSystem.NumChildSystems
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> systemId = rootSystem.ChildSystems[id][0]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> system = System[systemId]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> system.Type == "function-call" &amp;&amp; system.Exported == "yes"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> pIdx = System[systemId].ExportedId - 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetInputPortDataType(%<<span>tSimStructArg</span>>, %<<span>pIdx</span>>, SS_FCN_CALL);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetInputPortWidth(%<<span>tSimStructArg</span>>, %<<span>pIdx</span>>, 1);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetInputPortSampleTime(%<<span>tSimStructArg</span>>, %<<span>pIdx</span>>, -1);      
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetInputPortDirectFeedThrough(%<<span>tSimStructArg</span>>, %<<span>pIdx</span>>, 1);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssExportOutputFcn(%<<span>tSimStructArg</span>>, %<<span>pIdx</span>>, mdlExportedOutputFcn%<<span>pIdx</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemFcnIsEmpty">LibSystemFcnIsEmpty</a>(System[systemId],"Enable")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssExportEnableFcn(%<<span>tSimStructArg</span>>, %<<span>pIdx</span>>, mdlExportedEnableFcn%<<span>pIdx</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemFcnIsEmpty">LibSystemFcnIsEmpty</a>(System[systemId],"Disable")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssExportDisableFcn(%<<span>tSimStructArg</span>>, %<<span>pIdx</span>>, mdlExportedDisableFcn%<<span>pIdx</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> latchBuffer
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> NumModelInputs > 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> extIdx = ExternalInputs.NumExternalInputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> inputIsLatched = 1  <span class="tlc_comment">%% Assume</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rootSystem = System[NumSystems-1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> id = rootSystem.NumChildSystems
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sysId = rootSystem.ChildSystems[id][0]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> system = System[sysId]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> system.Type == "function-call" &amp;&amp; system.Exported == "yes" &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_bifunc">ISFIELD</span>(system, "NonLatchedInputs")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> latchIdx = <span class="tlc_bifunc">SIZE</span>(system.NonLatchedInputs, 1)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> extIdx == system.NonLatchedInputs[latchIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> inputIsLatched = 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> inputIsLatched == 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> inputIsLatched == 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sfcnIdx = ExternalInputs.ExternalInput[extIdx].ExportedId - 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssInportIsLatched(%<<span>tSimStructArg</span>>, %<<span>sfcnIdx</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> latchBuffer
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">WHITE_SPACE</span>(latchBuffer)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Declare latched input ports. */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>latchBuffer</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% DumpErtSFcnExternalInputs</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function<span style="padding-left:9.5px"></span>DumpErtSFcnExternalOutputs<span style="padding-left:9.5px"></span>========================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Generate<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>S-Function<span style="padding-left:9.5px"></span>output<span style="padding-left:9.5px"></span>signal<span style="padding-left:9.5px"></span>registration<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>generated<span style="padding-left:9.5px"></span>ERT
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>code.<span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>will<span style="padding-left:9.5px"></span>register<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>signal<span style="padding-left:9.5px"></span>properties<span style="padding-left:9.5px"></span>(like<span style="padding-left:9.5px"></span>type<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>size)
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>every<span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>external<span style="padding-left:9.5px"></span>output<span style="padding-left:9.5px"></span>signal<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>mdlInitializeSizes<span style="padding-left:9.5px"></span>function.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>registration<span style="padding-left:9.5px"></span>will<span style="padding-left:9.5px"></span>be<span style="padding-left:9.5px"></span>generated<span style="padding-left:9.5px"></span>as<span style="padding-left:9.5px"></span>follow:
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>/*<span style="padding-left:9.5px"></span>Number<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>output<span style="padding-left:9.5px"></span>ports<span style="padding-left:9.5px"></span>*/
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>if<span style="padding-left:9.5px"></span>(!ssSetNumOutputPorts(%<<span>tSimStructArg</span>>,<span style="padding-left:9.5px"></span>NumberOfOutputPorts))<span style="padding-left:9.5px"></span>return;
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>ssSetOutputPort<Property>(%<<span>tSimStructArg</span>>,<span style="padding-left:9.5px"></span>PortNumber,<span style="padding-left:9.5px"></span><PropertyValue>);
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>...
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="DumpErtSFcnExternalOutputs" class="tlc_func">DumpErtSFcnExternalOutputs</a>() <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_with">%with</span> ExternalOutputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Number of output ports */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;if (!ssSetNumOutputPorts(%<<span>tSimStructArg</span>>, %<<span>NumExternalOutputs</span>>)) return;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> NumExternalOutputs > 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = ExternalOutputs.NumExternalOutputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extOut       = ExternalOutputs.ExternalOutput[idx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sysIdx       = extOut.Block[0]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> blkIdx       = extOut.Block[1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outportBlock = System[sysIdx].Block[blkIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_with">%with</span> System[sysIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_with">%with</span> outportBlock
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> portWidth     = <a href="https://foool.github.io/r2020a/rtw/c/tlc/public_api/blkio_api.html#LibBlockInputSignalWidth">LibBlockInputSignalWidth</a>(0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dataTypeIdx   = <a href="https://foool.github.io/r2020a/rtw/c/tlc/public_api/blkio_api.html#LibBlockInputSignalDataTypeId">LibBlockInputSignalDataTypeId</a>(0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numDimensions = <a href="https://foool.github.io/r2020a/rtw/c/tlc/public_api/blkio_api.html#LibBlockInputSignalNumDimensions">LibBlockInputSignalNumDimensions</a>(0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isComplex     = <a href="https://foool.github.io/r2020a/rtw/c/tlc/public_api/blkio_api.html#LibBlockInputSignalIsComplex">LibBlockInputSignalIsComplex</a>(0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isFrame       = extOut.FrameData == "yes"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isBus         = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibDataTypeIsBus">LibDataTypeIsBus</a>(dataTypeIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">TYPE</span>(TID) == "Number" 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sampleTime    = SampleTime[TID].PeriodAndOffset[0]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> offsetTime    = SampleTime[TID].PeriodAndOffset[1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sampleTime    = "mxGetInf()"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> offsetTime    = 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(extOut, "HasVarDims") 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% variable-size output signal + C++ class interface not supported</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% see g1147332</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibReportErrorWithId">SLibReportErrorWithId</a>("RTW:tlc:ERTSfcnCPPVarSize")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !isBus
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetOutputPortDimensionsMode(%<<span>tSimStructArg</span>>, %<<span>idx</span>>, VARIABLE_DIMS_MODE);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dims = <a href="https://foool.github.io/r2020a/rtw/c/tlc/public_api/blkio_api.html#LibBlockInputSignalDimensions">LibBlockInputSignalDimensions</a>(0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sfcnlib.html#SLibDumpSfcnOutDims">SLibDumpSfcnOutDims</a>("%<<span>tSimStructArg</span>>",idx,portWidth,numDimensions,dims)>
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#SLibSfunRegisterAndSetDataType">SLibSfunRegisterAndSetDataType</a>("output","%<<span>tSimStructArg</span>>",idx,dataTypeIdx,"namedObject")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> locBusObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/paramlib.html#LibBlockParamSetting">LibBlockParamSetting</a>("Outport", "BusObject")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">WHITE_SPACE</span>(locBusObj)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetBusObjectName(%<<span>tSimStructArg</span>>, %<<span>idx</span>>, (void *)"%<<span>locBusObj</span>>");
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> locOutStruct = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/paramlib.html#LibBlockParamSetting">LibBlockParamSetting</a>("Outport", "OutputAsStructure")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetBusOutputAsStruct(%<<span>tSimStructArg</span>>, %<<span>idx</span>>, %<<span>locOutStruct</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> isComplex
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetOutputPortComplexSignal(%<<span>tSimStructArg</span>>, %<<span>idx</span>>, COMPLEX_YES);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>      
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> isFrame
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetOutputPortFrameData(%<<span>tSimStructArg</span>>, %<<span>idx</span>>, FRAME_YES);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> ExportFunctionsMode == 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetOutputPortOptimOpts(%<<span>tSimStructArg</span>>, %<<span>idx</span>>, SS_NOT_REUSABLE_AND_GLOBAL);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> AllSampleTimesInherited == "yes" || ExportFunctionsMode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetOutputPortSampleTime(%<<span>tSimStructArg</span>>, %<<span>idx</span>>, -1);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetOutputPortSampleTime(%<<span>tSimStructArg</span>>, %<<span>idx</span>>, %<<span>sampleTime</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetOutputPortOffsetTime(%<<span>tSimStructArg</span>>, %<<span>idx</span>>, %<<span>offsetTime</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">TYPE</span>(TID) == "Number"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::CompiledModel.IsSampleTimeOnPort[TID]=1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span> <span class="tlc_comment">%% outportBlock</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span> <span class="tlc_comment">%% System[sysIdx]</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_undef">%undef</span> extOut, sysIdx, blkIdx
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span> <span class="tlc_comment">%% ExternalOutputs</span>
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% DumpErtSFcnExternalOutputs</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>GetInputPtrTypeFromId<span style="padding-left:9.5px"></span>============================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>return<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>Simulink<span style="padding-left:9.5px"></span>input<span style="padding-left:9.5px"></span>signal<span style="padding-left:9.5px"></span>pointer<span style="padding-left:9.5px"></span>type<span style="padding-left:9.5px"></span>from<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>given
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>data-type<span style="padding-left:9.5px"></span>identifier.<span style="padding-left:9.5px"></span>On<span style="padding-left:9.5px"></span>glnxa64,<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>name<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>DataType<span style="padding-left:9.5px"></span>sfix33<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>set<span style="padding-left:9.5px"></span>to
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>uint64_T<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>FixPt_DataTypeSetup.
</span> <br>&nbsp; <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Syntax:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GetInputPtrTypeFromId">GetInputPtrTypeFromId</a>(dataTypeId)<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Arguments:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>id<span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>data-type<span style="padding-left:9.5px"></span>identifier
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="GetInputPtrTypeFromId" class="tlc_func">GetInputPtrTypeFromId</a>(id) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> storageDataType = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetDataTypeStorageIdFromId">LibGetDataTypeStorageIdFromId</a>(...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetDataTypeIdAliasedThruToFromId">LibGetDataTypeIdAliasedThruToFromId</a>(id))
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_switch">%switch</span> storageDataType
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> tSS_DOUBLE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> "InputRealPtrsType"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> tSS_SINGLE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> "InputReal32PtrsType"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> tSS_UINT8
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> "InputUInt8PtrsType"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> tSS_UINT16
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> "InputUInt16PtrsType"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> tSS_UINT32
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> "InputUInt32PtrsType"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> tSS_BOOLEAN
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> "InputBooleanPtrsType"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> tSS_INT8
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> "InputInt8PtrsType"      
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> tSS_INT16
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> "InputInt16PtrsType"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> tSS_INT32
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> "InputInt32PtrsType"     
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_default">%default</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% for structures, use char* because marshalling uses</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% structure field offset (computed by Simulink in bytes).</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibIsStructDataType">LibIsStructDataType</a>(id)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> "const char * const *"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> "const %<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetDataTypeNameFromId">LibGetDataTypeNameFromId</a>(id)> * const *"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endswitch">%endswitch</span>
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% GetInputPtrTypeFromId</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>GenerateImportedExternalSignalDefinition<span style="padding-left:9.5px"></span>=========================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>If<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>model<span style="padding-left:9.5px"></span>has<span style="padding-left:9.5px"></span>imported<span style="padding-left:9.5px"></span>external<span style="padding-left:9.5px"></span>signals<span style="padding-left:9.5px"></span>(or<span style="padding-left:9.5px"></span>pointer<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>imported
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>signals)<span style="padding-left:9.5px"></span>this<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>will<span style="padding-left:9.5px"></span>declared<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>export<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>imported<span style="padding-left:9.5px"></span>signals.<span style="padding-left:9.5px"></span>The
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>signals<span style="padding-left:9.5px"></span>will<span style="padding-left:9.5px"></span>be<span style="padding-left:9.5px"></span>declared<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>generated<span style="padding-left:9.5px"></span>S-Function<span style="padding-left:9.5px"></span>wrapper.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Syntax:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateImportedExternalSignalDefinition">GenerateImportedExternalSignalDefinition</a>(signalRecord)
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Arguments:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>signalRecord<span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>A<span style="padding-left:9.5px"></span>signal<span style="padding-left:9.5px"></span>record<span style="padding-left:9.5px"></span>from<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>external<span style="padding-left:9.5px"></span>inputs<span style="padding-left:9.5px"></span>or<span style="padding-left:9.5px"></span>block<span style="padding-left:9.5px"></span>outputs
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>table.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Returns:
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>/*<span style="padding-left:9.5px"></span>model<span style="padding-left:9.5px"></span>imported<span style="padding-left:9.5px"></span>external<span style="padding-left:9.5px"></span>pointer<span style="padding-left:9.5px"></span>*/
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>static<span style="padding-left:9.5px"></span>real_T<span style="padding-left:9.5px"></span>vec1_value[3];
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>real_T<span style="padding-left:9.5px"></span>*vec1[3]<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>{<span style="padding-left:9.5px"></span>&amp;vec1_value[0]<span style="padding-left:9.5px"></span>,<span style="padding-left:9.5px"></span>&amp;vec1_value[1]<span style="padding-left:9.5px"></span>,<span style="padding-left:9.5px"></span>&amp;vec1_value[2]<span style="padding-left:9.5px"></span>};
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>/*<span style="padding-left:9.5px"></span>model<span style="padding-left:9.5px"></span>imported<span style="padding-left:9.5px"></span>output<span style="padding-left:9.5px"></span>signals<span style="padding-left:9.5px"></span>pointer<span style="padding-left:9.5px"></span>*/
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>static<span style="padding-left:9.5px"></span>real_T<span style="padding-left:9.5px"></span>vec2_value[2];
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>real_T<span style="padding-left:9.5px"></span>*vec2[2]<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>{<span style="padding-left:9.5px"></span>&amp;vec2_value[0]<span style="padding-left:9.5px"></span>,<span style="padding-left:9.5px"></span>&amp;vec2_value[1]<span style="padding-left:9.5px"></span>};
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>/*<span style="padding-left:9.5px"></span>model<span style="padding-left:9.5px"></span>imported<span style="padding-left:9.5px"></span>external<span style="padding-left:9.5px"></span>*/
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>real_T<span style="padding-left:9.5px"></span>vec3[3];
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="GenerateImportedExternalSignalDefinition" class="tlc_func">GenerateImportedExternalSignalDefinition</a>(signal) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> signal.StorageClass == "ImportedExtern" || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;signal.StorageClass == "ImportedExternPointer"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dataType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#SLibGetRecordDataTypeName">SLibGetRecordDataTypeName</a>(signal, "")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> optWidth = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibOptionalVectorWidth">LibOptionalVectorWidth</a>(<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordWidth">LibGetRecordWidth</a>(signal))
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span>       id = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(signal)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> signal.StorageClass == "ImportedExternPointer"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* %<::CompiledModel.Name> imported external pointer */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static %<<span>dataType</span>> %<<span>id</span>>_value%<<span>optWidth</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>dataType</span>> *%<<span>id</span>> = /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordWidth">LibGetRecordWidth</a>(signal) == 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;%<<span>id</span>>_value;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>id</span>>_value;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* %<::CompiledModel.Name> imported external `*/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>dataType</span>> %<<span>id</span>>%<<span>optWidth</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% GenerateImportedExternalSignalDefinition</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>GenerateImportedExternalParameterDefinition<span style="padding-left:9.5px"></span>======================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>If<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>model<span style="padding-left:9.5px"></span>has<span style="padding-left:9.5px"></span>imported<span style="padding-left:9.5px"></span>external<span style="padding-left:9.5px"></span>parameter<span style="padding-left:9.5px"></span>(or<span style="padding-left:9.5px"></span>pointer<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>imported
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>parameters)<span style="padding-left:9.5px"></span>this<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>will<span style="padding-left:9.5px"></span>declared<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>export<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>imported<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>parameters.<span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>parameters<span style="padding-left:9.5px"></span>will<span style="padding-left:9.5px"></span>be<span style="padding-left:9.5px"></span>declared<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>generated<span style="padding-left:9.5px"></span>S-Function<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>wrapper.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Syntax:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateImportedExternalParameterDefinition">GenerateImportedExternalParameterDefinition</a>(parameterRecord)
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Arguments:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>parameterRecord<span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>A<span style="padding-left:9.5px"></span>parmeter<span style="padding-left:9.5px"></span>record<span style="padding-left:9.5px"></span>from<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>models<span style="padding-left:9.5px"></span>paramter<span style="padding-left:9.5px"></span>vector
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Returns:
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>/*<span style="padding-left:9.5px"></span>model<span style="padding-left:9.5px"></span>imported<span style="padding-left:9.5px"></span>external<span style="padding-left:9.5px"></span>pointer<span style="padding-left:9.5px"></span>*/
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>static<span style="padding-left:9.5px"></span>real_T<span style="padding-left:9.5px"></span>vec1_value[3];
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>real_T<span style="padding-left:9.5px"></span>*vec1[3]<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>{<span style="padding-left:9.5px"></span>&amp;vec1_value[0]<span style="padding-left:9.5px"></span>,<span style="padding-left:9.5px"></span>&amp;vec1_value[1]<span style="padding-left:9.5px"></span>,<span style="padding-left:9.5px"></span>&amp;vec1_value[2]<span style="padding-left:9.5px"></span>};
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>/*<span style="padding-left:9.5px"></span>model<span style="padding-left:9.5px"></span>imported<span style="padding-left:9.5px"></span>external<span style="padding-left:9.5px"></span>*/
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>real_T<span style="padding-left:9.5px"></span>vec3[3];
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="GenerateImportedExternalParameterDefinition" class="tlc_func">GenerateImportedExternalParameterDefinition</a>(mdlPrm) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dataType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#SLibGetRecordDataTypeName">SLibGetRecordDataTypeName</a>(mdlPrm, "")
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numOfElements = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/paramlib.html#LibBlockParameterWidth">LibBlockParameterWidth</a>(mdlPrm)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> optWidth = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibOptionalVectorWidth">LibOptionalVectorWidth</a>(numOfElements)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span>       id = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(mdlPrm)
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> mdlPrm.StorageClass == "ImportedExternPointer"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* %<::CompiledModel.Name> imported external pointer */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;static %<<span>dataType</span>> %<<span>id</span>>_value%<<span>optWidth</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>dataType</span>> *%<<span>id</span>> = /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> numOfElements == 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;%<<span>id</span>>_value;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>id</span>>_value;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* %<::CompiledModel.Name> imported external `*/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>dataType</span>> %<<span>id</span>>%<<span>optWidth</span>>;
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% GenerateImportedExternalSignalDefinition</span>
 <br>&nbsp; <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>DumpImportedExternalSignalDeclaration<span style="padding-left:9.5px"></span>============================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>will<span style="padding-left:9.5px"></span>generate<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>needed<span style="padding-left:9.5px"></span>declations<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>model<span style="padding-left:9.5px"></span>imported
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>extrnal<span style="padding-left:9.5px"></span>signals.<span style="padding-left:9.5px"></span>See<span style="padding-left:9.5px"></span>GenerateImportedExternalSignalDefinition<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>more
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>information.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="DumpImportedExternalSignalDeclaration" class="tlc_func">DumpImportedExternalSignalDeclaration</a>() <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> ExternalInputs.NumImportedExternSignals > 0 || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ExternalInputs.NumImportedExternPointerSignals > 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Imported external inputs */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = ExternalInputs.NumExternalInputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extInp = ExternalInputs.ExternalInput[idx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateImportedExternalSignalDefinition">GenerateImportedExternalSignalDefinition</a>(extInp)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> BlockOutputs.NumImportedExternSignals > 0 || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;BlockOutputs.NumImportedExternPointerSignals > 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Imported output signals */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> boIdx = BlockOutputs.NumExternalBlockOutputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> bo = BlockOutputs.ExternalBlockOutput[boIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateImportedExternalSignalDefinition">GenerateImportedExternalSignalDefinition</a>(bo)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> dwIdx = DWorks.NumDWorks
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dw = DWorks.DWork[dwIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateImportedExternalSignalDefinition">GenerateImportedExternalSignalDefinition</a>(dw)>
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% DumpImportedExternalSignalDeclaration</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>DumpImportedExternalParameterDeclaration<span style="padding-left:9.5px"></span>=========================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>will<span style="padding-left:9.5px"></span>generate<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>needed<span style="padding-left:9.5px"></span>declaration<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>model<span style="padding-left:9.5px"></span>imported
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>external<span style="padding-left:9.5px"></span>parameters.<span style="padding-left:9.5px"></span>See<span style="padding-left:9.5px"></span>GenerateImportedExternalParameterDefinition
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>more<span style="padding-left:9.5px"></span>information.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="DumpImportedExternalParameterDeclaration" class="tlc_func">DumpImportedExternalParameterDeclaration</a>() <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_with">%with</span> ::CompiledModel.ModelParameters
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (NumImportedExtern + NumImportedExternPointer) > 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Imported parameters */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> parIdx = NumParameters
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> ((Parameter[parIdx].StorageClass == "ImportedExtern" || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parameter[parIdx].StorageClass == "ImportedExternPointer") &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonprmlib.html#SLibIsModelParamConst">SLibIsModelParamConst</a>(Parameter[parIdx]))
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateImportedExternalParameterDefinition">GenerateImportedExternalParameterDefinition</a>(Parameter[parIdx])>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% DumpImportedExternalParameterDeclaration</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>GenerateTmpSFunctionInputSignalDef<span style="padding-left:9.5px"></span>===============================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Generates<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>right<span style="padding-left:9.5px"></span>hand<span style="padding-left:9.5px"></span>side<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>S-Function<span style="padding-left:9.5px"></span>input<span style="padding-left:9.5px"></span>signal<span style="padding-left:9.5px"></span>definition<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>which<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>mdlOutputs<span style="padding-left:9.5px"></span>function.<span style="padding-left:9.5px"></span>In<span style="padding-left:9.5px"></span>certain<span style="padding-left:9.5px"></span>situations,<span style="padding-left:9.5px"></span>this
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>favor<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>GenerateSFunctionInputSignalDefinition
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>because<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>latter<span style="padding-left:9.5px"></span>will<span style="padding-left:9.5px"></span>always<span style="padding-left:9.5px"></span>declare<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>local<span style="padding-left:9.5px"></span>variable.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Returns:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>((InputRealPtrsType)ssGetInputPortSignalPtrs(%<<span>tSimStructArg</span>>,0))
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="GenerateTmpSFunctionInputSignalDef" class="tlc_func">GenerateTmpSFunctionInputSignalDef</a>(idx) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extInp = ExternalInputs.ExternalInput[idx]
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sfcnIdx = idx
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> ExportFunctionsMode == 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sfcnIdx = extInp.ExportedId - 1
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_with">%with</span> extInp
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dataTypeIdx  = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#SLibGetRecordDataTypeId">SLibGetRecordDataTypeId</a>(extInp)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dataTypeEnum = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetDataTypeEnumFromId">LibGetDataTypeEnumFromId</a>(dataTypeIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> dataTypeEnum == "SS_FCN_CALL"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GetInputPtrTypeFromId">GetInputPtrTypeFromId</a>(dataTypeIdx)>) ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssGetInputPortSignalPtrs(%<<span>tSimStructArg</span>>, %<<span>sfcnIdx</span>>))/
 <br>&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span> <span class="tlc_comment">%% extInp</span>
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% GenerateTmpSFunctionInputSignalDef</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>GenerateSFunctionInputSignalDefinition<span style="padding-left:9.5px"></span>===========================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>generates<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>S-Function<span style="padding-left:9.5px"></span>input<span style="padding-left:9.5px"></span>signal<span style="padding-left:9.5px"></span>definition<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>the
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>mdlOutputs<span style="padding-left:9.5px"></span>function.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Syntax:<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateSFunctionInputSignalDefinition">GenerateSFunctionInputSignalDefinition</a>(prefix)
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Arguments:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>prefix<span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>signal<span style="padding-left:9.5px"></span>name<span style="padding-left:9.5px"></span>prefix<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Returns:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>InputRealPtrsType<span style="padding-left:9.5px"></span><prefix>0<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>(InputRealPtrsType)<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>ssGetInputPortSignalPtrs(%<<span>tSimStructArg</span>>,<span style="padding-left:9.5px"></span>0);
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="GenerateSFunctionInputSignalDefinition" class="tlc_func">GenerateSFunctionInputSignalDefinition</a>(prefix,idx) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extInp = ExternalInputs.ExternalInput[idx]
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dataTypeIdx  = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#SLibGetRecordDataTypeId">SLibGetRecordDataTypeId</a>(extInp)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dataTypeEnum = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetDataTypeEnumFromId">LibGetDataTypeEnumFromId</a>(dataTypeIdx)
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> dataTypeEnum == "SS_FCN_CALL"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%% VarDims signal is always contiguous, use</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% ssGetInputPortSignal to access.</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISFIELD</span>(extInp, "HasVarDims")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GetInputPtrTypeFromId">GetInputPtrTypeFromId</a>(dataTypeIdx)> %<<span>prefix</span>>%<<span>idx</span>> = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GetInputPtrTypeFromId">GetInputPtrTypeFromId</a>(dataTypeIdx)>) ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssGetInputPortSignalPtrs(%<<span>tSimStructArg</span>>, %<<span>idx</span>>);
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% use char* pointer to address structures because</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% marshalling uses structure field offset, which is</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% computed by Simulink in bytes</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> storageType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetDataTypeStorageIdFromId">LibGetDataTypeStorageIdFromId</a>(...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetDataTypeIdAliasedThruToFromId">LibGetDataTypeIdAliasedThruToFromId</a>(dataTypeIdx))
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibIsStructDataType">LibIsStructDataType</a>(storageType)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dataType = "char"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%% Note the difference between CGTypes and DataTypes</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%% FixPt_DataTypeSetup works on DataTypes, not CGTypes</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dataType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetDataTypeNameFromId">LibGetDataTypeNameFromId</a>(storageType)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;const %<<span>dataType</span>> *%<<span>prefix</span>>%<<span>idx</span>> = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(const %<<span>dataType</span>> *) ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssGetInputPortSignal(%<<span>tSimStructArg</span>>, %<<span>idx</span>>);
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% if it is AUTO Storage then look at SizeVarGroupIdx, else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% look at DimSizeDwork for Exported Global</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(extInp, "SizeVarGroupIdx")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> cgTypeIdx = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/opaquelib.html#SLibCGVarGroupMemberCGTypeIdx">SLibCGVarGroupMemberCGTypeIdx</a>(...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extInp.SizeVarGroupIdx[0], ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extInp.SizeVarGroupIdx[1])
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> <span class="tlc_bifunc">ISFIELD</span>(extInp,"DimSizeDWork")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> cgTypeIdx = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordCGTypeIdx">LibGetRecordCGTypeIdx</a>(::CompiledModel.DWorks.DWork[extInp.DimSizeDWork])
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">EXISTS</span>(cgTypeIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const %<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibCGTypeName">LibCGTypeName</a>(cgTypeIdx)> * %<<span>prefix</span>>%<<span>idx</span>>_Size = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(const %<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibCGTypeName">LibCGTypeName</a>(cgTypeIdx)> *) ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssGetCurrentInputPortDimensions(%<<span>tSimStructArg</span>>, %<<span>idx</span>>, 0);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% GenerateSFunctionInputSignalDefinition</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>GenerateTmpSFunctionOutputSignalDef<span style="padding-left:9.5px"></span>==============================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Generates<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>right<span style="padding-left:9.5px"></span>hand<span style="padding-left:9.5px"></span>side<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>S-Function<span style="padding-left:9.5px"></span>output<span style="padding-left:9.5px"></span>signal<span style="padding-left:9.5px"></span>definition<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>which<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>mdlOutputs<span style="padding-left:9.5px"></span>function.<span style="padding-left:9.5px"></span>In<span style="padding-left:9.5px"></span>certain<span style="padding-left:9.5px"></span>situations,<span style="padding-left:9.5px"></span>this
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>favor<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>GenerateSFunctionOutputSignalDefinition
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>because<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>latter<span style="padding-left:9.5px"></span>will<span style="padding-left:9.5px"></span>always<span style="padding-left:9.5px"></span>declare<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>local<span style="padding-left:9.5px"></span>variable.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Returns:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>((real_T<span style="padding-left:9.5px"></span>*)ssGetOutputPortSignal(%<<span>tSimStructArg</span>>,0))
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="GenerateTmpSFunctionOutputSignalDef" class="tlc_func">GenerateTmpSFunctionOutputSignalDef</a>(idx) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extOut       = ExternalOutputs.ExternalOutput[idx]
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sysIdx       = extOut.Block[0]
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> blkIdx       = extOut.Block[1]
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outportBlock = System[sysIdx].Block[blkIdx]
 <br>&nbsp;&nbsp;<span class="tlc_with">%with</span> System[sysIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_with">%with</span> outportBlock
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dTypeId = <a href="https://foool.github.io/r2020a/rtw/c/tlc/public_api/blkio_api.html#LibBlockInputSignalDataTypeId">LibBlockInputSignalDataTypeId</a>(0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isStruct = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibIsStructDataType">LibIsStructDataType</a>(dTypeId)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> isStruct
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dataType = "char"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dataType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/blkiolib.html#LibBlockInputSignalDataTypeName">LibBlockInputSignalDataTypeName</a>(0, "")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((%<<span>dataType</span>> *)ssGetOutputPortSignal(%<<span>tSimStructArg</span>>, %<<span>idx</span>>))/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span> <span class="tlc_comment">%% outportBlock</span>
 <br>&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span> <span class="tlc_comment">%% System[sysIdx]</span>
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% GenerateTmpSFunctionOutputSignalDef</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>GenerateSFunctionOutputSignalDefinition<span style="padding-left:9.5px"></span>==========================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>generates<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>S-Function<span style="padding-left:9.5px"></span>output<span style="padding-left:9.5px"></span>signal<span style="padding-left:9.5px"></span>definition<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>the
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>mdlOutputs<span style="padding-left:9.5px"></span>function.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Syntax:<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateSFunctionOutputSignalDefinition">GenerateSFunctionOutputSignalDefinition</a>(prefix)
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Arguments:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>prefix<span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>signal<span style="padding-left:9.5px"></span>name<span style="padding-left:9.5px"></span>prefix<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Returns:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>real_T<span style="padding-left:9.5px"></span>*<prefix>_0<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>ssGetOutputPortSignal(%<<span>tSimStructArg</span>>,<span style="padding-left:9.5px"></span>0);
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="GenerateSFunctionOutputSignalDefinition" class="tlc_func">GenerateSFunctionOutputSignalDefinition</a>(prefix,idx) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extOut       = ExternalOutputs.ExternalOutput[idx]
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sysIdx       = extOut.Block[0]
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> blkIdx       = extOut.Block[1]
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outportBlock = System[sysIdx].Block[blkIdx]
 <br>&nbsp;&nbsp;<span class="tlc_with">%with</span> System[sysIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_with">%with</span> outportBlock
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dTypeId = <a href="https://foool.github.io/r2020a/rtw/c/tlc/public_api/blkio_api.html#LibBlockInputSignalDataTypeId">LibBlockInputSignalDataTypeId</a>(0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isStruct = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibIsStructDataType">LibIsStructDataType</a>(dTypeId)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> isStruct
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dataType = "char"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dataType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/blkiolib.html#LibBlockInputSignalDataTypeName">LibBlockInputSignalDataTypeName</a>(0, "")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>dataType</span>> *%<<span>prefix</span>>%<<span>idx</span>> = (%<<span>dataType</span>> *)ssGetOutputPortSignal(%<<span>tSimStructArg</span>>, %<<span>idx</span>>);
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(extOut, "HasVarDims")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% SizeVarGroupIdx is only present for non virtual outports</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(extOut, "SizeVarGroupIdx")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> cgTypeIdx = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/opaquelib.html#SLibCGVarGroupMemberCGTypeIdx">SLibCGVarGroupMemberCGTypeIdx</a>(...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extOut.SizeVarGroupIdx[0], ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extOut.SizeVarGroupIdx[1])
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> width = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibCGTypeWidth">LibCGTypeWidth</a>(cgTypeIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibCGTypeName">LibCGTypeName</a>(cgTypeIdx)> * %<<span>prefix</span>>%<<span>idx</span>>_Size = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibCGTypeName">LibCGTypeName</a>(cgTypeIdx)> *) ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssGetCurrentOutputPortDimensionsAndRecordIndex(%<<span>tSimStructArg</span>>, %<<span>idx</span>>, 0);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span> <span class="tlc_comment">%% outportBlock</span>
 <br>&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span> <span class="tlc_comment">%% System[sysIdx]</span>
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% GenerateSFunctionOutputSignalDefinition</span>
 <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="FcnIndexSimStructCallResult" class="tlc_func">FcnIndexSimStructCallResult</a>(isContiguous, isComplex, elemIdx) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% the following is needed no matter what the roll threshold is.</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% VarDims inputs are always contiguous.</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% we generate InPort_0[i] if it is real</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% we generate InPort_0[2*i] and InPort_0[2*i+1] if it is complex.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> isContiguous
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !isComplex
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> indexReal = "[%<<span>elemIdx</span>>]"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> indexImg = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> indexReal = "[2*%<<span>elemIdx</span>>]"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> indexImg = "[2*%<<span>elemIdx</span>>+1]"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> indexReal = "[%<<span>elemIdx</span>>][0]"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> indexImg = "[%<<span>elemIdx</span>>][1]"
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> ["%<<span>indexReal</span>>", "%<<span>indexImg</span>>"]
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>GenerateTmpInputSignalConditioning<span style="padding-left:9.5px"></span>===============================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>generates<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>necessary<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>copy<span style="padding-left:9.5px"></span>input<span style="padding-left:9.5px"></span>signals<span style="padding-left:9.5px"></span>from<span style="padding-left:9.5px"></span>the
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>S-Function<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>generated<span style="padding-left:9.5px"></span>model<span style="padding-left:9.5px"></span>code.<span style="padding-left:9.5px"></span>In<span style="padding-left:9.5px"></span>certain<span style="padding-left:9.5px"></span>situations,<span style="padding-left:9.5px"></span>this
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>favor<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>GenerateInputSignalConditioning<span style="padding-left:9.5px"></span>because
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>latter<span style="padding-left:9.5px"></span>depends<span style="padding-left:9.5px"></span>on<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>use<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>locally<span style="padding-left:9.5px"></span>declared<span style="padding-left:9.5px"></span>variables.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Returns:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>{
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>int<span style="padding-left:9.5px"></span>i<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>0;
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>for(i<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>0;<span style="padding-left:9.5px"></span>i<span style="padding-left:9.5px"></span><<span style="padding-left:9.5px"></span>4;<span style="padding-left:9.5px"></span>i++)<span style="padding-left:9.5px"></span>{
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>vec1_value[i]<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>*tmpVar[i];
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>}
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>}
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><model>_U.root_vec4[0]<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>*tmpVar[0];
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><model>_U.root_vec4[1]<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>*tmpVar[1];
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>vec3[0]<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>*<prefix>2[0];
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>vec3[1]<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>*<prefix>2[1];
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="GenerateTmpInputSignalConditioning" class="tlc_func">GenerateTmpInputSignalConditioning</a>(tmpVar, rolllimit, idx) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> MultiInstanceERTCode &amp;&amp; !RootIOStructures
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> localUQualifier = "_"
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> localUQualifier = "."
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extInp = ExternalInputs.ExternalInput[idx]
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%fpcWithArgs - flag to indicate that there</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%is model step function prototype control,</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% or non-void-void C++ class</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fpcWithArgs = TLC_FALSE
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnConditionRootInputsAsSeparateArgs">FcnConditionRootInputsAsSeparateArgs</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> localVarName = "localIn%<<span>idx</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fpcWithArgs = TLC_TRUE
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span>    portWidth = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordWidth">LibGetRecordWidth</a>(extInp)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span>    isComplex = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordIsComplex">LibGetRecordIsComplex</a>(extInp)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span>      dotReal = "." + tRealPart
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span>      dotImag = "." + tImagPart
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span>      dTypeId = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#SLibGetRecordDataTypeId">SLibGetRecordDataTypeId</a>(extInp)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dataTypeEnum = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetDataTypeEnumFromId">LibGetDataTypeEnumFromId</a>(dTypeId)
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> dataTypeEnum == "SS_FCN_CALL"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%For model step function prototype control's case, there is really no</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%localUQualifier. Use its argument postion to pass in the needed local</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%variable name.</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> nameOrQualifier = fpcWithArgs ? localVarName : localUQualifier
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(extInp, "SizeVarGroupIdx")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sizeCGType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/opaquelib.html#SLibCGVarGroupMemberCGTypeIdx">SLibCGVarGroupMemberCGTypeIdx</a>(...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extInp.SizeVarGroupIdx[0], ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extInp.SizeVarGroupIdx[1])
 <br>&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> <span class="tlc_bifunc">ISFIELD</span>(extInp, "DimSizeDWork")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sizeCGType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordCGTypeIdx">LibGetRecordCGTypeIdx</a>(::CompiledModel.DWorks.DWork[extInp.DimSizeDWork])
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">EXISTS</span>(sizeCGType)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sizeVecLen = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibCGTypeWidth">LibCGTypeWidth</a>(sizeCGType)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibIsStructDataType">LibIsStructDataType</a>(dTypeId) &amp;&amp; portWidth == 1 ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; sizeVecLen == 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% multi-word fix-pt goes to the else branch.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/opaquelib.html#SLibGetInportSize">SLibGetInportSize</a>(idx, 1, "", -1, "", 0)> = *%<<span>tmpVar</span>>_Size;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> dimIdx = sizeVecLen
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/opaquelib.html#SLibGetInportSize">SLibGetInportSize</a>(idx, sizeVecLen, "", -1, "", dimIdx)> = %<<span>tmpVar</span>>_Size[%<<span>dimIdx</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibIsStructDataType">LibIsStructDataType</a>(dTypeId)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Special case for structured data type (this cover Simulink.Bus, </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Simulink.StructType and multi-word fixed-point data type)</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(extInp, "HasVarDims")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rhs = tmpVar
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rhs = "&amp;" + tmpVar + "[0][0]"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnGenSigAssignment">FcnGenSigAssignment</a>(extInp, 0, "", nameOrQualifier,rhs,rolllimit)>
 <br>&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> portWidth < rolllimit
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> varDims = <span class="tlc_bifunc">ISFIELD</span>(extInp, "HasVarDims")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> sigIdx = portWidth
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> indices = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnIndexSimStructCallResult">FcnIndexSimStructCallResult</a>(varDims, isComplex, sigIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> indexReal = indices[0]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> indexImg = indices[1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rhs = tmpVar + indexReal
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> isComplex
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnGenSigAssignment">FcnGenSigAssignment</a>(extInp, sigIdx, dotReal, nameOrQualifier,rhs,rolllimit)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rhs = tmpVar + indexImg
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnGenSigAssignment">FcnGenSigAssignment</a>(extInp, sigIdx, dotImag, nameOrQualifier,rhs,rolllimit)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnGenSigAssignment">FcnGenSigAssignment</a>(extInp, sigIdx,      "", nameOrQualifier,rhs,rolllimit)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span> <span class="tlc_comment">%% sigIdx = portWidth</span>
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span> <span class="tlc_comment">%% portWidth > rolllimit</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sigIdx = "i"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> varDims = <span class="tlc_bifunc">ISFIELD</span>(extInp, "HasVarDims")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> indices = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnIndexSimStructCallResult">FcnIndexSimStructCallResult</a>(varDims, isComplex, sigIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> indexReal = indices[0]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> indexImg = indices[1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rhs = tmpVar + indexReal
 <br>&nbsp;&nbsp;&nbsp;&nbsp;{
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int i = 0;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(i = 0; i < %<<span>portWidth</span>>; i++) {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> isComplex
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnGenSigAssignment">FcnGenSigAssignment</a>(extInp, sigIdx, dotReal, nameOrQualifier,rhs,rolllimit)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rhs = tmpVar + indexImg
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnGenSigAssignment">FcnGenSigAssignment</a>(extInp, sigIdx, dotImag, nameOrQualifier,rhs,rolllimit)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnGenSigAssignment">FcnGenSigAssignment</a>(extInp, sigIdx,      "", nameOrQualifier,rhs,rolllimit)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>  
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% GenerateTmpInputSignalConditioning</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>GenerateInputSignalConditioning<span style="padding-left:9.5px"></span>==================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>generates<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>necessary<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>copy<span style="padding-left:9.5px"></span>input<span style="padding-left:9.5px"></span>signals<span style="padding-left:9.5px"></span>from<span style="padding-left:9.5px"></span>the
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>S-Function<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>generated<span style="padding-left:9.5px"></span>model<span style="padding-left:9.5px"></span>code.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Syntax:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateInputSignalConditioning">GenerateInputSignalConditioning</a>(prefix,<span style="padding-left:9.5px"></span>rolllimit)
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Arguments:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>prefix<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>signal<span style="padding-left:9.5px"></span>name<span style="padding-left:9.5px"></span>prefix
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>rolllimit<span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>roll-limit<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>input<span style="padding-left:9.5px"></span>vector<span style="padding-left:9.5px"></span>signals<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Returns:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>{
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>int<span style="padding-left:9.5px"></span>i<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>0;
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>for(i<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>0;<span style="padding-left:9.5px"></span>i<span style="padding-left:9.5px"></span><<span style="padding-left:9.5px"></span>4;<span style="padding-left:9.5px"></span>i++)<span style="padding-left:9.5px"></span>{
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>vec1_value[i]<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>*<prefix>0[i];
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>}
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>}
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><model>_U.root_vec4[0]<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>*<prefix>1[0];
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><model>_U.root_vec4[1]<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>*<prefix>1[1];
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>vec3[0]<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>*<prefix>2[0];
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>vec3[1]<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>*<prefix>2[1];
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="GenerateInputSignalConditioning" class="tlc_func">GenerateInputSignalConditioning</a>(prefix, rolllimit,idx) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmpVar = prefix + "%<<span>idx</span>>"
 <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateTmpInputSignalConditioning">GenerateTmpInputSignalConditioning</a>(tmpVar,rolllimit,idx)>
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% GenerateInputSignalConditioning</span>
 <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="FcnGenSigAssignment" class="tlc_func">FcnGenSigAssignment</a>(sigRec,sigIdx,reim,localUQualifier,rhs,rolllimit) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span>       dTypeId = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#SLibGetRecordDataTypeId">SLibGetRecordDataTypeId</a>(sigRec)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isStructOrBus = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibIsStructDataType">LibIsStructDataType</a>(dTypeId)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span>     isComplex = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordIsComplex">LibGetRecordIsComplex</a>(sigRec)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span>            id = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(sigRec)
 <br>&nbsp;&nbsp;<span class="tlc_with">%with</span> sigRec
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> CGMODEL_ACCESS("CGModel.isIndividualFunctionMappingEnabled")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isFPC = CGMODEL_ACCESS("CGModel.FunctionPrototype.hasFunctionPrototype")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isFPC = <span class="tlc_bifunc">ISFIELD</span>(::CompiledModel, "RTWFcnClass")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> isFPC &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StorageClass != "Auto"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> errTxt = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Model step function prototype control does not support " + ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"non-Auto custom storage classes for root-level I/O ports."
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibReportFatalError">LibReportFatalError</a>(errTxt)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordWidth">LibGetRecordWidth</a>(sigRec) == 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sigIdx = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> isStructOrBus
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Reset the signal index for structured data type since the dedicated </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% marshalling functions manage the addressing themselves</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sigIdx = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sigIdx = "[%<<span>sigIdx</span>>]"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Special case for custom storage classes</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> StorageClass == "Custom"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (CustomStorageClassVersion > 1)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% EARLY RETURN ==></span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> rhs[0] == "&amp;"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rhs = "(*((" + <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetDataTypeNameFromId">LibGetDataTypeNameFromId</a>(dTypeId) + "*)" + rhs + "))"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibAccessCustomData">LibAccessCustomData</a>(sigRec, "set", sigIdx, reim, rhs)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fullId = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibCustomData">LibCustomData</a>(sigRec,"contents",sigIdx,reim)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span> <span class="tlc_comment">%% StorageClass != Custom</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Generate the base identifier</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_switch">%switch</span> StorageClass
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "Auto"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibFcnProtoCtrlActive">SLibFcnProtoCtrlActive</a>() &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> baseId = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetExternalInputStruct">LibGetExternalInputStruct</a>() + ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;localUQualifier + id
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> classConfObj.hasGlobalAccessForInport
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% void-void case</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> baseId = ::CompiledModel.GlobalScope.tModelObject + ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"." + <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetExternalInputStruct">LibGetExternalInputStruct</a>() + "." + id
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% non void-void case. Should be the same as the FPC's case</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> baseId = localUQualifier
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% model step function prototype control in place. </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Use local variable instead, which is passed in as</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% localUQualifier.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> baseId = localUQualifier
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ImportedExternPointer"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> baseId = id + "_value"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_default">%default</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> baseId = id
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endswitch">%endswitch</span> <span class="tlc_comment">%% StorageClass</span>
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add the index and real/imaginary parts to the identifier</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fullId = baseId + sigIdx + reim
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span> <span class="tlc_comment">%% StorageClass == Custom</span>
 <br>&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span> <span class="tlc_comment">%% sigRec</span>
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%% Add right-hand side</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> isStructOrBus
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> retVal = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> retVal
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#SLibAssignSLStructToUserStructND">SLibAssignSLStructToUserStructND</a>(dTypeId, <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordWidth">LibGetRecordWidth</a>(sigRec), ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fullId, rhs, Matrix(1,1) [0], 0, isComplex)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> retVal
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> retVal
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> fullId + " = " + rhs + ";"
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp;&nbsp;&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>GenerateTmpOutputSignalConditioning<span style="padding-left:9.5px"></span>==============================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>generates<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>necessary<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>copy<span style="padding-left:9.5px"></span>output<span style="padding-left:9.5px"></span>signals<span style="padding-left:9.5px"></span>from<span style="padding-left:9.5px"></span>the
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>generated<span style="padding-left:9.5px"></span>model<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>S-Function<span style="padding-left:9.5px"></span>outputs.<span style="padding-left:9.5px"></span>In<span style="padding-left:9.5px"></span>certain<span style="padding-left:9.5px"></span>situations,<span style="padding-left:9.5px"></span>this
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>favor<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>GenerateOutputSignalConditioning<span style="padding-left:9.5px"></span>because
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>latter<span style="padding-left:9.5px"></span>depends<span style="padding-left:9.5px"></span>on<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>use<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>locally<span style="padding-left:9.5px"></span>declared<span style="padding-left:9.5px"></span>variables.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Returns:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><tmpVar>[i]<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span><model>_Y.root_Out0;
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>{
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>int<span style="padding-left:9.5px"></span>i<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>0;
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>for(i<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>0;<span style="padding-left:9.5px"></span>i<span style="padding-left:9.5px"></span><<span style="padding-left:9.5px"></span>4;<span style="padding-left:9.5px"></span>i++)<span style="padding-left:9.5px"></span>{
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><tmpVar>[i]<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span><model>_Y.root_Out1[i];
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>}
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>}
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="GenerateTmpOutputSignalConditioning" class="tlc_func">GenerateTmpOutputSignalConditioning</a>(tmpVar, rolllimit,idx) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> MultiInstanceERTCode &amp;&amp; !RootIOStructures
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> localYQualifier = "_"
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> localYQualifier = "."
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extOut       = ExternalOutputs.ExternalOutput[idx]
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sysIdx       = extOut.Block[0]
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> blkIdx       = extOut.Block[1]
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outportBlock = System[sysIdx].Block[blkIdx]
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> id           = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(outportBlock)
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% fpcInPlace - flag to indicate that there</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% is model step function prototype control, </span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% or non-void-void C++ class</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fpcWithArgs = TLC_FALSE
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnConditionRootOutputsAsSeparateArgs">FcnConditionRootOutputsAsSeparateArgs</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> localVarName = "localOut%<<span>idx</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fpcWithArgs = TLC_TRUE
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_with">%with</span> System[sysIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> id = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(outportBlock)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_with">%with</span> outportBlock
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> portWidth = <a href="https://foool.github.io/r2020a/rtw/c/tlc/public_api/blkio_api.html#LibBlockInputSignalWidth">LibBlockInputSignalWidth</a>(0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dTypeId = <a href="https://foool.github.io/r2020a/rtw/c/tlc/public_api/blkio_api.html#LibBlockInputSignalDataTypeId">LibBlockInputSignalDataTypeId</a>(0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isStructOrBus = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibIsStructDataType">LibIsStructDataType</a>(dTypeId)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(extOut, "SizeVarGroupIdx")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sizeCGType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/opaquelib.html#SLibCGVarGroupMemberCGTypeIdx">SLibCGVarGroupMemberCGTypeIdx</a>(...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extOut.SizeVarGroupIdx[0], ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extOut.SizeVarGroupIdx[1])
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sizeVecLen = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibCGTypeWidth">LibCGTypeWidth</a>(sizeCGType)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> isStructOrBus &amp;&amp; portWidth == 1 ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; sizeVecLen == 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% multi-word goes to else branch.</span>
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*%<<span>tmpVar</span>>_Size = %<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/opaquelib.html#SLibGetOutportSize">SLibGetOutportSize</a>(idx, 1, "", -1, "", 0)>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> dimIdx = sizeVecLen
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpVar</span>>_Size[%<<span>dimIdx</span>>] = %<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/opaquelib.html#SLibGetOutportSize">SLibGetOutportSize</a>(idx, sizeVecLen, "", -1, "", dimIdx)>; 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> isStructOrBus
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dst = "&amp;%<<span>tmpVar</span>>[0]"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !fpcWithArgs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> objPrefix=""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Must be void-void case for class genearation, set object prefix</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> objPrefix = "%<::CompiledModel.GlobalScope.tModelObject>."
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>   
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/blkiolib.html#SLibExternalOutputIsVirtual">SLibExternalOutputIsVirtual</a>(outportBlock)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> src = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/blkiolib.html#LibBlockInputSignal">LibBlockInputSignal</a>(0, "", "", 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> src = "%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetExternalOutputStruct">LibGetExternalOutputStruct</a>()</span>>%<<span>localYQualifier</span>>%<<span>id</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> src = "%<<span>objPrefix</span>>%<<span>src</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> src = localVarName
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span> <span class="tlc_comment">%%!fpcWithArgs</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isComplex = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordIsComplex">LibGetRecordIsComplex</a>(extOut)         
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% When portWidth is not 1, SLibAssignUserStructToSLStructND expects that src is a pointer          </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/blkiolib.html#SLibExternalOutputIsVirtual">SLibExternalOutputIsVirtual</a>(outportBlock) &amp;&amp; (<span class="tlc_bifunc">ISEQUAL</span>(portWidth,1)==TLC_FALSE)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> src = "(%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/blkiolib.html#LibBlockInputSignalAddr">LibBlockInputSignalAddr</a>(0, "", "", 0)>)"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#SLibAssignUserStructToSLStructND">SLibAssignUserStructToSLStructND</a>(dTypeId, portWidth, dst, src, Matrix(1,1) [0], 0, isComplex)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>      
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> portWidth == 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpVar</span>>[0] = /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !fpcWithArgs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> objPrefix=""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Must be void-void case for class genearation, set object prefix</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> objPrefix = "%<::CompiledModel.GlobalScope.tModelObject>."
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span> 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/blkiolib.html#SLibExternalOutputIsVirtual">SLibExternalOutputIsVirtual</a>(outportBlock)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>objPrefix</span>>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/blkiolib.html#LibBlockInputSignal">LibBlockInputSignal</a>(0, "", "", 0)>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>objPrefix</span>>%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetExternalOutputStruct">LibGetExternalOutputStruct</a>()</span>>%<<span>localYQualifier</span>>%<<span>id</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>localVarName</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> portWidth < rolllimit
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> sigIdx = portWidth
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpVar</span>>[%<<span>sigIdx</span>>] = /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !fpcWithArgs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> objPrefix=""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Must be void-void case for class genearation, set object prefix</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> objPrefix = "%<::CompiledModel.GlobalScope.tModelObject>."
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span> 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/blkiolib.html#SLibExternalOutputIsVirtual">SLibExternalOutputIsVirtual</a>(outportBlock)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>objPrefix</span>>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/blkiolib.html#LibBlockInputSignal">LibBlockInputSignal</a>(0, "", "", sigIdx)>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>objPrefix</span>>%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetExternalOutputStruct">LibGetExternalOutputStruct</a>()</span>>%<<span>localYQualifier</span>>%<<span>id</span>>[%<<span>sigIdx</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>localVarName</span>>[%<<span>sigIdx</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span> <span class="tlc_comment">%% portWidth > rolllimit</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int i = 0;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(i = 0; i < %<<span>portWidth</span>>; i++) {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpVar</span>>[i] =  /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !fpcWithArgs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> objPrefix=""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Must be void-void case for class genearation, set object prefix</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> objPrefix = "%<::CompiledModel.GlobalScope.tModelObject>."
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span> 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/blkiolib.html#SLibExternalOutputIsVirtual">SLibExternalOutputIsVirtual</a>(outportBlock)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>objPrefix</span>>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/blkiolib.html#LibBlockInputSignal">LibBlockInputSignal</a>(0, "i", "", 0)>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>objPrefix</span>>%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetExternalOutputStruct">LibGetExternalOutputStruct</a>()</span>>%<<span>localYQualifier</span>>%<<span>id</span>>[i];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>localVarName</span>>[i];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>   <span class="tlc_comment">%% isstructorBus</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>   <span class="tlc_comment">%% outportBlock</span>
 <br>&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>    <span class="tlc_comment">%% System[sysIdx]</span>
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% GenerateTmpOutputSignalConditioning</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>GenerateOutputSignalConditioning<span style="padding-left:9.5px"></span>==================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>generates<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>necessary<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>copy<span style="padding-left:9.5px"></span>output<span style="padding-left:9.5px"></span>signals<span style="padding-left:9.5px"></span>from<span style="padding-left:9.5px"></span>the
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>generated<span style="padding-left:9.5px"></span>model<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>S-Function<span style="padding-left:9.5px"></span>outputs.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Syntax:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateOutputSignalConditioning">GenerateOutputSignalConditioning</a>(prefix,<span style="padding-left:9.5px"></span>rolllimit)
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Arguments:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>prefix<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>signal<span style="padding-left:9.5px"></span>name<span style="padding-left:9.5px"></span>prefix
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>rolllimit<span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>roll-limit<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>input<span style="padding-left:9.5px"></span>vector<span style="padding-left:9.5px"></span>signals<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Returns:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><prefix>0[i]<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span><model>_Y.root_Out0;
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>{
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>int<span style="padding-left:9.5px"></span>i<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>0;
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>for(i<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>0;<span style="padding-left:9.5px"></span>i<span style="padding-left:9.5px"></span><<span style="padding-left:9.5px"></span>4;<span style="padding-left:9.5px"></span>i++)<span style="padding-left:9.5px"></span>{
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><prefix>1[i]<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span><model>_Y.root_Out1[i];
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>}
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>}
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="GenerateOutputSignalConditioning" class="tlc_func">GenerateOutputSignalConditioning</a>(prefix, rolllimit,idx) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateTmpOutputSignalConditioning">GenerateTmpOutputSignalConditioning</a>("%<<span>prefix</span>>%<<span>idx</span>>",rolllimit,idx)>
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% GenerateOutputSignalConditioning</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>DumpTimeConditioningCode<span style="padding-left:9.5px"></span>=========================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="DumpTimeConditioningCode" class="tlc_func">DumpTimeConditioningCode</a>(localTid) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;int_T %<<span>localTid</span>> = %<GET_TYPE_ID_REPLACEMENT("MIN_int32_T")>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = NumRuntimeExportedRates
 <br>&nbsp;&nbsp;&nbsp;&nbsp;if (ssIsSampleHit(%<<span>tSimStructArg</span>>, %<<span>idx</span>>, %<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibTID">LibTID</a>()</span>> )) {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>localTid</span>> = %<<span>idx</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% DumpTimeConditioningCode</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>============================================================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>S-FUNCTION<span style="padding-left:9.5px"></span>FRAME<span style="padding-left:9.5px"></span>FOR<span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>CODE<span style="padding-left:9.5px"></span>FORMAT
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>S-Function<span style="padding-left:9.5px"></span><model>_sf.c<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>created<span style="padding-left:9.5px"></span>as<span style="padding-left:9.5px"></span>follows:
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>#defines
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>#includes
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>external<span style="padding-left:9.5px"></span>inputs<span style="padding-left:9.5px"></span>structure<span style="padding-left:9.5px"></span>definition<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>declaration
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>external<span style="padding-left:9.5px"></span>outputs<span style="padding-left:9.5px"></span>structure<span style="padding-left:9.5px"></span>definition<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>declaration
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>imported<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>exported<span style="padding-left:9.5px"></span>signal<span style="padding-left:9.5px"></span>declaration<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>static<span style="padding-left:9.5px"></span>void<span style="padding-left:9.5px"></span>mdlCheckParameters(SimStruct<span style="padding-left:9.5px"></span>*%<<span>tSimStructArg</span>>)<span style="padding-left:9.5px"></span>{
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Check<span style="padding-left:9.5px"></span>data<span style="padding-left:9.5px"></span>type,<span style="padding-left:9.5px"></span>size<span style="padding-left:9.5px"></span>&amp;<span style="padding-left:9.5px"></span>complexity<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>S-Function<span style="padding-left:9.5px"></span>parameters.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>}
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>updateGlobalVarsFromRunTimeParams(SimStruct<span style="padding-left:9.5px"></span>*%<<span>tSimStructArg</span>>)<span style="padding-left:9.5px"></span>{
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Copy<span style="padding-left:9.5px"></span>data<span style="padding-left:9.5px"></span>from<span style="padding-left:9.5px"></span>run-time<span style="padding-left:9.5px"></span>parameters<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>global<span style="padding-left:9.5px"></span>variables.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>}
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>static<span style="padding-left:9.5px"></span>void<span style="padding-left:9.5px"></span>mdlSetWorkWidths(SimStruct<span style="padding-left:9.5px"></span>*%<<span>tSimStructArg</span>>)
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Register<span style="padding-left:9.5px"></span>tunable<span style="padding-left:9.5px"></span>parameters<span style="padding-left:9.5px"></span>as<span style="padding-left:9.5px"></span>run-time<span style="padding-left:9.5px"></span>parameters
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>call<span style="padding-left:9.5px"></span>updateGlobalVarsFromRunTimeParams.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>}
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>static<span style="padding-left:9.5px"></span>void<span style="padding-left:9.5px"></span>mdlProcessParameters(SimStruct<span style="padding-left:9.5px"></span>*%<<span>tSimStructArg</span>>)<span style="padding-left:9.5px"></span>{
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Update<span style="padding-left:9.5px"></span>run-time<span style="padding-left:9.5px"></span>parameters<span style="padding-left:9.5px"></span>from<span style="padding-left:9.5px"></span>evaluated<span style="padding-left:9.5px"></span>dialog<span style="padding-left:9.5px"></span>parameters
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>call<span style="padding-left:9.5px"></span>updateGlobalVarsFromRunTimeParams.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>}
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>static<span style="padding-left:9.5px"></span>void<span style="padding-left:9.5px"></span>mdlInitializeSizes(SimStruct<span style="padding-left:9.5px"></span>*%<<span>tSimStructArg</span>>)<span style="padding-left:9.5px"></span>{
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Inputs<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>outputs<span style="padding-left:9.5px"></span>signal<span style="padding-left:9.5px"></span>type<span style="padding-left:9.5px"></span>registration.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>}
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>static<span style="padding-left:9.5px"></span>void<span style="padding-left:9.5px"></span>mdlInitializeSampleTimes(SimStruct<span style="padding-left:9.5px"></span>*%<<span>tSimStructArg</span>>)<span style="padding-left:9.5px"></span>{
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Number<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>sample<span style="padding-left:9.5px"></span>times<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>sample<span style="padding-left:9.5px"></span>rate<span style="padding-left:9.5px"></span>registration.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>}
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>static<span style="padding-left:9.5px"></span>void<span style="padding-left:9.5px"></span>mdlInitializeConditions(SimStruct<span style="padding-left:9.5px"></span>*S)<span style="padding-left:9.5px"></span>{<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>initialization<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>call.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>}
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>static<span style="padding-left:9.5px"></span>void<span style="padding-left:9.5px"></span>mdlOutputs(SimStruct<span style="padding-left:9.5px"></span>*%<<span>tSimStructArg</span>>,<span style="padding-left:9.5px"></span>int_T<span style="padding-left:9.5px"></span>tid)<span style="padding-left:9.5px"></span>{<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Simulink<span style="padding-left:9.5px"></span>S-Function<span style="padding-left:9.5px"></span>inputs<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>inputs<span style="padding-left:9.5px"></span>copy
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>time<span style="padding-left:9.5px"></span>conditioning
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>step<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>call
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>outputs<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>Simulink<span style="padding-left:9.5px"></span>S-Function<span style="padding-left:9.5px"></span>outputs<span style="padding-left:9.5px"></span>copy
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>}
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>static<span style="padding-left:9.5px"></span>void<span style="padding-left:9.5px"></span>mdlTerminate(SimStruct<span style="padding-left:9.5px"></span>*%<<span>tSimStructArg</span>>)<span style="padding-left:9.5px"></span>{
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>termination<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>call
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>}
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="FcnGenModelParameterAssignment" class="tlc_func">FcnGenModelParameterAssignment</a>(mdlPrm, idx, reim, rhs) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> mdlPrm.StorageClass == "Custom"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> mdlPrm.CustomStorageClassVersion > 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibAccessCustomData">LibAccessCustomData</a>(mdlPrm, "set", idx, reim, rhs)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> lhs = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibCustomData">LibCustomData</a>(mdlPrm, "contents", idx, reim)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>lhs</span>> = %<<span>rhs</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> lhs = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/paramlib.html#FcnAccessModelParameter">FcnAccessModelParameter</a>(mdlPrm, idx) + reim
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>lhs</span>> = %<<span>rhs</span>>;
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>CopyRunTimeStructParamToGlobalVar<span style="padding-left:9.5px"></span>================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Copy<span style="padding-left:9.5px"></span>run-time<span style="padding-left:9.5px"></span>structparameter<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>global<span style="padding-left:9.5px"></span>variable<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>generated
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>code.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="CopyRunTimeStructParamToGlobalVar" class="tlc_func">CopyRunTimeStructParamToGlobalVar</a>(mdlPrm, rtpIdx) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dtId = mdlPrm.OriginalDataTypeIdx
 <br>&nbsp;&nbsp;<span class="tlc_assert">%assert</span>(<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibDataTypeIsBus">LibDataTypeIsBus</a>(dtId) == TLC_TRUE)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmpVarDType = "const char *"
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmpVar="rtp_%<<span>rtpIdx</span>>"
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rhs = "((%<<span>tmpVarDType</span>>) ssGetRunTimeParamInfo(%<<span>tSimStructArg</span>>,%<<span>rtpIdx</span>>)->data)"
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> mdlPrm.StorageClass == "Custom"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isGetSetStorageClass = (mdlPrm.CustomStorageClassVersion > 1) &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!(<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRTWInfoObjectPackage">LibGetRTWInfoObjectPackage</a>(mdlPrm) == "AUTOSAR")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span>(!isGetSetStorageClass)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> paramVar= <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibCustomData">LibCustomData</a>(mdlPrm, "contents","", "")  
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> paramVar= <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/paramlib.html#FcnAccessModelParameter">FcnAccessModelParameter</a>(mdlPrm,"")  
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;{
 <br>&nbsp;%<<span>tmpVarDType</span>> %<<span>tmpVar</span>> = %<<span>rhs</span>>;
 <br>&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#SLibAssignSLStructToUserStructND">SLibAssignSLStructToUserStructND</a>(dtId, <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/paramlib.html#LibBlockParameterWidth">LibBlockParameterWidth</a>(mdlPrm), ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;paramVar, tmpVar, Matrix(1,1) [0], 0, <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/paramlib.html#LibBlockParameterIsComplex">LibBlockParameterIsComplex</a>(mdlPrm))>
 <br>&nbsp;}
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>CopyRunTimeParamToGlobalVar<span style="padding-left:9.5px"></span>======================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Copy<span style="padding-left:9.5px"></span>run-time<span style="padding-left:9.5px"></span>parameter<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>global<span style="padding-left:9.5px"></span>variable<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>generated<span style="padding-left:9.5px"></span>code.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="CopyRunTimeParamToGlobalVar" class="tlc_func">CopyRunTimeParamToGlobalVar</a>(mdlPrm, rtpIdx, index) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isBus = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibDataTypeIsBus">LibDataTypeIsBus</a>(mdlPrm.OriginalDataTypeIdx)
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> isBus
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% EARLY RETURN ==></span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span>(index == "") <span class="tlc_comment">%% We do not support array of struct</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span>  <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#CopyRunTimeStructParamToGlobalVar">CopyRunTimeStructParamToGlobalVar</a>(mdlPrm, rtpIdx)
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtpDType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetDataTypeNameFromId">LibGetDataTypeNameFromId</a>(mdlPrm.OriginalDataTypeIdx)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtpPtr = "((%<<span>rtpDType</span>> *) ssGetRunTimeParamInfo(%<<span>tSimStructArg</span>>,%<<span>rtpIdx</span>>)->data)"
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> index == ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> LHSIdx     = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> realRHS = "(%<<span>rtpPtr</span>>[0])"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> imagRHS = "(%<<span>rtpPtr</span>>[1])"   <span class="tlc_comment">%% MAY NOT BE USED</span>
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> LHSIdx     = "[%<<span>index</span>>]"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#SLibGetRecordIsComplex">SLibGetRecordIsComplex</a>(mdlPrm)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> realRHS = "(%<<span>rtpPtr</span>>[2*%<<span>index</span>>])"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> imagRHS = "(%<<span>rtpPtr</span>>[2*%<<span>index</span>>+1])"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> realRHS = "(%<<span>rtpPtr</span>>[%<<span>index</span>>])"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#SLibGetRecordIsComplex">SLibGetRecordIsComplex</a>(mdlPrm)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> realSuffix = ".%<<span>tRealPart</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> imagSuffix = ".%<<span>tImagPart</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnGenModelParameterAssignment">FcnGenModelParameterAssignment</a>(mdlPrm, LHSIdx, realSuffix, realRHS)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnGenModelParameterAssignment">FcnGenModelParameterAssignment</a>(mdlPrm, LHSIdx, imagSuffix, imagRHS)>
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnGenModelParameterAssignment">FcnGenModelParameterAssignment</a>(mdlPrm, LHSIdx, "", realRHS)>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>FcnGenErtSFcnParamChecks<span style="padding-left:9.5px"></span>==========================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Generate<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>check<span style="padding-left:9.5px"></span>attributes<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>parameters<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>S-Function.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>S-Function<span style="padding-left:9.5px"></span>registers<span style="padding-left:9.5px"></span>all<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>its<span style="padding-left:9.5px"></span>tunable<span style="padding-left:9.5px"></span>parameters<span style="padding-left:9.5px"></span>as<span style="padding-left:9.5px"></span>run-time
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>parameters<span style="padding-left:9.5px"></span>(which<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>completely<span style="padding-left:9.5px"></span>different<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>generated<span style="padding-left:9.5px"></span>S-Function).
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>NOTE:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>Dimensions<span style="padding-left:9.5px"></span>must<span style="padding-left:9.5px"></span>match<span style="padding-left:9.5px"></span>exactly.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>If<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>original<span style="padding-left:9.5px"></span>RTP<span style="padding-left:9.5px"></span>was<span style="padding-left:9.5px"></span>real,<span style="padding-left:9.5px"></span>then<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>sfcnParam<span style="padding-left:9.5px"></span>must<span style="padding-left:9.5px"></span>also<span style="padding-left:9.5px"></span>be<span style="padding-left:9.5px"></span>real.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>If<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>original<span style="padding-left:9.5px"></span>RTP<span style="padding-left:9.5px"></span>was<span style="padding-left:9.5px"></span>complex,<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>sfcnParam<span style="padding-left:9.5px"></span>could<span style="padding-left:9.5px"></span>be<span style="padding-left:9.5px"></span>real<span style="padding-left:9.5px"></span>/<span style="padding-left:9.5px"></span>complex.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>We<span style="padding-left:9.5px"></span>do<span style="padding-left:9.5px"></span>not<span style="padding-left:9.5px"></span>need<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>check<span style="padding-left:9.5px"></span>data<span style="padding-left:9.5px"></span>type<span style="padding-left:9.5px"></span>because<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>data<span style="padding-left:9.5px"></span>type<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>evaluated
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>dialog<span style="padding-left:9.5px"></span>parameter<span style="padding-left:9.5px"></span>will<span style="padding-left:9.5px"></span>be<span style="padding-left:9.5px"></span>transformed<span style="padding-left:9.5px"></span>as<span style="padding-left:9.5px"></span>necessary<span style="padding-left:9.5px"></span>when<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>S-Function
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>registers<span style="padding-left:9.5px"></span>run-time<span style="padding-left:9.5px"></span>parameters.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="FcnGenErtSFcnParamChecks" class="tlc_func">FcnGenErtSFcnParamChecks</a>(mdlPrm, sfcnPrmIdx) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> pName = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(mdlPrm)
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Construct dimensions string (for initialization)</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dims = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sfcnlib.html#FcnGetMatlabSafeDimensions">FcnGetMatlabSafeDimensions</a>(mdlPrm)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> nDims = <span class="tlc_bifunc">SIZE</span>(dims,1)
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dimsStr = "%<dims[0]>"
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> dimsIdx = (nDims-1)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dimsStr = dimsStr + ", %<dims[dimsIdx+1]>"
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Get complexity</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#SLibGetRecordIsComplex">SLibGetRecordIsComplex</a>(mdlPrm)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isComplex = "true"
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isComplex = "false"
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;/* Check attributes of parameter '%<<span>pName</span>>' */
 <br>&nbsp;&nbsp;{
 <br>&nbsp;&nbsp;&nbsp;&nbsp;int dimsArray[%<<span>nDims</span>>] = {%<<span>dimsStr</span>>};
 <br>&nbsp;&nbsp;&nbsp;&nbsp;ssCheckSFcnParamValueAttribs(%<<span>tSimStructArg</span>>, %<<span>sfcnPrmIdx</span>>, "%<<span>pName</span>>", DYNAMICALLY_TYPED,
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>nDims</span>>, dimsArray, %<<span>isComplex</span>>);
 <br>&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp; <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% FcnGenErtSFcnParamChecks</span>
 <br>&nbsp; <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>FcnGenErtSFcnCheckParamsFcn<span style="padding-left:9.5px"></span>=======================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Generate<span style="padding-left:9.5px"></span>mdlCheckParameters<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>generated<span style="padding-left:9.5px"></span>S-Functions.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="FcnGenErtSFcnCheckParamsFcn" class="tlc_func">FcnGenErtSFcnCheckParamsFcn</a>(numTunablePrms, prmIdxVec) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> numTunablePrms > 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_with">%with</span> ModelParameters
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = "mdlCheckParameters"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnReturns = "static void"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnParams = "SimStruct *%<<span>tSimStructArg</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnAbstract = "This function checks the attributes of tunable parameters."
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract fcnAbstract; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Category "sfcn"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html">ertsfcnbody.tlc</a>"; Type "Model parameter check"}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_undef">%undef</span> fcnRec
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#define MDL_CHECK_PARAMETERS
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#if defined(MDL_CHECK_PARAMETERS) &amp;&amp; defined(MATLAB_MEX_FILE)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> sfcnPrmIdx = numTunablePrms
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> mdlPrm = Parameter[prmIdxVec[sfcnPrmIdx]]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnGenErtSFcnParamChecks">FcnGenErtSFcnParamChecks</a>(mdlPrm, sfcnPrmIdx)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span> <span class="tlc_comment">%% sfcnPrmIdx = numTunablePrms</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#endif /* MDL_CHECK_PARAMETERS */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span> <span class="tlc_comment">%% ModelParameters</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span> <span class="tlc_comment">%% numTunablePrms > 0</span>
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% FcnGenErtSFcnCheckParamsFcn</span>
 <br>&nbsp; <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>FcnGenErtSFcnRunTimePrmReg<span style="padding-left:9.5px"></span>=======================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>register<span style="padding-left:9.5px"></span>data<span style="padding-left:9.5px"></span>types<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>run-time<span style="padding-left:9.5px"></span>parameters<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>all<span style="padding-left:9.5px"></span>tunable<span style="padding-left:9.5px"></span>parameters.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_fkw">%function</span> <a id="FcnGenErtSFcnRunTimePrmReg" class="tlc_func">FcnGenErtSFcnRunTimePrmReg</a>(numTunablePrms, prmIdxVec, callToLocalFcn) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> numTunablePrms > 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_with">%with</span> ModelParameters
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Set number of run-time parameters */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!ssSetNumRunTimeParams(%<<span>tSimStructArg</span>>, %<<span>numTunablePrms</span>>)) return;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> sfcnPrmIdx = numTunablePrms
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> mdlPrm = Parameter[prmIdxVec[sfcnPrmIdx]]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> prmName = "P%<<span>sfcnPrmIdx</span>>_%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(mdlPrm)>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dtId = mdlPrm.OriginalDataTypeIdx
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dtStr = ""
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(mdlPrm.WorkspaceVarName)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;{
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibIsBuiltInDataType">LibIsBuiltInDataType</a>(dtId)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dtStr = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetDataTypeEnumFromId">LibGetDataTypeEnumFromId</a>(dtId)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibIsEnumDataType">LibIsEnumDataType</a>(dtId)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dtName = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetDataTypeNameFromId">LibGetDataTypeNameFromId</a>(dtId)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DTypeId dtId = INVALID_DTYPE_ID;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssRegisterTypeFromNamedObject(%<<span>tSimStructArg</span>>, "%<<span>dtName</span>>", &amp;dtId);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(dtId == INVALID_DTYPE_ID) return;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dtStr = "dtId"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibDataTypeIsBus">LibDataTypeIsBus</a>(dtId)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dtChecksum = DataTypes.DataType[dtId].StructDtChecksum
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dtChecksumStr = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"%<dtChecksum[0]>,%<dtChecksum[1]>,%<dtChecksum[2]>,%<dtChecksum[3]>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint32_T dtChecksum[4] = {%<<span>dtChecksumStr</span>>};
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DTypeId dtId = INVALID_DTYPE_ID;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssGetSFcnParamDataType(%<<span>tSimStructArg</span>>, %<<span>sfcnPrmIdx</span>>, &amp;dtId);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(dtId == INVALID_DTYPE_ID) return;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssCheckStructParamChecksum(%<<span>tSimStructArg</span>>, %<<span>sfcnPrmIdx</span>>, dtChecksum);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dtStr = "dtId"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibIsHalfDataType">LibIsHalfDataType</a>(dtId)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dtOverride = 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DTypeId halfID = ssRegisterDataTypeHalfPrecision(%<<span>tSimStructArg</span>>, %<<span>dtOverride</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (halfID == INVALID_DTYPE_ID) return;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssRegDlgParamAsRunTimeParam(%<<span>tSimStructArg</span>>, %<<span>sfcnPrmIdx</span>>, %<<span>sfcnPrmIdx</span>>, /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"%<<span>prmName</span>>", halfID);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">WHITE_SPACE</span>(dtStr)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssRegDlgParamAsRunTimeParam(%<<span>tSimStructArg</span>>, %<<span>sfcnPrmIdx</span>>, %<<span>sfcnPrmIdx</span>>, /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"%<<span>prmName</span>>", %<<span>dtStr</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> curDT = <a href="https://foool.github.io/r2020a/rtw/c/tlc/fixpt/fixptlib.html#FixPt_GetDataTypeFromIndex">FixPt_GetDataTypeFromIndex</a>(dtId)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> curDT.IsFixedPoint
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dtOverride = 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/fixpt/fixptlib.html#FixPt_DataTypeIsFloat">FixPt_DataTypeIsFloat</a>(curDT)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DTypeId fixptDTId = ssRegisterDataTypeFxpScaledDouble(%<<span>tSimStructArg</span>>, /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>curDT.IsSigned</span>>, %<<span>curDT.RequiredBits</span>>, /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(double) %<<span>curDT.FracSlope</span>>, %<<span>curDT.FixedExp</span>>, /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(double) %<<span>curDT.Bias</span>>, %<<span>dtOverride</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (fixptDTId == INVALID_DTYPE_ID) return;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssRegDlgParamAsRunTimeParam(%<<span>tSimStructArg</span>>, %<<span>sfcnPrmIdx</span>>, %<<span>sfcnPrmIdx</span>>, /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"%<<span>prmName</span>>", fixptDTId);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DTypeId fixptDTId = ssRegisterDataTypeFxpFSlopeFixExpBias(%<<span>tSimStructArg</span>>, /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>curDT.IsSigned</span>>, %<<span>curDT.RequiredBits</span>>, /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(double) %<<span>curDT.FracSlope</span>>, %<<span>curDT.FixedExp</span>>, /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(double) %<<span>curDT.Bias</span>>, %<<span>dtOverride</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (fixptDTId == INVALID_DTYPE_ID) return;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssRegDlgParamAsRunTimeParam(%<<span>tSimStructArg</span>>, %<<span>sfcnPrmIdx</span>>, %<<span>sfcnPrmIdx</span>>, /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"%<<span>prmName</span>>", fixptDTId);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> errTxt = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"User-defined data types not supported for ERT S-Function parameters."
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibReportFatalError">LibReportFatalError</a>(errTxt)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (ssGetErrorStatus(%<<span>tSimStructArg</span>>) != (NULL) || ssGetLocalErrorStatus(%<<span>tSimStructArg</span>>) != (NULL)) { return; }
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span> <span class="tlc_comment">%% sfcnPrmIdx = numTunablePrms</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">WHITE_SPACE</span>(callToLocalFcn)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>callToLocalFcn</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span> <span class="tlc_comment">%% ModelParameters</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span> <span class="tlc_comment">%% numTunablePrms > 0</span>
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% FcnGenErtSFcnRunTimePrmReg</span>
 <br>&nbsp; <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>FcnGenErtSFcnLocalProcessParamsFcn<span style="padding-left:9.5px"></span>================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Wrapper<span style="padding-left:9.5px"></span>around<span style="padding-left:9.5px"></span>CopyRunTimeParamToGlobalVar<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>copy<span style="padding-left:9.5px"></span>data<span style="padding-left:9.5px"></span>from<span style="padding-left:9.5px"></span>run-time
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>parameter<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>corresponding<span style="padding-left:9.5px"></span>global<span style="padding-left:9.5px"></span>variable<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>generated<span style="padding-left:9.5px"></span>code.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="FcnGenErtSFcnLocalProcessParamsFcn" class="tlc_func">FcnGenErtSFcnLocalProcessParamsFcn</a>(numTunablePrms, prmIdxVec) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> numTunablePrms > 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_with">%with</span> ModelParameters
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = "updateGlobalVarsFromRunTimeParams"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnReturns = "static void"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnParams = "SimStruct *%<<span>tSimStructArg</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnAbstract = "Copy parameter values from run-time parameters to global variables."
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract fcnAbstract; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Category "sfcn"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html">ertsfcnbody.tlc</a>"; Type "Update"}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_undef">%undef</span> fcnRec
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
 <br>&nbsp;&nbsp;&nbsp;&nbsp;int_T i;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> sfcnPrmIdx = numTunablePrms
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> mdlPrm = Parameter[prmIdxVec[sfcnPrmIdx]]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numOfElements = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/paramlib.html#LibBlockParameterWidth">LibBlockParameterWidth</a>(mdlPrm)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> vcRecord = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibGetDataInlineVariantNetConditions">SLibGetDataInlineVariantNetConditions</a>(mdlPrm)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>vcRecord.ifCond</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Update parameter '%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(mdlPrm)>' */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> numOfElements > 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (i=0; i<%<<span>numOfElements</span>>; i++) {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#CopyRunTimeParamToGlobalVar">CopyRunTimeParamToGlobalVar</a>(mdlPrm, sfcnPrmIdx, "i")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#CopyRunTimeParamToGlobalVar">CopyRunTimeParamToGlobalVar</a>(mdlPrm, sfcnPrmIdx, "")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>vcRecord.endIfCond</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span> <span class="tlc_comment">%% sfcnPrmIdx = numTunablePrms</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span> <span class="tlc_comment">%% ModelParameters</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span> <span class="tlc_comment">%% numTunablePrms > 0</span>
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% FcnGenErtSFcnLocalProcessParamsFcn</span>
 <br>&nbsp; <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>FcnGenErtSFcnProcessParamsFcn<span style="padding-left:9.5px"></span>=====================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Generate<span style="padding-left:9.5px"></span>mdlProcessParameters<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>generated<span style="padding-left:9.5px"></span>S-Functions
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>update<span style="padding-left:9.5px"></span>run-time<span style="padding-left:9.5px"></span>parameter<span style="padding-left:9.5px"></span>data<span style="padding-left:9.5px"></span>during<span style="padding-left:9.5px"></span>simulation.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="FcnGenErtSFcnProcessParamsFcn" class="tlc_func">FcnGenErtSFcnProcessParamsFcn</a>(numTunablePrms, callToLocalFcn) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> numTunablePrms > 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = "mdlProcessParameters"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnReturns = "static void"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnParams = "SimStruct *%<<span>tSimStructArg</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnAbstract = "This function updates tunable parameter values during simulation."
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract fcnAbstract; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Category "sfcn"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html">ertsfcnbody.tlc</a>"; Type "Update"}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_undef">%undef</span> fcnRec
 <br>&nbsp;&nbsp;&nbsp;&nbsp;#define MDL_PROCESS_PARAMETERS
 <br>&nbsp;&nbsp;&nbsp;&nbsp;#if defined(MDL_PROCESS_PARAMETERS) &amp;&amp; defined(MATLAB_MEX_FILE)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;{
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssUpdateAllTunableParamsAsRunTimeParams(%<<span>tSimStructArg</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">WHITE_SPACE</span>(callToLocalFcn)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>callToLocalFcn</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;#endif /* MDL_PROCESS_PARAMETERS */
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% FcnGenErtSFcnProcessParamsFcn</span>
 <br>&nbsp; <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="FcnConditionRootInputsAsSeparateArgs" class="tlc_func">FcnConditionRootInputsAsSeparateArgs</a>() <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibFcnProtoCtrlActive">SLibFcnProtoCtrlActive</a>() || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;(GenerateClassInterface &amp;&amp; !(classConfObj.hasGlobalAccessForInport))
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="FcnConditionRootOutputsAsSeparateArgs" class="tlc_func">FcnConditionRootOutputsAsSeparateArgs</a>() <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibFcnProtoCtrlActive">SLibFcnProtoCtrlActive</a>() || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;(GenerateClassInterface &amp;&amp; !(classConfObj.hasGlobalAccessForOutport))
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>GenErtSFcnParamHandlingFcns<span style="padding-left:9.5px"></span>======================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>generates<span style="padding-left:9.5px"></span>all<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>parameter<span style="padding-left:9.5px"></span>handling<span style="padding-left:9.5px"></span>functions:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>mdlCheckParameters:<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Check<span style="padding-left:9.5px"></span>attributes<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>dialog<span style="padding-left:9.5px"></span>parameters
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>mdlSetWorkWidths:<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Register<span style="padding-left:9.5px"></span>run-time<span style="padding-left:9.5px"></span>parameters
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>mdlProcessParameters:<span style="padding-left:9.5px"></span>Update<span style="padding-left:9.5px"></span>tunable<span style="padding-left:9.5px"></span>parameter<span style="padding-left:9.5px"></span>values
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="GenErtSFcnParamHandlingFcns" class="tlc_func">GenErtSFcnParamHandlingFcns</a>() <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> result = [0, "", ""]
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%% Create mapping to tunable parameters to be included</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numTunablePrms = 0
 <br>&nbsp;&nbsp;<span class="tlc_with">%with</span> ModelParameters
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (NumParameters > 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> prmIdxVec = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;Vector(%<<span>NumParameters</span>>) [0:%<NumParameters-1>]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> prmIdx = NumParameters
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> mdlPrm = Parameter[prmIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> origDtypeIdx = mdlPrm.OriginalDataTypeIdx
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isGetSetStorageClass = (mdlPrm.StorageClass == "Custom") &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(mdlPrm.CustomStorageClassVersion > 1) &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!(<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRTWInfoObjectPackage">LibGetRTWInfoObjectPackage</a>(mdlPrm) == "AUTOSAR")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% We use the WorkspaceVarName field of a mdlPrm to determine if mdlPrm represents a workspace</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% variable. For block parameters or a parameter created for a collapsed expression,</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% the field WorkspaceVarName is empty.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isTunable = (mdlPrm.Tunable == "yes") &amp;&amp; !<span class="tlc_bifunc">ISEMPTY</span>(mdlPrm.WorkspaceVarName) &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibIsDataTypeBuiltinOrFixpt">LibIsDataTypeBuiltinOrFixpt</a>(origDtypeIdx) || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibIsEnumDataType">LibIsEnumDataType</a>(origDtypeIdx) || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibDataTypeIsBus">LibDataTypeIsBus</a>(origDtypeIdx) &amp;&amp; !isGetSetStorageClass))
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> isTunable &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/paramlib.html#LibBlockParameterWidth">LibBlockParameterWidth</a>(mdlPrm) > 0 &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonprmlib.html#SLibIsModelParamConst">SLibIsModelParamConst</a>(mdlPrm) &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonprmlib.html#SLibIsModelParamMacro">SLibIsModelParamMacro</a>(mdlPrm) &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonprmlib.html#SLibIsModelParamFileOrAutoScope">SLibIsModelParamFileOrAutoScope</a>(mdlPrm)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span> ((prmIdx < NumInrtP) || (mdlPrm.StorageClass != "Auto") || mdlPrm.InModelRefGlobalSection)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> ((prmIdx < NumInrtP) || (mdlPrm.StorageClass != "Auto") || mdlPrm.InModelRefGlobalSection)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> prmIdxVec[numTunablePrms] = prmIdx
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numTunablePrms = numTunablePrms + 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> prmIdxVec = 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%% Generate the functions into a buffer to be returned</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> numTunablePrms > 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> locProcPrmsFcn = "updateGlobalVarsFromRunTimeParams(%<<span>tSimStructArg</span>>);"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> origName       = ::CompiledModel.Name
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Cache parameter names in variable in global MATLAB workspace</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sfcnlib.html#SLibCreateSfcnTunablePrmWSVariable">SLibCreateSfcnTunablePrmWSVariable</a>(origName, numTunablePrms, prmIdxVec)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnBuffer = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> fcnBuffer
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Write out mdlCheckParameters function</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnGenErtSFcnCheckParamsFcn">FcnGenErtSFcnCheckParamsFcn</a>(numTunablePrms, prmIdxVec)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Write out local process parameters function</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnGenErtSFcnLocalProcessParamsFcn">FcnGenErtSFcnLocalProcessParamsFcn</a>(numTunablePrms, prmIdxVec)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Write out mdlProcessParameters function</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnGenErtSFcnProcessParamsFcn">FcnGenErtSFcnProcessParamsFcn</a>(numTunablePrms, locProcPrmsFcn)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> fcnBuffer
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> mdlWorkWidthBuffer = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> mdlWorkWidthBuffer
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Write out mdlSetWorkWidths function body</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnGenErtSFcnRunTimePrmReg">FcnGenErtSFcnRunTimePrmReg</a>(numTunablePrms, prmIdxVec, locProcPrmsFcn)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> mdlWorkWidthBuffer
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> result[0] = numTunablePrms
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> result[1] = fcnBuffer
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> result[2] = mdlWorkWidthBuffer
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span> <span class="tlc_comment">%% numTunablePrms > 0</span>
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> result
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% GenErtSFcnParamHandlingFcns</span>
 <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="FcnErtSfcnDeclareSimStruc" class="tlc_func">FcnErtSfcnDeclareSimStruc</a>() 
 <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> retBuf
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rootSystem = System[NumSystems-1]
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span>   reqInsts = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sysbodlib.html#LibGetSystemField">LibGetSystemField</a>(rootSystem, "ReqRootPrmHdrDataInsts")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !reqInsts.SimStructInst &amp;&amp; !EmptyRealTimeObject
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<::tSimStructType> *const %<::tSimStruct> = &amp;%<<span>tSimStruct</span>>_;
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> retBuf
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> retBuf
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Does<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>C++<span style="padding-left:9.5px"></span>class<span style="padding-left:9.5px"></span>need<span style="padding-left:9.5px"></span>ertSfcnZeroInternalMemory<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>generating
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>S-Function?
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibCPPClassNeedERTSfcnZeroInternalMemory" class="tlc_func">SLibCPPClassNeedERTSfcnZeroInternalMemory</a>()
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> retVal = TLC_FALSE
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> GenerateClassInterface &amp;&amp; ::GenerateErtSFunction &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!(ConfigSet.ZeroInternalMemoryAtStartup)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> retVal = TLC_TRUE
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> retVal
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% SLibCPPClassNeedERTSfcnZeroInternalMemory</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Does<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>C++<span style="padding-left:9.5px"></span>class<span style="padding-left:9.5px"></span>need<span style="padding-left:9.5px"></span>ertSfcnZeroIOMemory<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>generating
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>S-Function?
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibCPPClassNeedERTSfcnZeroIOMemory" class="tlc_func">SLibCPPClassNeedERTSfcnZeroIOMemory</a>()
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> retVal = TLC_FALSE
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> GenerateClassInterface &amp;&amp; ::GenerateErtSFunction &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(!(ConfigSet.ZeroExternalMemoryAtStartup) &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(classConfObj.hasGlobalAccessForOutport || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classConfObj.hasGlobalAccessForInport))
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> retVal = TLC_TRUE
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> retVal
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% SLibCPPClassNeedERTSfcnZeroIOMemory</span>
 <br>&nbsp; <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Does<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>C++<span style="padding-left:9.5px"></span>class<span style="padding-left:9.5px"></span>has/needs<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>derived<span style="padding-left:9.5px"></span>class<span style="padding-left:9.5px"></span>with<span style="padding-left:9.5px"></span>ertSfcnZeroMemory
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>method<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>S-Function?
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibCPPClassNeedsDerivedClassWithERTSfcnZeroMem" class="tlc_func">SLibCPPClassNeedsDerivedClassWithERTSfcnZeroMem</a>()
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> GenerateClassInterface &amp;&amp; <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertclassgeneration.html#SLibCPPClassNeedSubclass">SLibCPPClassNeedSubclass</a>() &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!(ConfigSet.ZeroExternalMemoryAtStartup)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% SLibCPPClassHasDerivedClassWithERTSfcnZeroMem</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp; <br><span class="tlc_comment">%%Optionally<span style="padding-left:9.5px"></span>generate<span style="padding-left:9.5px"></span>local<span style="padding-left:9.5px"></span>variables<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>ertZeroMemory<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>C++<span style="padding-left:9.5px"></span>class
</span> <br><span class="tlc_comment">%%generation
</span> <br><span class="tlc_fkw">%function</span> <a id="GenLocalVariablesForCPPClass" class="tlc_func">GenLocalVariablesForCPPClass</a>()
 <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> tempBuf
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> GenerateClassInterface &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#SLibCPPClassNeedERTSfcnZeroIOMemory">SLibCPPClassNeedERTSfcnZeroIOMemory</a>() || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#SLibCPPClassNeedERTSfcnZeroInternalMemory">SLibCPPClassNeedERTSfcnZeroInternalMemory</a>() )
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> targetObj =  ::CompiledModel.GlobalScope.tModelObject
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> typePrefix = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/syslib.html#SLibGetModelTypesNamespacePrefix">SLibGetModelTypesNamespacePrefix</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !(ConfigSet.ZeroInternalMemoryAtStartup)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% internal states</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdr_blkiolib.html#LibBlockIOStructIsEmpty">LibBlockIOStructIsEmpty</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> CGMODEL_ACCESS("CGModel.getGenerateInternalMemberAccessMethods")!= "None"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>typePrefix</span>>%<::tBlockIOType> &amp;%<::tBlockIO> = (%<<span>typePrefix</span>>%<<span>tBlockIOType</span>> &amp;)%<<span>targetObj</span>>.getBlockSignals();
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>typePrefix</span>>%<::tBlockIOType> &amp;%<::tBlockIO> = %<<span>targetObj</span>>.%<<span>tBlockIO</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> NumContStates>0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> CGMODEL_ACCESS("CGModel.getGenerateInternalMemberAccessMethods") != "None"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>typePrefix</span>>%<::tContStateType> &amp;%<::tContState> = (%<<span>tContStateType</span>> &amp;)%<<span>targetObj</span>>.getContinuousStates();
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>typePrefix</span>>%<::tContStateType> &amp;%<::tContState> = %<<span>targetObj</span>>.%<<span>tContState</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdr_dworklib.html#LibDWorkStructIsEmpty">LibDWorkStructIsEmpty</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> CGMODEL_ACCESS("CGModel.getGenerateInternalMemberAccessMethods") != "None"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>typePrefix</span>>%<::tDWorkType> &amp;%<::tDWork> = (%<<span>typePrefix</span>>%<<span>tDWorkType</span>> &amp;)%<<span>targetObj</span>>.getDWork();
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>typePrefix</span>>%<::tDWorkType> &amp;%<::tDWork> = %<<span>targetObj</span>>.%<<span>tDWork</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefsfcnlib.html#CPPEncapNeedsLocalVars">CPPEncapNeedsLocalVars</a>(TLC_TRUE)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> cppEncapLocalVars = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefsfcnlib.html#SLibGetCPPEncapInitLocalVars">SLibGetCPPEncapInitLocalVars</a>(TLC_TRUE)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">WHITE_SPACE</span>(cppEncapLocalVars)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>cppEncapLocalVars</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>          
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span> <span class="tlc_comment">%%internal states</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !(ConfigSet.ZeroExternalMemoryAtStartup)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> classConfObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertfcnprotocontrol.html#FcnGetRTWCPPStepPrototypeRecord">FcnGetRTWCPPStepPrototypeRecord</a>()
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% only for void-void case and 'generate i/o access methods' being</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% deselected. void-void and 'generate i/o access methods' being</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% selected will be handled by using the subclass approach.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> ( classConfObj.hasGlobalAccessForOutport || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classConfObj.hasGlobalAccessForInport ) &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(CGMODEL_ACCESS("CGModel.getGenerateExternalIOAccessMethods") == "None")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% in this case, rtU/rtY must be public members</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> classConfObj.hasGlobalAccessForInport
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>typePrefix</span>>%<::tInputType> &amp;%<::tInput> = %<<span>targetObj</span>>.%<::tInput>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> classConfObj.hasGlobalAccessForOutport
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>typePrefix</span>>%<::tOutputType> &amp;%<::tOutput> = %<<span>targetObj</span>>.%<::tOutput>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span> <span class="tlc_comment">%% external I/O</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span> <span class="tlc_comment">%% need zero memory</span>
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> tempBuf
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> tempBuf
 <br><span class="tlc_fkw">%endfunction</span> <span class="tlc_comment">%% GenLocalVariablesForCPPClass</span>
 <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="ERTSfcnGenInitializeConditionCode" class="tlc_func">ERTSfcnGenInitializeConditionCode</a>(origERTInitFcnArg, ROLL_LIMIT)
 <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> retBuf
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> modelInitFcn       = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#GenerateModelInitFcnName">GenerateModelInitFcnName</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>modelInitFcn</span>>(%<<span>origERTInitFcnArg</span>>);
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span> <span class="tlc_comment">%%in class gen mode</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<::CompiledModel.GlobalScope.tModelObject>.initialize();
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> ExportFunctionsMode == 1 &amp;&amp; NumModelOutputs > 0 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% It would be nice if we could selectively</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% write out the external outputs as in the </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% case for DumpERTExportedFcnDataRead.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% However, we do not have the map for potential </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% merge'd signals at the system output.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Initialize block output signals. */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = ExternalOutputs.NumExternalOutputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extIdx = idx
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> tmpVar
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateTmpSFunctionOutputSignalDef">GenerateTmpSFunctionOutputSignalDef</a>(extIdx)>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> tmpVar
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateTmpOutputSignalConditioning">GenerateTmpOutputSignalConditioning</a>(tmpVar, ROLL_LIMIT, extIdx)>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> retBuf
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> retBuf
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>============================================================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Setup<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>some<span style="padding-left:9.5px"></span>common<span style="padding-left:9.5px"></span>variables
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_with">%with</span> ::CompiledModel
 <br>&nbsp; <br><span class="tlc_assign">%assign</span> ROLL_LIMIT         = RollThreshold
 <br><span class="tlc_assign">%assign</span> instanceCounter    = "%<<span>Name</span>>_sf_counter"
 <br>&nbsp; <br>&nbsp; <br><span class="tlc_if">%if</span> CombineOutputUpdateFcns
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> modelStepFcn = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelStepFcnName">SLibModelStepFcnName</a>("")
 <br><span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> modelStepFcn = "%<<span>Name</span>>_output"
 <br><span class="tlc_endif">%endif</span>
 <br><span class="tlc_assign">%assign</span> modelUpdtFcn       = "%<<span>Name</span>>_update"
 <br><span class="tlc_assign">%assign</span> modelTermFcn       = "%<<span>Name</span>>_terminate"
 <br><span class="tlc_assign">%assign</span> modelRtObject      = "%<<span>Name</span>>_rtO"
 <br><span class="tlc_assign">%assign</span> modelEnable        = "%<<span>Name</span>>_enable"
 <br><span class="tlc_assign">%assign</span> modelDisable       = "%<<span>Name</span>>_disable"
 <br><span class="tlc_assign">%assign</span> modelZeroMemory    = "%<<span>Name</span>>_ertSfcnZeroMemory"
 <br>&nbsp; <br><span class="tlc_assign">%assign</span> sFunctionName      = "%<<span>Name</span>>_sf"
 <br>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codetemplatelib.html#LibWriteToStandardOutput">LibWriteToStandardOutput</a>("### Creating ERT S-Function wrapper %<<span>sFunctionName</span>>.%<<span>LangFileExt</span>>")>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>============================================================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Generate<span style="padding-left:9.5px"></span>parameter<span style="padding-left:9.5px"></span>handling<span style="padding-left:9.5px"></span>buffer
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_assign">%assign</span> prmHandlingInfo     = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenErtSFcnParamHandlingFcns">GenErtSFcnParamHandlingFcns</a>()
 <br><span class="tlc_assign">%assign</span> numTunablePrms      = prmHandlingInfo[0]
 <br><span class="tlc_assign">%assign</span> prmHandlingBuffer   = prmHandlingInfo[1]
 <br><span class="tlc_assign">%assign</span> mdlWorkWidthFcnBody = prmHandlingInfo[2]
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>===========================================================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Create<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>S-Function<span style="padding-left:9.5px"></span>wrapper
</span> <br><span class="tlc_comment">%%
</span> <br>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/mathlib.html#SetCurrentUtilsIncludesIdx">SetCurrentUtilsIncludesIdx</a>("ertSfcn_util_incl")>
 <br>&nbsp; <br><span class="tlc_openfile">%openfile</span> ModelSfu = "%<<span>sFunctionName</span>>.%<<span>LangFileExt</span>>"
 <br>/*
 <br>* %<<span>sFunctionName</span>>.%<<span>LangFileExt</span>>
 <br>*
 <br>* This file contains a "wrapper style S-Function" for testing the generated
 <br>* code from Simulink.  Simulink invokes the generated code through its
 <br>* S-Function API.  Note that this file is not required for deployment
 <br>* of the generated code outside of Simulink.
 <br>*
 <br>%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibCommonHeaderInfo">SLibCommonHeaderInfo</a>()</span>>/
 <br>*
 <br>*/
 <br>&nbsp; <br>#if !defined(S_FUNCTION_NAME)
 <br>#define S_FUNCTION_NAME %<<span>sFunctionName</span>>
 <br>#endif
 <br>#define S_FUNCTION_LEVEL 2
 <br>/* So mdlEnable and mdlDisable will be defined in the simstruc.h */  
 <br>#if !defined(RTW_GENERATED_S_FUNCTION)
 <br>#define RTW_GENERATED_S_FUNCTION
 <br>#endif
 <br>&nbsp; <br><span class="tlc_if">%if</span> ExportFunctionsMode == 1
 <br>&nbsp;&nbsp;#define S_FUNCTION_EXPORTS_FUNCTION_CALLS
 <br><span class="tlc_endif">%endif</span>  
 <br>&nbsp; <br>#include <stdio.h>
 <br>#include <math.h>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Use<span style="padding-left:9.5px"></span>rtwtypes.h<span style="padding-left:9.5px"></span>equivalent<span style="padding-left:9.5px"></span>signedness<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>type<span style="padding-left:9.5px"></span>definition<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>INT8_T,<span style="padding-left:9.5px"></span>instead<span style="padding-left:9.5px"></span>of
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>tmwtypes.h.<span style="padding-left:9.5px"></span>This<span style="padding-left:9.5px"></span>ensures<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>type<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>identical<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>only<span style="padding-left:9.5px"></span>needed<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>Sfcn
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>wrapper<span style="padding-left:9.5px"></span>file<span style="padding-left:9.5px"></span>which<span style="padding-left:9.5px"></span>includes<span style="padding-left:9.5px"></span>simstruc.h.
</span> <br><span class="tlc_if">%if</span> ::GenCPP &amp;&amp; (::RTWTypesStyle == "minimized") 
 <br>&nbsp;&nbsp;/* Ensure typedef signedness matches rtwtypes.h */
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> typeINT8_T   = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#SLibGetANSICDataTypeFromId">SLibGetANSICDataTypeFromId</a>(tSS_INT8)
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(typeINT8_T)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;#define INT8_T %<<span>typeINT8_T</span>>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_endif">%endif</span> <span class="tlc_comment">%%GenCPP</span>
 <br>&nbsp; <br>/* Remove defines that are incompatible with mex compilation */
 <br>#undef MT
 <br>#undef RT
 <br>#undef USE_RTMODEL
 <br>&nbsp; <br>/* For compatibility with packngo, MATLAB_MEX_FILE must always be defined */
 <br>#ifndef MATLAB_MEX_FILE
 <br>#define MATLAB_MEX_FILE
 <br>#endif
 <br>&nbsp; <br>#include "simstruc.h"
 <br>#include "fixedpoint.h"
 <br>#include "rtwtypes_sf.h"
 <br>&nbsp; <br>#define rt_logging_h
 <br>#define RTWSfcnInfo void *
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>followin<span style="padding-left:9.5px"></span>static<span style="padding-left:9.5px"></span>declaration<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>necessary<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>direct<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>compiler
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>not<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>treat<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>friend<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>declaration<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>generated<span style="padding-left:9.5px"></span>class,
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>if<span style="padding-left:9.5px"></span>applicable,<span style="padding-left:9.5px"></span>as<span style="padding-left:9.5px"></span>an<span style="padding-left:9.5px"></span>'extern'<span style="padding-left:9.5px"></span>function.
</span> <br><span class="tlc_if">%if</span> GenerateClassInterface &amp;&amp; <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertclassgeneration.html#SLibCPPClassNeedSubclass">SLibCPPClassNeedSubclass</a>() 
 <br>static void mdlOutputs(SimStruct *%<<span>tSimStructArg</span>>, int_T %<::CompiledModel.GlobalScope.tTID>);
 <br>static void mdlStart(SimStruct *%<<span>tSimStructArg</span>>);
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>#include "%<<span>Name</span>>.h"
 <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Include<span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>S-Function<span style="padding-left:9.5px"></span>header<span style="padding-left:9.5px"></span>file<span style="padding-left:9.5px"></span>if<span style="padding-left:9.5px"></span>it<span style="padding-left:9.5px"></span>was<span style="padding-left:9.5px"></span>generated.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_assign">%assign</span> ertSFcnFile = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codetemplatelib.html#SLibDoesModelFileExist">SLibDoesModelFileExist</a>("SystemHeader", sFunctionName)
 <br><span class="tlc_if">%if</span> (<span class="tlc_bifunc">TYPE</span>(ertSFcnFile) == "Scope")
 <br>&nbsp;&nbsp;#include "%<<span>sFunctionName</span>>.h"
 <br><span class="tlc_endif">%endif</span>
 <br><span class="tlc_comment">%%
</span> <br>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibDeclareModelFcnArgs">SLibDeclareModelFcnArgs</a>(TLC_TRUE)>/
 <br><span class="tlc_comment">%%
</span> <br>%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#DumpImportedExternalSignalDeclaration">DumpImportedExternalSignalDeclaration</a>()</span>>
 <br><span class="tlc_comment">%%
</span> <br>%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#DumpImportedExternalParameterDeclaration">DumpImportedExternalParameterDeclaration</a>()</span>>
 <br><span class="tlc_comment">%%
</span> <br>&nbsp; <br><span class="tlc_if">%if</span> <span class="tlc_bifunc">EXISTS</span>(::NamespaceName) &amp;&amp; (::NamespaceName != "") 
 <br>&nbsp;&nbsp;using namespace %<::NamespaceName>;
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>static int8_T %<<span>instanceCounter</span>> = 0;
 <br>&nbsp; <br><span class="tlc_if">%if</span> GenerateClassInterface &amp;&amp; <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertclassgeneration.html#SLibCPPClassNeedSubclass">SLibCPPClassNeedSubclass</a>()
 <br>&nbsp;&nbsp;class %<<span>theClassName</span>>_sf : public %<<span>theClassName</span>> {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;friend void mdlOutputs(SimStruct *, int_T);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;friend void mdlStart(SimStruct *);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !(ConfigSet.ZeroExternalMemoryAtStartup)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public:
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void ertSfcnZeroMemory(void);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;};
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br><span class="tlc_if">%if</span> GenerateClassInterface
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertclassgeneration.html#SLibCPPClassNeedSubclass">SLibCPPClassNeedSubclass</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;static %<<span>theClassName</span>> %<::CompiledModel.GlobalScope.tModelObject>;
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;static %<<span>theClassName</span>>_sf %<::CompiledModel.GlobalScope.tModelObject>;
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> reqInsts = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sysbodlib.html#LibGetSystemField">LibGetSystemField</a>(rootSystem, "ReqRootPrmHdrDataInsts")
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !reqInsts.ParamsInst &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/prm_cacheutils.html#SLibPrmBufferIsEmpty">SLibPrmBufferIsEmpty</a>("SimulinkGlobal", "Instance")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> CGMODEL_ACCESS("CGModel.getParameterMemberVisibility") == "private" || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGMODEL_ACCESS("CGModel.getParameterMemberVisibility") == "protected" 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static %<::tParametersType>&amp; %<::tParameters> = const_cast<%<<span>tParametersType</span>>&amp;>(%<::CompiledModel.GlobalScope.tModelObject>.getBlockParameters());
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static %<::tParametersType>&amp; %<::tParameters> = %<::CompiledModel.GlobalScope.tModelObject>.%<<span>tParameters</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br><span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnConditionRootInputsAsSeparateArgs">FcnConditionRootInputsAsSeparateArgs</a>()
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = ExternalInputs.NumExternalInputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extInp = ExternalInputs.ExternalInput[idx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> portWidth = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordWidth">LibGetRecordWidth</a>(extInp)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> portWidth > 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> coll = "[%<<span>portWidth</span>>]"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> coll = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;static %<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordDataTypeName">LibGetRecordDataTypeName</a>(extInp, "")> localIn%<<span>idx</span>>%<<span>coll</span>>;
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span><span class="tlc_comment">%%NumInports</span>
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br><span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnConditionRootOutputsAsSeparateArgs">FcnConditionRootOutputsAsSeparateArgs</a>()
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx =  ExternalOutputs.NumExternalOutputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extOutp = ExternalOutputs.ExternalOutput[idx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> portWidth = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordWidth">LibGetRecordWidth</a>(extOutp)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sysIdx       = extOutp.Block[0]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> blkIdx       = extOutp.Block[1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outportBlock = System[sysIdx].Block[blkIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> portWidth > 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> coll = "[%<<span>portWidth</span>>]"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> coll = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;static %<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordDataTypeName">LibGetRecordDataTypeName</a>(extOutp, "")> localOut%<<span>idx</span>>%<<span>coll</span>>;
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span> <span class="tlc_comment">%% NumOutports</span>
 <br><span class="tlc_endif">%endif</span><span class="tlc_comment">%%  <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibFcnProtoCtrlActive">SLibFcnProtoCtrlActive</a>()</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>sfucntion<span style="padding-left:9.5px"></span>dump<span style="padding-left:9.5px"></span>Zero<span style="padding-left:9.5px"></span>Initialization<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>that<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>optimized<span style="padding-left:9.5px"></span>out
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>production<span style="padding-left:9.5px"></span>code
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>After<span style="padding-left:9.5px"></span>generate<span style="padding-left:9.5px"></span>zero<span style="padding-left:9.5px"></span>initialization<span style="padding-left:9.5px"></span>code,<span style="padding-left:9.5px"></span>arg<span style="padding-left:9.5px"></span>list<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>Initialize<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>will<span style="padding-left:9.5px"></span>change.<span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>Sfunction<span style="padding-left:9.5px"></span>need<span style="padding-left:9.5px"></span>use<span style="padding-left:9.5px"></span>original<span style="padding-left:9.5px"></span>arg<span style="padding-left:9.5px"></span>list<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>while<span style="padding-left:9.5px"></span>calling<span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>Initlize<span style="padding-left:9.5px"></span>Fcn.<span style="padding-left:9.5px"></span>Need<span style="padding-left:9.5px"></span>save<span style="padding-left:9.5px"></span>original<span style="padding-left:9.5px"></span>ERT<span style="padding-left:9.5px"></span>Initialize
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>arg<span style="padding-left:9.5px"></span>list<span style="padding-left:9.5px"></span>here
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_assign">%assign</span> origERTInitFcnArg = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelFcnArgs">SLibModelFcnArgs</a>("Initialize",TLC_TRUE,"")
 <br><span class="tlc_assign">%assign</span> ertSfcnNeedZeroInitialization = TLC_FALSE
 <br><span class="tlc_if">%if</span> (!ZeroExternalMemoryAtStartup || !ZeroInternalMemoryAtStartup)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::GenerateInitCodeRemoved = TLC_TRUE  
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Initialize real-time object</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> tmpBuf2
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> RealTimeModelAccessed &amp;&amp; <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonreglib.html#SLibZeroMemory">SLibZeroMemory</a>("RTM")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> baseSysIdx = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#GetBaseSystemIdx">GetBaseSystemIdx</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* initialize real-time model */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !MultiInstanceERTCode || UsingMalloc || <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertlib.html#SLibUseBackwardCompatibleReusableInterface">SLibUseBackwardCompatibleReusableInterface</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(void) %<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/mathlib.html#LibGenMemFcnCall">LibGenMemFcnCall</a>("memset", "(void *)%<::tSimStruct>", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"0", "sizeof(%<::tSimStructType>)")>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(void) %<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/mathlib.html#LibGenMemFcnCall">LibGenMemFcnCall</a>("memset", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"(void *)%<::CompiledModel.GlobalScope.tModelObject>.getRTM()", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"0", "sizeof(%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/syslib.html#SLibGetModelTypesNamespacePrefix">SLibGetModelTypesNamespacePrefix</a>()</span>>%<::tSimStructType>)")>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/sysarglib.html#LibAccessArg">LibAccessArg</a>(::CompiledModel.System[baseSysIdx].Interface.RTMArgDef)></span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> tmpBuf2
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn = "Initialize" 
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmpBuf = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertlib.html#SLibDumpERTAndModelrefInitMemoryCode">SLibDumpERTAndModelrefInitMemoryCode</a>(TLC_TRUE, TLC_TRUE, 1)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::GenerateInitCodeRemoved = TLC_FALSE
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> tmpBuf3
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#SLibCPPClassNeedsDerivedClassWithERTSfcnZeroMem">SLibCPPClassNeedsDerivedClassWithERTSfcnZeroMem</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% This method in the derived class only initialize External I/O memory</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% when needed.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = "%<<span>theClassName</span>>_sf::ertSfcnZeroMemory"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnReturns = "void"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnParams = "void"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract ""; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Category "sfcn"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html">ertsfcnbody.tlc</a>"; Type "Initialize"}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_undef">%undef</span> fcnRec
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>) {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> tmpBufRtUY
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% This call covers external input structure (i.e. with internal storage),</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% and external inputs with external storage</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonreglib.html#SLibInitExternalInputs">SLibInitExternalInputs</a>(1,<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnConditionRootInputsAsSeparateArgs">FcnConditionRootInputsAsSeparateArgs</a>(),1)>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% This call covers external output structure (i.e. with internal storage),</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% not including external outputs with external storage (which should</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% already be covered by Block IO)</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonreglib.html#SLibInitExternalOutputs">SLibInitExternalOutputs</a>(1,<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnConditionRootOutputsAsSeparateArgs">FcnConditionRootOutputsAsSeparateArgs</a>(),1)>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> tmpBufRtUY
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">WHITE_SPACE</span>(tmpBufRtUY)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpBufRtUY</span>>          
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> tmpBuf3
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn = "Unknown"
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">WHITE_SPACE</span>(tmpBuf) || !<span class="tlc_bifunc">WHITE_SPACE</span>(tmpBuf2) || !<span class="tlc_bifunc">WHITE_SPACE</span>(tmpBuf3)
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#LibDumpGroundDeclarations">LibDumpGroundDeclarations</a>(1)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpBuf3</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = modelZeroMemory
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnReturns = "static void"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnParams = "%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelFcnArgs">SLibModelFcnArgs</a>("Initialize",TLC_FALSE,"")>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract ""; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Category "sfcn"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html">ertsfcnbody.tlc</a>"; Type "Initialize"}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_undef">%undef</span> fcnRec
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>) {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> localVariables
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (MultiInstanceERTCode || ::CompiledModel.ModelRefSimpInterface)&amp;&amp; !GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertlib.html#SLibDumpLocalVariablesForBlockFcn">SLibDumpLocalVariablesForBlockFcn</a>(System[NumSystems-1],"Initialize")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> localVariables
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">WHITE_SPACE</span>(localVariables)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>localVariables</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> localVarBuf = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenLocalVariablesForCPPClass">GenLocalVariablesForCPPClass</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(localVarBuf)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>localVarBuf</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpBuf2</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpBuf</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertclassgeneration.html#SLibCPPClassNeedSubclass">SLibCPPClassNeedSubclass</a>() &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!(ConfigSet.ZeroExternalMemoryAtStartup)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<::CompiledModel.GlobalScope.tModelObject>.ertSfcnZeroMemory();
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefsfcnlib.html#CPPEncapNeedsLocalVars">CPPEncapNeedsLocalVars</a>(TLC_TRUE) &amp;&amp; !<span class="tlc_bifunc">WHITE_SPACE</span>(tmpBuf)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Cache the refmdl object pointers stored in DWork before</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% they get Zeroed out.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> cppEncapCopyCode = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefsfcnlib.html#SLibGetCPPEncapInitCopyCode">SLibGetCPPEncapInitCopyCode</a>(TLC_TRUE, TLC_TRUE)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">WHITE_SPACE</span>(cppEncapCopyCode)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>cppEncapCopyCode</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpBuf</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefsfcnlib.html#CPPEncapNeedsLocalVars">CPPEncapNeedsLocalVars</a>(TLC_TRUE) &amp;&amp; !<span class="tlc_bifunc">WHITE_SPACE</span>(tmpBuf)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Restore the refmdl object pointers after the DWork has been</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Zeroed out</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> cppEncapRestoreCode = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefsfcnlib.html#SLibGetCPPEncapInitCopyCode">SLibGetCPPEncapInitCopyCode</a>(TLC_FALSE, TLC_TRUE)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">WHITE_SPACE</span>(cppEncapRestoreCode)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>cppEncapRestoreCode</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ertSfcnNeedZeroInitialization = TLC_TRUE
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_endif">%endif</span>
 <br><span class="tlc_comment">%%
</span> <br><span class="tlc_assign">%assign</span> rootSystem = System[NumSystems-1]
 <br><span class="tlc_comment">%%
</span> <br><span class="tlc_if">%if</span> numTunablePrms > 0
 <br>&nbsp;&nbsp;%<<span>prmHandlingBuffer</span>>/
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>============================================================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Generate<span style="padding-left:9.5px"></span>wrappers<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>exported<span style="padding-left:9.5px"></span>functions
</span> <br><span class="tlc_comment">%%
</span> <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>GetERTExportedFcnArgEl<span style="padding-left:9.5px"></span>===========================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Returns<span style="padding-left:9.5px"></span>either<span style="padding-left:9.5px"></span>'el'<span style="padding-left:9.5px"></span>or<span style="padding-left:9.5px"></span>'elt',<span style="padding-left:9.5px"></span>whichever<span style="padding-left:9.5px"></span>doesn't<span style="padding-left:9.5px"></span>coincide<span style="padding-left:9.5px"></span>with<span style="padding-left:9.5px"></span>the
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>given<span style="padding-left:9.5px"></span>original<span style="padding-left:9.5px"></span>name.<span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>returned<span style="padding-left:9.5px"></span>value<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>as<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>argument<span style="padding-left:9.5px"></span>name
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>exported<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>wrapper.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="GetERTExportedFcnArgEl" class="tlc_func">GetERTExportedFcnArgEl</a>(origName) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argEl = "ssEl"
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> origName == argEl
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argEl = "ssElt"
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> argEl
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>GetERTExportedFcnArgEl<span style="padding-left:9.5px"></span>===========================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Returns<span style="padding-left:9.5px"></span>either<span style="padding-left:9.5px"></span>'tid'<span style="padding-left:9.5px"></span>or<span style="padding-left:9.5px"></span>'taskId',<span style="padding-left:9.5px"></span>whichever<span style="padding-left:9.5px"></span>doesn't<span style="padding-left:9.5px"></span>coincide<span style="padding-left:9.5px"></span>with<span style="padding-left:9.5px"></span>the
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>given<span style="padding-left:9.5px"></span>original<span style="padding-left:9.5px"></span>name.<span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>returned<span style="padding-left:9.5px"></span>value<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>as<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>argument<span style="padding-left:9.5px"></span>name
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>exported<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>wrapper.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="GetERTExportedFcnArgTid" class="tlc_func">GetERTExportedFcnArgTid</a>(origName) <span class="tlc_fkw">void</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argTid = "ssTid"
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> origName == argTid
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argTid = "ssTaskId"
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> argTid  
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp;&nbsp;&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function:<span style="padding-left:9.5px"></span>DumpERTExportedFcns<span style="padding-left:9.5px"></span>==============================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>If<span style="padding-left:9.5px"></span>this<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>an<span style="padding-left:9.5px"></span>S-Function<span style="padding-left:9.5px"></span>which<span style="padding-left:9.5px"></span>exports<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>calls,<span style="padding-left:9.5px"></span>then<span style="padding-left:9.5px"></span>this
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>utility<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>called<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>dump<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>exported<span style="padding-left:9.5px"></span>output,<span style="padding-left:9.5px"></span>enable<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>disable
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>functions.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Returns:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>ssFcnCallErr_T<span style="padding-left:9.5px"></span>mdlExportedOutputFcn0(SimStruct<span style="padding-left:9.5px"></span>*%<<span>tSimStructArg</span>>,<span style="padding-left:9.5px"></span>int_T<span style="padding-left:9.5px"></span>el,<span style="padding-left:9.5px"></span>int_T<span style="padding-left:9.5px"></span>tid)
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>{
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>...
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>}
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="DumpERTExportedFcns" class="tlc_func">DumpERTExportedFcns</a>(sysId, ROLL_LIMIT) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> driverPortIdx = System[sysId].ExportedId - 1
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcallSysId = sysId
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%% Emit the exported enable function, if needed.</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemFcnIsEmpty">LibSystemFcnIsEmpty</a>(System[sysId],"Enable")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> fcnAbstract
 <br>This function is a wrapper around the 'enable' function for system
 <br>'%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(System[sysId])>'.  This function is explicitly called
 <br>by the function-call initiator which drives input port '%<<span>driverPortIdx</span>>'
 <br>of this S-Function.
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> fcnAbstract
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argEl = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GetERTExportedFcnArgEl">GetERTExportedFcnArgEl</a>(System[sysId].EnableFcn)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argTid = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GetERTExportedFcnArgTid">GetERTExportedFcnArgTid</a>(System[sysId].EnableFcn)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = "mdlExportedEnableFcn%<<span>driverPortIdx</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnReturns = "static ssFcnCallErr_T"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnParams = "SimStruct *%<<span>tSimStructArg</span>>, int_T %<<span>argEl</span>>, int_T %<<span>argTid</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract fcnAbstract; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Category "sfcn"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html">ertsfcnbody.tlc</a>"; Type "Exported Enable";...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GeneratedFor "%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(System[sysId])>"}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_undef">%undef</span> fcnRec
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;{
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Reserved arguments. */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(void)%<<span>argEl</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(void)%<<span>argTid</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Enable function for system '%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(System[sysId])>'. */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<System[sysId].EnableFcn>();
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Default return status. */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(SS_FCNCALL_NO_ERR);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Emit the exported disable function, if needed.</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemFcnIsEmpty">LibSystemFcnIsEmpty</a>(System[sysId],"Disable")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> fcnAbstract
 <br>This function is a wrapper around the 'disable' function for system
 <br>'%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(System[sysId])>'.  This function is explicitly called
 <br>by the function-call initiator which drives input port '%<<span>driverPortIdx</span>>'
 <br>of this S-Function.
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> fcnAbstract
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argEl = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GetERTExportedFcnArgEl">GetERTExportedFcnArgEl</a>(System[sysId].DisableFcn)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argTid = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GetERTExportedFcnArgTid">GetERTExportedFcnArgTid</a>(System[sysId].DisableFcn)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = "mdlExportedDisableFcn%<<span>driverPortIdx</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnReturns = "static ssFcnCallErr_T"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnParams = "SimStruct *%<<span>tSimStructArg</span>>, int_T %<<span>argEl</span>>, int_T %<<span>argTid</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract fcnAbstract; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Category "sfcn"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html">ertsfcnbody.tlc</a>"; Type "Exported Disable"; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GeneratedFor "%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(System[sysId])>"}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_undef">%undef</span> fcnRec
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;{
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Reserved arguments. */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(void)%<<span>argEl</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(void)%<<span>argTid</span>>;
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#DumpERTExportedFcnDataRead">DumpERTExportedFcnDataRead</a>(fcallSysId, ROLL_LIMIT)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Disable function for system '%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(System[sysId])>'. */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<System[sysId].DisableFcn>();
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#DumpERTExportedFcnDataWrite">DumpERTExportedFcnDataWrite</a>(fcallSysId, ROLL_LIMIT)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Default return status. */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(SS_FCNCALL_NO_ERR);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>  
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Finally, emit the exported output-update function, which must exist.</span>
 <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> fcnAbstract
 <br>&nbsp;&nbsp;This function is a wrapper around the 'output-update' function for
 <br>system '%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(System[sysId])>'.  This function is explicitly called
 <br>by the function-call initiator which drives input port '%<<span>driverPortIdx</span>>' 
 <br>of this S-Function.
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> fcnAbstract
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argEl = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GetERTExportedFcnArgEl">GetERTExportedFcnArgEl</a>(<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(System[sysId]))
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argTid = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GetERTExportedFcnArgTid">GetERTExportedFcnArgTid</a>(<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(System[sysId]))
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = "mdlExportedOutputFcn%<<span>driverPortIdx</span>>"
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnReturns = "static ssFcnCallErr_T"
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnParams = "SimStruct *%<<span>tSimStructArg</span>>, int_T %<<span>argEl</span>>, int_T %<<span>argTid</span>>"
 <br>&nbsp;&nbsp;<span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract fcnAbstract; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;Category "sfcn"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html">ertsfcnbody.tlc</a>"; Type "Exported OutputUpdate";...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;GeneratedFor "'%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(System[sysId])>"}
 <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)>
 <br>&nbsp;&nbsp;<span class="tlc_undef">%undef</span> fcnRec
 <br>&nbsp;&nbsp;%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>)
 <br>&nbsp;&nbsp;&nbsp;{
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Reserved arguments. */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(void)%<<span>argEl</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(void)%<<span>argTid</span>>;
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#DumpERTExportedFcnDataRead">DumpERTExportedFcnDataRead</a>(fcallSysId, ROLL_LIMIT)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemFcnIsEmpty">LibSystemFcnIsEmpty</a>(System[sysId],"OutputUpdate")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Output-update function for system '%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(System[sysId])>'. */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<System[sysId].OutputUpdateFcn>();
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* (Output-update function for system '%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(System[sysId])>' is empty.) */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>      
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#DumpERTExportedFcnDataWrite">DumpERTExportedFcnDataWrite</a>(fcallSysId, ROLL_LIMIT)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Default return status. */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(SS_FCNCALL_NO_ERR);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;}
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="DumpERTExportedFcnDataRead" class="tlc_func">DumpERTExportedFcnDataRead</a>(sysId, ROLL_LIMIT) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> declBuffer
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> NumModelInputs > 0 &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_bifunc">ISFIELD</span>(System[sysId], "ExternalInputs")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = <span class="tlc_bifunc">SIZE</span>(System[sysId].ExternalInputs, 1)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extIdx = System[sysId].ExternalInputs[idx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> tmpVar
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateTmpSFunctionInputSignalDef">GenerateTmpSFunctionInputSignalDef</a>(extIdx)>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> tmpVar
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateTmpInputSignalConditioning">GenerateTmpInputSignalConditioning</a>(tmpVar, ROLL_LIMIT, extIdx)>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> currBlockFcn = ::BlockFcn
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn = "SFunctionOutputs"
 <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sfcnlib.html#SLibGenDataStoreReads">SLibGenDataStoreReads</a>("%<<span>tSimStructArg</span>>")>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn = currBlockFcn  
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> declBuffer
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">WHITE_SPACE</span>(declBuffer)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Update input variables for system '%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(System[sysId])>'. */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>declBuffer</span>>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="DumpERTExportedFcnDataWrite" class="tlc_func">DumpERTExportedFcnDataWrite</a>(sysId, ROLL_LIMIT) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> declBuffer
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> NumModelOutputs > 0 &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_bifunc">ISFIELD</span>(System[sysId], "ExternalOutputs")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% It would be nice if we could selectively</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% write out the external outputs as in the </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% case for DumpERTExportedFcnDataRead.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% However, we do not have the map for potential </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% merge'd signals at the system output.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = <span class="tlc_bifunc">SIZE</span>(System[sysId].ExternalOutputs, 1)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extIdx = System[sysId].ExternalOutputs[idx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> tmpVar
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateTmpSFunctionOutputSignalDef">GenerateTmpSFunctionOutputSignalDef</a>(extIdx)>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> tmpVar
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateTmpOutputSignalConditioning">GenerateTmpOutputSignalConditioning</a>(tmpVar, ROLL_LIMIT, extIdx)>/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> currBlockFcn = ::BlockFcn
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn = "SFunctionOutputs"
 <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sfcnlib.html#SLibGenDataStoreWrites">SLibGenDataStoreWrites</a>(tSimStructArg)>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn = currBlockFcn
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> declBuffer
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">WHITE_SPACE</span>(declBuffer)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Update block output for this S-Function. */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>declBuffer</span>>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="FcnCompareDataTypeChecksums" class="tlc_func">FcnCompareDataTypeChecksums</a>() <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> compareBuffer
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> dtIdx = ::CompiledModel.DataTypes.NumDataTypes
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dt = ::CompiledModel.DataTypes.DataType[dtIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(dt, "Checksum")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> dt.Checksum[0] > 0 || dt.Checksum[1] > 0 || dt.Checksum[2] > 0 || dt.Checksum[3] > 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssCallGetDataTypeChecksum(%<<span>tSimStructArg</span>>, "%<<span>dt.Name</span>>", &amp;checksumVals);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% g947942: if ssCallGetDataTypeChecksum fails, the error is implicitly </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% assigned to the SimStruct and checksumVals is set to NULL</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ((checksumVals != NULL) &amp;&amp; (checksumVals[0] != %<dt.Checksum[0]> ||
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checksumVals[1] != %<dt.Checksum[1]> ||
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checksumVals[2] != %<dt.Checksum[2]> ||
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checksumVals[3] != %<dt.Checksum[3]>)) {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetErrorStatus(%<<span>tSimStructArg</span>>, "The definition of the data type "
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"'%<<span>dt.Name</span>>' has been updated since this S-Function was "
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"generated; regenerate this S-Function.");
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;        
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>  
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> compareBuffer
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">WHITE_SPACE</span>(compareBuffer)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Validate checksums for user-defined data types used by this S-Function. */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;{
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const uint32_T *checksumVals;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>compareBuffer</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_if">%if</span> ExportFunctionsMode == 1
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rootSystem = System[NumSystems-1]
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> id = rootSystem.NumChildSystems
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> systemId = rootSystem.ChildSystems[id][0]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> system = System[systemId]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> system.Type == "function-call" &amp;&amp; system.Exported == "yes"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#DumpERTExportedFcns">DumpERTExportedFcns</a>(systemId,ROLL_LIMIT)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br><span class="tlc_assign">%assign</span> fcnName = "mdlInitializeSizes"
 <br><span class="tlc_assign">%assign</span> fcnReturns = "static void"
 <br><span class="tlc_assign">%assign</span> fcnParams = "SimStruct *%<<span>tSimStructArg</span>>"
 <br><span class="tlc_openfile">%openfile</span> fcnAbstract
 <br>This function registers the input and output signal properties of the
 <br>generated ERT code.
 <br><span class="tlc_closefile">%closefile</span> fcnAbstract
 <br><span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract fcnAbstract; ...
 <br>&nbsp;&nbsp;Category "sfcn"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html">ertsfcnbody.tlc</a>"; Type "Initialize"}
 <br>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)>
 <br><span class="tlc_undef">%undef</span> fcnRec
 <br>%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>)
 <br>{  
 <br>&nbsp;&nbsp;/* Tunable Parameters */
 <br>&nbsp;&nbsp;ssSetNumSFcnParams(%<<span>tSimStructArg</span>>, %<<span>numTunablePrms</span>>);
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%% Be U32Bit Region Compliant</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% If the generated S-Function calls published fixedpoint API functions </span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% to handle 33+ fixed point data, it must call set this flat to be </span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% U32BitRegionCompliant.</span>
 <br>&nbsp;&nbsp;ssFxpSetU32BitRegionCompliant(%<<span>tSimStructArg</span>>, 1);
 <br>&nbsp;&nbsp;/* Number of expected parameters */
 <br>&nbsp;&nbsp;if (ssGetNumSFcnParams(%<<span>tSimStructArg</span>>) == ssGetSFcnParamsCount(%<<span>tSimStructArg</span>>)) {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;#if defined(MDL_CHECK_PARAMETERS)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;mdlCheckParameters(%<<span>tSimStructArg</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;#endif /* MDL_CHECK_PARAMETERS */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;if (ssGetErrorStatus(%<<span>tSimStructArg</span>>) != %<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibGetNullDefinitionFromTfl">SLibGetNullDefinitionFromTfl</a>()</span>>) {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;} else {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;return; /* Parameter mismatch will be reported by Simulink */
 <br>&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;ssSetNumContStates(%<<span>tSimStructArg</span>>, 0);
 <br>&nbsp;&nbsp;ssSetNumDiscStates(%<<span>tSimStructArg</span>>, 0);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;ssSetRTWGeneratedSFcn(%<<span>tSimStructArg</span>>, 3);
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Register data-store accesses</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sfcnlib.html#SLibRegisterDataStores">SLibRegisterDataStores</a>(tSimStructArg)>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%% Create and initialize an array to track what TIDs are associated</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% with ports. Each time a TID is associated with a port it is</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% expected that the relative IsSampleTimeOnPort element should be</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% set to 1. These associations are made within the functions: </span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% DumpErtSFcnExternalInputs DumpErtSFcnExternalOutputs</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> localISTParray = []
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = ::CompiledModel.NumSampleTimes
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> localISTParray = localISTParray + 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> localISTParray[idx]=0
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_addtorecord">%addtorecord</span> ::CompiledModel IsSampleTimeOnPort localISTParray
 <br>&nbsp;&nbsp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#DumpErtSFcnExternalInputs">DumpErtSFcnExternalInputs</a>()</span>>
 <br>&nbsp;&nbsp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#DumpErtSFcnExternalOutputs">DumpErtSFcnExternalOutputs</a>()</span>>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Create a boolean result from the IsSampleTimeOnPort array</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> AllSampleTimesOnPorts = TLC_TRUE
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = ::CompiledModel.NumRuntimeExportedRates
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !::CompiledModel.IsSampleTimeOnPort[idx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> AllSampleTimesOnPorts = TLC_FALSE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> NeedConstantST = TLC_FALSE
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Export function assume all outport/inport inherit sample time, </span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% No need to explicity set constant st at outport. </span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> ExportFunctionsMode != 1 &amp;&amp; ExternalOutputs.NumExternalOutputs > 1 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = ExternalOutputs.NumExternalOutputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extOut       = ExternalOutputs.ExternalOutput[idx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sysIdx       = extOut.Block[0]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> blkIdx       = extOut.Block[1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> outportBlock = System[sysIdx].Block[blkIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISEQUAL</span>(outportBlock.TID,"constant")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> NeedConstantST = TLC_TRUE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> %<<span>ConfigSet.NoFixptDivByZeroProtection</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ss_option_str = ""
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ss_option_str = "SS_OPTION_EXCEPTION_FREE_CODE"
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> NumRuntimeExportedRates > 1 || NeedConstantST
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> AllSampleTimesOnPorts
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* All sample times are available through ports.
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Use port based sample times 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetNumSampleTimes(%<<span>tSimStructArg</span>>, PORT_BASED_SAMPLE_TIMES);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Using hybrid block and port based sample times */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetNumSampleTimes
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(%<<span>tSimStructArg</span>>, %<<span>NumRuntimeExportedRates</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(ss_option_str)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ss_option_str = "%<<span>ss_option_str</span>> | "
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ss_option_str = "%<<span>ss_option_str</span>>SS_OPTION_PORT_SAMPLE_TIMES_ASSIGNED"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> NeedConstantST
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(ss_option_str)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ss_option_str = "%<<span>ss_option_str</span>> | "
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ss_option_str = "%<<span>ss_option_str</span>>SS_OPTION_ALLOW_CONSTANT_PORT_SAMPLE_TIME"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Number of sample-times */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;ssSetNumSampleTimes(%<<span>tSimStructArg</span>>, %<<span>NumRuntimeExportedRates</span>>);
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;ssSetNumRWork(%<<span>tSimStructArg</span>>, 0);
 <br>&nbsp;&nbsp;ssSetNumIWork(%<<span>tSimStructArg</span>>, 0);
 <br>&nbsp;&nbsp;ssSetNumPWork(%<<span>tSimStructArg</span>>, 0);
 <br>&nbsp;&nbsp;ssSetNumModes(%<<span>tSimStructArg</span>>, 0);
 <br>&nbsp;&nbsp;ssSetNumNonsampledZCs(%<<span>tSimStructArg</span>>, 0);
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;/* ERT S-Function works with model reference normal mode */
 <br>&nbsp;&nbsp;ssSetModelReferenceNormalModeSupport(%<<span>tSimStructArg</span>>, MDL_START_AND_MDL_PROCESS_PARAMS_OK);
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> AllSampleTimesInherited == "yes"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* ERT S-Function works with model sample time inheritance */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;ssSetModelReferenceSampleTimeDefaultInheritance(%<<span>tSimStructArg</span>>);
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%% Disallow constant sample time if the S-Function have access to Wrapper</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% DWorks, or has inherited sample times and dworks</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> ::CompiledModel.DWorks.NumSFcnWrapperDWorks > 0 || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;(AllSampleTimesInherited == "yes" &amp;&amp; ::CompiledModel.DWorks.NumDWorks > 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(ss_option_str)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ss_option_str = "%<<span>ss_option_str</span>> | "
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ss_option_str = "%<<span>ss_option_str</span>>SS_OPTION_DISALLOW_CONSTANT_SAMPLE_TIME"
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(ss_option_str)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;/* Set SS_OPTIONS */
 <br>&nbsp;&nbsp;&nbsp;&nbsp;ssSetOptions(%<<span>tSimStructArg</span>>, %<<span>ss_option_str</span>>);
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> AllSampleTimesInherited == "yes"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;ssSetModelReferenceSampleTimeInheritanceRule(%<<span>tSimStructArg</span>>, USE_DEFAULT_FOR_DISCRETE_INHERITANCE);
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>}
 <br>&nbsp; <br><span class="tlc_assign">%assign</span> fcnName = "mdlInitializeSampleTimes"
 <br><span class="tlc_assign">%assign</span> fcnReturns = "static void"
 <br><span class="tlc_assign">%assign</span> fcnParams = "SimStruct *%<<span>tSimStructArg</span>>"
 <br><span class="tlc_assign">%assign</span> fcnAbstract = "This function registers the sample times of the generated ERT code."
 <br><span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract fcnAbstract; ...
 <br>&nbsp;&nbsp;Category "sfcn"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html">ertsfcnbody.tlc</a>"; Type "Initialize"}
 <br>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)>
 <br><span class="tlc_undef">%undef</span> fcnRec
 <br>%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>)
 <br>{
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> AllSampleTimesInherited == "yes" || ExportFunctionsMode == 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;ssSetSampleTime(%<<span>tSimStructArg</span>>, 0, -1);
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = NumRuntimeExportedRates
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tid        = SampleTime[idx].TID
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sampleTime = SampleTime[idx].PeriodAndOffset[0]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> offset     = SampleTime[idx].PeriodAndOffset[1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetSampleTime(%<<span>tSimStructArg</span>>, %<<span>tid</span>>, %<<span>sampleTime</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetOffsetTime(%<<span>tSimStructArg</span>>, %<<span>tid</span>>, %<<span>offset</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>}
 <br>&nbsp; <br><span class="tlc_assign">%assign</span> genWrapperDWorks = ::CompiledModel.DWorks.NumSFcnWrapperDWorks > 0
 <br>&nbsp; <br><span class="tlc_assign">%assign</span> fcnName = "mdlSetWorkWidths"
 <br><span class="tlc_assign">%assign</span> fcnReturns = "static void"
 <br><span class="tlc_assign">%assign</span> fcnParams = "SimStruct *%<<span>tSimStructArg</span>>"
 <br><span class="tlc_assign">%assign</span> fcnAbstract = "This function registers run-time parameters for tunable parameters."
 <br><span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract fcnAbstract; ...
 <br>&nbsp;&nbsp;Category "sfcn"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html">ertsfcnbody.tlc</a>"; Type "Initialize"}
 <br>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)>
 <br><span class="tlc_undef">%undef</span> fcnRec
 <br>#define MDL_SET_WORK_WIDTHS
 <br>#if defined(MDL_SET_WORK_WIDTHS) &amp;&amp; defined(MATLAB_MEX_FILE)
 <br>%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>)
 <br>{
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> numTunablePrms > 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>mdlWorkWidthFcnBody</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>  
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> genWrapperDWorks
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sfcnlib.html#SLibGenDataStoreChecks">SLibGenDataStoreChecks</a>("%<<span>tSimStructArg</span>>")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Compare checksums of user-defined datatypes</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnCompareDataTypeChecksums">FcnCompareDataTypeChecksums</a>()</span>>
 <br>&nbsp;&nbsp;&nbsp; <br>}
 <br>#endif /* MDL_SET_WORK_WIDTHS */
 <br>&nbsp; <br><span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibMdlEnableDisablePermitted">SLibMdlEnableDisablePermitted</a>()
 <br>static boolean_T      enable_first_entry;
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br><span class="tlc_assign">%assign</span> fcnName = "mdlStart"
 <br><span class="tlc_assign">%assign</span> fcnReturns = "static void"
 <br><span class="tlc_assign">%assign</span> fcnParams = "SimStruct *%<<span>tSimStructArg</span>>" 
 <br><span class="tlc_openfile">%openfile</span> fcnAbstract
 <br>&nbsp;&nbsp;This function does sfunction consistent check, initializes internal memory if neccessary, and 
 <br>&nbsp;&nbsp;calls the initialization function of the generated ERT code.
 <br><span class="tlc_closefile">%closefile</span> fcnAbstract
 <br><span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract fcnAbstract; ...
 <br>&nbsp;&nbsp;Category "sfcn"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html">ertsfcnbody.tlc</a>"; Type "Start"}
 <br>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)>
 <br><span class="tlc_undef">%undef</span> fcnRec
 <br>#define MDL_START  /* Change to #undef to remove function */
 <br>#if defined(MDL_START) 
 <br>%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>)
 <br>{
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> currBlockFcn = ::BlockFcn
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> currSystemFcn = ::SystemFcnsForArgAccess
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn = "SFunctionStart"
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::SystemFcnsForArgAccess = ::BlockFcn
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> NumModelOutputs > 0 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = ExternalOutputs.NumExternalOutputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateSFunctionOutputSignalDefinition">GenerateSFunctionOutputSignalDefinition</a>("OutPort_",idx)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnErtSfcnDeclareSimStruc">FcnErtSfcnDeclareSimStruc</a>()</span>>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp; <br>&nbsp;&nbsp;/* check if more than one instance of this S-Function has been used */
 <br>&nbsp;&nbsp;if (++%<<span>instanceCounter</span>> > 1) {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;ssSetErrorStatus(%<<span>tSimStructArg</span>>,"This S-Function is limited to one copy per model.");
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>instanceCounter</span>> = 0;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;return;
 <br>&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;/* check if parent model's start time is the same as that used to generate code */
 <br>&nbsp;&nbsp;if (ssGetTStart(%<<span>tSimStructArg</span>>) != %<::CompiledModel.StartTime>) {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;ssSetErrorStatus(%<<span>tSimStructArg</span>>,"The parent model of this S-Function must set the value of the 'Start time' on the Solver page of its Configuration Parameters Dialog to %<::CompiledModel.StartTime> since that was the value used when generating code for the S-Function's original model.");
 <br>&nbsp;&nbsp;&nbsp;&nbsp;return;
 <br>&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sfcnlib.html#SLibGenerateSolverChecks">SLibGenerateSolverChecks</a>("%<<span>tSimStructArg</span>>")>
 <br><span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibMdlEnableDisablePermitted">SLibMdlEnableDisablePermitted</a>()
 <br>&nbsp;&nbsp;enable_first_entry = %<GET_TYPE_ID_REPLACEMENT("true")>;
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp; <br>#ifdef PIL_S_FUNCTION
 <br>&nbsp;&nbsp;pilMarshallInitSFcnSimStruct(%<<span>tSimStructArg</span>>);
 <br>&nbsp;&nbsp;pilMarshallInitRootSimStruct(ssGetRootSS(%<<span>tSimStructArg</span>>));
 <br>#endif
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Pack<span style="padding-left:9.5px"></span>model<span style="padding-left:9.5px"></span>data<span style="padding-left:9.5px"></span>into<span style="padding-left:9.5px"></span>RTM
</span> <br>%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertlib.html#FcnPackModelDataIntoRTM">FcnPackModelDataIntoRTM</a>()</span>> 
 <br>&nbsp; <br><span class="tlc_if">%if</span> ertSfcnNeedZeroInitialization
 <br>&nbsp;&nbsp;%<<span>modelZeroMemory</span>>(%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelFcnArgs">SLibModelFcnArgs</a>("Initialize",TLC_TRUE,"")>);
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#ERTSfcnGenInitializeConditionCode">ERTSfcnGenInitializeConditionCode</a>(origERTInitFcnArg,ROLL_LIMIT)>
 <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Notice<span style="padding-left:9.5px"></span>that<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>outport<span style="padding-left:9.5px"></span>name<span style="padding-left:9.5px"></span>prefix<span style="padding-left:9.5px"></span>must<span style="padding-left:9.5px"></span>be<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>same<span style="padding-left:9.5px"></span>as<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>for
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>GenerateSFunctionOutputSignalDefinition<span style="padding-left:9.5px"></span>function.
</span> <br><span class="tlc_if">%if</span> NumModelOutputs > 0 
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = ExternalOutputs.NumExternalOutputs     
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateOutputSignalConditioning">GenerateOutputSignalConditioning</a>("OutPort_", ROLL_LIMIT,idx)>
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br><span class="tlc_endif">%endif</span>
 <br><span class="tlc_assign">%assign</span> ::BlockFcn = currBlockFcn
 <br><span class="tlc_assign">%assign</span> ::SystemFcnsForArgAccess = currSystemFcn
 <br>}
 <br>#endif /*  MDL_START */
 <br>&nbsp; <br>&nbsp; <br>#define MDL_INITIALIZE_CONDITIONS
 <br><span class="tlc_assign">%assign</span> fcnName = "mdlInitializeConditions"
 <br><span class="tlc_assign">%assign</span> fcnReturns = "static void"
 <br><span class="tlc_assign">%assign</span> fcnParams = "SimStruct *%<<span>tSimStructArg</span>>"
 <br><span class="tlc_openfile">%openfile</span> fcnAbstract
 <br><span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibMdlEnableDisablePermitted">SLibMdlEnableDisablePermitted</a>()
 <br>&nbsp;&nbsp;This function calls the initialization function of the generated ERT
 <br>&nbsp;&nbsp;code.
 <br><span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;Nothing runs in this function 
 <br><span class="tlc_endif">%endif</span>
 <br><span class="tlc_closefile">%closefile</span> fcnAbstract
 <br><span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract fcnAbstract; ...
 <br>&nbsp;&nbsp;Category "sfcn"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html">ertsfcnbody.tlc</a>"; Type "Initialize"}
 <br>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)>
 <br><span class="tlc_undef">%undef</span> fcnRec
 <br>%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>)
 <br>{
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibMdlEnableDisablePermitted">SLibMdlEnableDisablePermitted</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#ERTSfcnGenInitializeConditionCode">ERTSfcnGenInitializeConditionCode</a>(origERTInitFcnArg,ROLL_LIMIT)>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp; <br>}
 <br>&nbsp; <br>&nbsp; <br><span class="tlc_if">%if</span> ExportFunctionsMode != 1
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = "mdlOutputs"
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnReturns = "static void"
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnParams = "SimStruct *%<<span>tSimStructArg</span>>, int_T %<::CompiledModel.GlobalScope.tTID>"
 <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> fcnAbstract
 <br>This function calls the step function of the generated ERT code
 <br>and provides an interface with the simulation data.
 <br>&nbsp;<span class="tlc_closefile">%closefile</span> fcnAbstract
 <br>&nbsp;<span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract fcnAbstract; ...
 <br>&nbsp;&nbsp;&nbsp;Category "sfcn"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html">ertsfcnbody.tlc</a>"; Type "Output"}
 <br>&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)>
 <br>&nbsp;<span class="tlc_undef">%undef</span> fcnRec
 <br>%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>)
 <br>{  
 <br><span class="tlc_assign">%assign</span> currBlockFcn = ::BlockFcn
 <br><span class="tlc_assign">%assign</span> currSystemFcn = ::SystemFcnsForArgAccess
 <br><span class="tlc_assign">%assign</span> ::BlockFcn = "SFunctionOutputs"
 <br><span class="tlc_assign">%assign</span> ::SystemFcnsForArgAccess = ::BlockFcn
 <br><span class="tlc_comment">%%
</span> <br><span class="tlc_if">%if</span> NumModelInputs > 0
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = ExternalInputs.NumExternalInputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateSFunctionInputSignalDefinition">GenerateSFunctionInputSignalDefinition</a>("InPort_",idx)>
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br><span class="tlc_endif">%endif</span>
 <br><span class="tlc_if">%if</span> NumModelOutputs > 0
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = ExternalOutputs.NumExternalOutputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateSFunctionOutputSignalDefinition">GenerateSFunctionOutputSignalDefinition</a>("OutPort_",idx)>
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br><span class="tlc_if">%if</span> !GenerateClassInterface
 <br>&nbsp;&nbsp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnErtSfcnDeclareSimStruc">FcnErtSfcnDeclareSimStruc</a>()</span>>
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Notice<span style="padding-left:9.5px"></span>that<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>inport<span style="padding-left:9.5px"></span>name<span style="padding-left:9.5px"></span>prefix<span style="padding-left:9.5px"></span>must<span style="padding-left:9.5px"></span>be<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>same<span style="padding-left:9.5px"></span>as<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>for
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>GenerateSFunctionInputSignalDefinition<span style="padding-left:9.5px"></span>function.
</span> <br><span class="tlc_if">%if</span> NumModelInputs > 0
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = ExternalInputs.NumExternalInputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateInputSignalConditioning">GenerateInputSignalConditioning</a>("InPort_", ROLL_LIMIT,idx)>
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sfcnlib.html#SLibGenDataStoreReads">SLibGenDataStoreReads</a>("%<<span>tSimStructArg</span>>")>
 <br>&nbsp; <br><span class="tlc_assign">%assign</span> localTid = ""
 <br><span class="tlc_assign">%assign</span> mdlTid01Eq  = <span class="tlc_bifunc">ISEQUAL</span>(SolverType, "FixedStep") &amp;&amp; ...
 <br>&nbsp;&nbsp;FixedStepOpts.TID01EQ
 <br><span class="tlc_assign">%assign</span> mdlAllTidEq = NumRuntimeExportedRates == 1 || ...
 <br>&nbsp;&nbsp;(NumRuntimeExportedRates == 2 &amp;&amp; mdlTid01Eq)
 <br><span class="tlc_assign">%assign</span> needTimeConditioningCode = ...
 <br>&nbsp;&nbsp;NumRuntimeExportedRates > 1 &amp;&amp;  !mdlAllTidEq &amp;&amp; !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sysbodlib.html#SLibSingleTasking">SLibSingleTasking</a>()
 <br>&nbsp; <br><span class="tlc_openfile">%openfile</span> codeBody
 <br><span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibFcnProtoCtrlActive">SLibFcnProtoCtrlActive</a>()
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnData = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertfcnprotocontrol.html#FcnGetFunctionPrototypeRecord">FcnGetFunctionPrototypeRecord</a>()
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> arglist = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertfcnprotocontrol.html#FcnModelStepFcnArgs">FcnModelStepFcnArgs</a>(fcnData,"ERTSfcnCall")
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = fcnData.FunctionName
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> haveReturnValue = (fcnData.NumArgSpecData > 0 &amp;&amp; ... 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fcnData.ArgSpecData[0].Category == "Value" &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fcnData.ArgSpecData[0].SLObjectType == "Outport")
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> returnAssignment = ""
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> haveReturnValue 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> returnAssignment = "localOut%<fcnData.ArgSpecData[0].PortNum> = "
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;%<<span>returnAssignment</span>>%<<span>fcnName</span>>(%<<span>arglist</span>>);
 <br><span class="tlc_elseif">%elseif</span> ::GenerateClassInterface &amp;&amp; ...
 <br>&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sysbodlib.html#SLibSingleTasking">SLibSingleTasking</a>()
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% class generation and single rate or MR/singletasking mode</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = classConfObj.FunctionName
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> (!(classConfObj.hasGlobalAccessForInport)) || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;(!(classConfObj.hasGlobalAccessForOutport))
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Non void-void case</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> arglist = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertfcnprotocontrol.html#FcnModelStepFcnArgs">FcnModelStepFcnArgs</a>(classConfObj,"ERTSfcnCall")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> haveReturnValue = <span class="tlc_bifunc">ISFIELD</span>(classConfObj, "hasReturnValue") &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classConfObj.hasReturnValue
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> returnAssignment = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> haveReturnValue 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> returnAssignment = "localOut%<classConfObj.ArgSpecData[0].PortNum> = "
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>returnAssignment</span>>%<::CompiledModel.GlobalScope.tModelObject>.%<<span>fcnName</span>>(%<<span>arglist</span>>);
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span> <span class="tlc_comment">%% void-void case</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<::CompiledModel.GlobalScope.tModelObject>.%<<span>fcnName</span>>();
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span> 
 <br>&nbsp;&nbsp;&nbsp; <br><span class="tlc_elseif">%elseif</span> needTimeConditioningCode
 <br>&nbsp;&nbsp;{
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> localTid = "ertTid"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#DumpTimeConditioningCode">DumpTimeConditioningCode</a>(localTid)>   
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> GenerateSampleERTMain &amp;&amp; <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sysbodlib.html#SLibIsPeriodicRateGrouping">SLibIsPeriodicRateGrouping</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch(%<<span>localTid</span>>) {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> tid = NumRuntimeExportedRates
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case %<<span>tid</span>> :
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rootSystem.CurrentTID = tid
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> CombineOutputUpdateFcns == 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>modelStepFcn</span>>%<<span>tid</span>>(%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelFcnArgs">SLibModelFcnArgs</a>("OutputUpdate",TLC_TRUE,tid)>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% for class generation, this must be void-void case.</span>
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<::CompiledModel.GlobalScope.tModelObject>.%<<span>classConfObj.FunctionName</span>>%<<span>tid</span>>();
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>modelStepFcn</span>>%<<span>tid</span>>(%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelFcnArgs">SLibModelFcnArgs</a>("Output",TLC_TRUE,tid)>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>modelUpdtFcn</span>>%<<span>tid</span>>(%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelFcnArgs">SLibModelFcnArgs</a>("Update",TLC_TRUE,tid)>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default : 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> CombineOutputUpdateFcns == 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>modelStepFcn</span>>(%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelFcnArgs">SLibModelFcnArgs</a>("OutputUpdate",TLC_TRUE,localTid)>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>modelStepFcn</span>>(%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelFcnArgs">SLibModelFcnArgs</a>("Output",TLC_TRUE,localTid)>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (NumContStates > 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>modelUpdtFcn</span>>(%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelFcnArgs">SLibModelFcnArgs</a>("UpdateContStates",TLC_TRUE,localTid)>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>modelUpdtFcn</span>>(%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelFcnArgs">SLibModelFcnArgs</a>("RootUpdate",TLC_TRUE,localTid)>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;}
 <br><span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> NumRuntimeExportedRates > 1 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span> (mdlTid01Eq &amp;&amp; mdlAllTidEq) || <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sysbodlib.html#SLibSingleTasking">SLibSingleTasking</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% If model has and only has tid0 and tid1</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% and tid01eq, step function must be guarded </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% by major time step. </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;if (ssIsMajorTimeStep(%<<span>tSimStructArg</span>>)) {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>    
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> CombineOutputUpdateFcns == 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>modelStepFcn</span>>(%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelFcnArgs">SLibModelFcnArgs</a>("OutputUpdate",TLC_TRUE,"")>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>modelStepFcn</span>>(%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelFcnArgs">SLibModelFcnArgs</a>("Output",TLC_TRUE,"")>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (NumContStates > 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>modelUpdtFcn</span>>(%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelFcnArgs">SLibModelFcnArgs</a>("UpdateContStates",TLC_TRUE,localTid)>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>modelUpdtFcn</span>>(%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelFcnArgs">SLibModelFcnArgs</a>("RootUpdate",TLC_TRUE,localTid)>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> NumRuntimeExportedRates > 1    
 <br>&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_endif">%endif</span>
 <br><span class="tlc_closefile">%closefile</span> codeBody
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Skip<span style="padding-left:9.5px"></span>step<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>CONSTANT_TID<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>avoid<span style="padding-left:9.5px"></span>running<span style="padding-left:9.5px"></span>step<span style="padding-left:9.5px"></span>twice<span style="padding-left:9.5px"></span>at<span style="padding-left:9.5px"></span>t=0.<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Don't<span style="padding-left:9.5px"></span>need<span style="padding-left:9.5px"></span>do<span style="padding-left:9.5px"></span>so<span style="padding-left:9.5px"></span>if<span style="padding-left:9.5px"></span>needTimeConditioningCode.<span style="padding-left:9.5px"></span>TimeConditioningCode<span style="padding-left:9.5px"></span>will
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>take<span style="padding-left:9.5px"></span>care<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>CONSTANT_TID
</span> <br><span class="tlc_if">%if</span> NeedConstantST &amp;&amp; !needTimeConditioningCode
 <br>&nbsp;&nbsp;if (%<::CompiledModel.GlobalScope.tTID> != CONSTANT_TID) {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>codeBody</span>>
 <br>&nbsp;&nbsp;}
 <br><span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;%<<span>codeBody</span>>
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Notice<span style="padding-left:9.5px"></span>that<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>outport<span style="padding-left:9.5px"></span>name<span style="padding-left:9.5px"></span>prefix<span style="padding-left:9.5px"></span>must<span style="padding-left:9.5px"></span>be<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>same<span style="padding-left:9.5px"></span>as<span style="padding-left:9.5px"></span>used<span style="padding-left:9.5px"></span>for
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>GenerateSFunctionOutputSignalDefinition<span style="padding-left:9.5px"></span>function.
</span> <br><span class="tlc_if">%if</span> NumModelOutputs > 0
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = ExternalOutputs.NumExternalOutputs      
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#GenerateOutputSignalConditioning">GenerateOutputSignalConditioning</a>("OutPort_", ROLL_LIMIT,idx)>
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sfcnlib.html#SLibGenDataStoreWrites">SLibGenDataStoreWrites</a>(tSimStructArg)>
 <br><span class="tlc_assign">%assign</span> ::BlockFcn = currBlockFcn
 <br><span class="tlc_assign">%assign</span> ::SystemFcnsForArgAccess = currSystemFcn
 <br>}
 <br><span class="tlc_endif">%endif</span>
 <br>&nbsp; <br><span class="tlc_assign">%assign</span> fcnName = "mdlTerminate"
 <br><span class="tlc_assign">%assign</span> fcnReturns = "static void"
 <br><span class="tlc_assign">%assign</span> fcnParams = "SimStruct *%<<span>tSimStructArg</span>>"
 <br><span class="tlc_assign">%assign</span> fcnAbstract = "This function calls the termination function of the generated ERT code."
 <br><span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract fcnAbstract; ...
 <br>&nbsp;&nbsp;Category "sfcn"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html">ertsfcnbody.tlc</a>"; Type "Terminate"}
 <br>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)>
 <br><span class="tlc_undef">%undef</span> fcnRec
 <br>%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>)
 <br>{
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !GenerateClassInterface
 <br>&nbsp;&nbsp;%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html#FcnErtSfcnDeclareSimStruc">FcnErtSfcnDeclareSimStruc</a>()</span>>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> GenerateClassInterface &amp;&amp; ::CompiledModel.IncludeMdlTerminateFcn
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<::CompiledModel.GlobalScope.tModelObject>.terminate();
 <br>&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> ::CompiledModel.IncludeMdlTerminateFcn
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>modelTermFcn</span>>(%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelFcnArgs">SLibModelFcnArgs</a>("Terminate",TLC_TRUE,"")>);
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;%<<span>instanceCounter</span>> = 0;
 <br>}
 <br>&nbsp;&nbsp; <br>#define MDL_ENABLE
 <br><span class="tlc_assign">%assign</span> fcnName = "mdlEnable"
 <br><span class="tlc_assign">%assign</span> fcnReturns = "static void"
 <br><span class="tlc_assign">%assign</span> fcnParams = "SimStruct *%<<span>tSimStructArg</span>>"
 <br><span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract ""; ...
 <br>&nbsp;&nbsp;Category "sfcn"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html">ertsfcnbody.tlc</a>"; Type "Enable"}
 <br>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)>
 <br><span class="tlc_undef">%undef</span> fcnRec
 <br>%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>) {
 <br><span class="tlc_if">%if</span> EnableGenerated == 1
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>modelEnable</span>>(%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelFcnArgs">SLibModelFcnArgs</a>("Enable",TLC_TRUE,"")>);
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%%% C++ encapsulation</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<::CompiledModel.GlobalScope.tModelObject>.enable();
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibMdlEnableDisablePermitted">SLibMdlEnableDisablePermitted</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;if (!enable_first_entry) {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static char msg[256];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (strlen(ssGetPath(%<<span>tSimStructArg</span>>)) < 128) {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sprintf(msg, "The model is attempting to invoke the enable method of ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the S-Function block %s for model '%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibGetModelName">LibGetModelName</a>()</span>>', yet the code ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generated for the model does not include the enable method/n", ssGetPath(%<<span>tSimStructArg</span>>));
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sprintf(msg, "The model is attempting to invoke the enable method of ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the S-Function block for model '%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibGetModelName">LibGetModelName</a>()</span>>', yet the code ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generated for the model does not include the enable method/n");
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssSetErrorStatus(%<<span>tSimStructArg</span>>, msg);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;enable_first_entry = %<GET_TYPE_ID_REPLACEMENT("false")>;
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;(void) %<<span>tSimStructArg</span>>;
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_endif">%endif</span>
 <br>}
 <br>&nbsp; <br>#define MDL_DISABLE
 <br><span class="tlc_assign">%assign</span> fcnName = "mdlDisable"
 <br><span class="tlc_assign">%assign</span> fcnReturns = "static void"
 <br><span class="tlc_assign">%assign</span> fcnParams = "SimStruct *%<<span>tSimStructArg</span>>"
 <br><span class="tlc_createrecord">%createrecord</span> fcnRec {Name fcnName; Returns fcnReturns; Params fcnParams; Abstract ""; ...
 <br>&nbsp;&nbsp;Category "sfcn"; GeneratedBy "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertsfcnbody.html">ertsfcnbody.tlc</a>"; Type "Disable"}
 <br>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdrlib.html#SLibDumpFunctionBanner">SLibDumpFunctionBanner</a>(fcnRec)>
 <br><span class="tlc_undef">%undef</span> fcnRec
 <br>%<<span>fcnReturns</span>> %<<span>fcnName</span>>(%<<span>fcnParams</span>>) {
 <br><span class="tlc_if">%if</span> DisableGenerated == 1
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>modelDisable</span>>(%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelFcnArgs">SLibModelFcnArgs</a>("Disable",TLC_TRUE,"")>);
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%%% C++ encapsulation</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<::CompiledModel.GlobalScope.tModelObject>.disable();
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibMdlEnableDisablePermitted">SLibMdlEnableDisablePermitted</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;static char msg[256];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;if (strlen(ssGetPath(%<<span>tSimStructArg</span>>)) < 128) {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sprintf(msg, "The model is attempting to invoke the disable mothod of ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the S-Function block %s for model '%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibGetModelName">LibGetModelName</a>()</span>>', yet the code ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generated for the model does not include the disable method/n", ssGetPath(%<<span>tSimStructArg</span>>));
 <br>&nbsp;&nbsp;&nbsp;&nbsp;} else {
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sprintf(msg, "The model is attempting to invoke the disable mothod of ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the S-Function block for model '%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibGetModelName">LibGetModelName</a>()</span>>', yet the code ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generated for the model does not include the disable method/n");
 <br>&nbsp;&nbsp;&nbsp;&nbsp;}
 <br>&nbsp;&nbsp;&nbsp;&nbsp;ssSetErrorStatus(%<<span>tSimStructArg</span>>, msg);
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;(void) %<<span>tSimStructArg</span>>;
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_endif">%endif</span>
 <br>}
 <br>&nbsp; <br>#ifdef  MATLAB_MEX_FILE    /* Is this file being compiled as a MEX-file? */
 <br>#include "simulink.c"      /* MEX-file interface mechanism */
 <br>#include "fixedpoint.c"
 <br>#else
 <br>#include "cg_sfun.h"       /* Code generation registration function */
 <br>#endif
 <br>&nbsp; <br>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/mathlib.html#SetCurrentUtilsIncludesIdx">SetCurrentUtilsIncludesIdx</a>("")>
 <br>&nbsp; <br>&nbsp; <br><span class="tlc_closefile">%closefile</span> ModelSfu
 <br>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codetemplatelib.html#SLibAddGeneratedFileToList">SLibAddGeneratedFileToList</a>(sFunctionName + "." + LangFileExt, "interface", "source", "")>
 <br>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codetemplatelib.html#SLibAddGeneratedFileToList">SLibAddGeneratedFileToList</a>("rtwtypes_sf.h", "interface", "header", "")>
 <br><span class="tlc_endwith">%endwith</span> <span class="tlc_comment">%% ::CompiledModel</span>
 <br></body></html>