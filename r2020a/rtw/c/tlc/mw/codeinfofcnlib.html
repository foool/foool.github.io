<html>
<head>

<style>
p {
    color : black; font-family:courier; font-size: 80%;
}
body {
    line-height: 120%; font-family:courier; font-zize:60%;
}
.tlc_func {color : blue; font-weight: bold; font-size:120%;}
.tlc_comment {color : #9aa;}
.tlc_if {color: green;}.tlc_assign {color: green;}.tlc_each {color: green;}.tlc_foreach {color: green;}.tlc_endif {color: green;}.tlc_switch {color: green;}.tlc_case {color: green;}.tlc_return {color: green;}.tlc_elseif {color: green;}.tlc_else {color: green;}.tlc_assert {color: green;}.tlc_endwith {color: green;}.tlc_endforeach {color: green;}.tlc_generatefile {color: green;}.tlc_includepath {color: green;}.tlc_include {color: green;}.tlc_sprintf {color: green;}.tlc_while {color: green;}.tlc_endwhile {color: green;}.tlc_default {color: green;}.tlc_createrecord {color: green;}.tlc_mergerecord {color: green;}.tlc_language {color: green;}.tlc_roll {color: green;}.tlc_endroll {color: green;}.tlc_with {color: green;}.tlc_selectfile {color: green;}.tlc_openfile {color: green;}.tlc_closefile {color: green;}.tlc_def {color: green;}.tlc_undef {color: green;}.tlc_realformat {color: green;}.tlc_endswitch {color: green;}.tlc_addtorecord {color: green;}.tlc_break {color: green;}
.tlc_bifunc {color: brown;}
.tlc_fkw {color:blue; font-weight: 800;}
.tlc_output {color:#FFF; font-style:italic;}
.tlc_mchar {color:purple;}
</style>

</head>
<body>
<span class="tlc_comment">%%<span style="padding-left:9.5px"></span>============================================================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract:
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Library<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>functions<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>generating<span style="padding-left:9.5px"></span>codeInfo<span style="padding-left:9.5px"></span>object<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>its<span style="padding-left:9.5px"></span>components.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Copyright<span style="padding-left:9.5px"></span>1994-2019<span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>MathWorks,<span style="padding-left:9.5px"></span>Inc.
</span> <br><span class="tlc_comment">%%
</span> <br>&nbsp; <br><span class="tlc_if">%if</span> <span class="tlc_bifunc">EXISTS</span>("_CIINFOFCNLIB_") == 0
 <br><span class="tlc_assign">%assign</span> _CIINFOFCNLIB_ = 1
 <br>&nbsp; <br><span class="tlc_include">%include</span> "<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html">codeinfolib.tlc</a>"
 <br>&nbsp; <br><span class="tlc_selectfile">%selectfile</span> NULL_FILE
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function<span style="padding-left:9.5px"></span>SLibAutosarAddDirectReadWrite
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Generates<span style="padding-left:9.5px"></span>direct<span style="padding-left:9.5px"></span>read<span style="padding-left:9.5px"></span>write<span style="padding-left:9.5px"></span>information<span style="padding-left:9.5px"></span>from<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>runnable.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibAutosarWriteDirectReadWrite" class="tlc_func">SLibAutosarWriteDirectReadWrite</a>(runnable, <span class="tlc_fkw">output</span>FcnName) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;tmpDirectReads  = [];
 <br>&nbsp;&nbsp;tmpDirectWrites = [];
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(runnable, "IOFunction")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numReadWrites = <span class="tlc_bifunc">SIZE</span>(runnable.IOFunction)[1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> rwIdx = numReadWrites
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rwRec = runnable.IOFunction[rwIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_switch">%switch</span> (rwRec.Class)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ImplicitRead"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ExplicitRead"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "QueuedExplicitRead"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ImplicitReadErrorStatus"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ExplicitReadErrorStatus"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "QueuedExplicitReadErrorStatus"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ExplicitReadIsUpdated"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "BasicSoftwareRead"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ModeRead"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp_inp = %<<span>componentObj</span>>.Inports(%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetCIIdxFromEIIdx">FcnGetCIIdxFromEIIdx</a>(rwRec.ModelPortIndex)>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpDirectReads = [tmpDirectReads, temp_inp];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ImplicitWrite"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ImplicitWriteRef"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ExplicitWrite"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "BasicSoftwareWrite"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ModeWrite"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp_out = %<<span>componentObj</span>>.Outports(%<<span>rwRec.ModelPortIndex</span>>+1);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpDirectWrites = [tmpDirectWrites, temp_out];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ImplicitInterrunnableRead"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ExplicitInterrunnableRead"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> temp_ir = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalDataByVariableName">FcnGetInternalDataByVariableName</a>(rwRec.ExtraStr)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpDirectReads = [tmpDirectReads, %<<span>temp_ir</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ImplicitInterrunnableWrite"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ExplicitInterrunnableWrite"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> temp_ir = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalDataByVariableName">FcnGetInternalDataByVariableName</a>(rwRec.ExtraStr)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpDirectWrites = [tmpDirectWrites, %<<span>temp_ir</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_default">%default</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibReportFatalError">LibReportFatalError</a>("CodeInfo internal error: Writing Runnables")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endswitch">%endswitch</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = runnable.Symbol
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> calibParams = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibMapCalPrmToRunnables">SLibMapCalPrmToRunnables</a>(componentObj, fcnName)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dsmAccess =  <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibMapDSMToRunnables">SLibMapDSMToRunnables</a>(componentObj, fcnName)
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;tmpDirectReads = [tmpDirectReads, %<<span>calibParams</span>>, %<<span>dsmAccess</span>>];
 <br>&nbsp;&nbsp;tmpDirectWrites = [tmpDirectWrites, %<<span>dsmAccess</span>>];
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;%<<span>outputFcnName</span>>.DirectReads  = uniquifyDataAccess(tmpDirectReads);
 <br>&nbsp;&nbsp;%<<span>outputFcnName</span>>.DirectWrites = uniquifyDataAccess(tmpDirectWrites);
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function<span style="padding-left:9.5px"></span>SLibCreateModelFunctionInterface<span style="padding-left:9.5px"></span>=================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Create<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>RTW.FunctionInterface<span style="padding-left:9.5px"></span>object<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>given<span style="padding-left:9.5px"></span>"tid"<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>"fcntype"
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>process<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>creation<span style="padding-left:9.5px"></span>here<span style="padding-left:9.5px"></span>means<span style="padding-left:9.5px"></span>emitting<span style="padding-left:9.5px"></span>out<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>M-syntax<span style="padding-left:9.5px"></span>which<span style="padding-left:9.5px"></span>can<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>create<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>M-object<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>MATLAB.<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>M-syntax<span style="padding-left:9.5px"></span>is
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>fcnObj<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>RTW.FunctionInterface
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>M-syntax<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>setting<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>properties<span style="padding-left:9.5px"></span>is
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>fcnObj.Prototype<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>prototypeObj
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>fcnObj.Timing<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>timingObj
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>fcnObj.ActualArgs<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>[actArgsVector]
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>fcnObj.ActualReturn<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>actReturnObj
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Note,<span style="padding-left:9.5px"></span>all<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>properties<span style="padding-left:9.5px"></span>themselves<span style="padding-left:9.5px"></span>point<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>objects.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Some<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>these<span style="padding-left:9.5px"></span>objects<span style="padding-left:9.5px"></span>need<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>be<span style="padding-left:9.5px"></span>created<span style="padding-left:9.5px"></span>(if<span style="padding-left:9.5px"></span>required)<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>this<span style="padding-left:9.5px"></span>function.<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>For<span style="padding-left:9.5px"></span>e.g.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>timingObj<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>created<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>using<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>"tid"<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>argument
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>prototypeObj<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>created<span style="padding-left:9.5px"></span>using<span style="padding-left:9.5px"></span>"fcntype"<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>"tid"<span style="padding-left:9.5px"></span>arguments
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>actualArgsVector/actReturnObj<span style="padding-left:9.5px"></span>could<span style="padding-left:9.5px"></span>points<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>I/O<span style="padding-left:9.5px"></span>Data.<span style="padding-left:9.5px"></span>In<span style="padding-left:9.5px"></span>that<span style="padding-left:9.5px"></span>case,<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>objects<span style="padding-left:9.5px"></span>would<span style="padding-left:9.5px"></span>have<span style="padding-left:9.5px"></span>been<span style="padding-left:9.5px"></span>created<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>fcns<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfodatalib.html">codeinfodatalib.tlc</a>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>actualArgsVector/actReturnObj<span style="padding-left:9.5px"></span>could<span style="padding-left:9.5px"></span>point<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>internal<span style="padding-left:9.5px"></span>data<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>(BlockI/O,<span style="padding-left:9.5px"></span>DWork,<span style="padding-left:9.5px"></span>RTM).<span style="padding-left:9.5px"></span>These<span style="padding-left:9.5px"></span>objects<span style="padding-left:9.5px"></span>will<span style="padding-left:9.5px"></span>be<span style="padding-left:9.5px"></span>created<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>this<span style="padding-left:9.5px"></span>fcn
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibCreateModelFunctionInterface" class="tlc_func">SLibCreateModelFunctionInterface</a>(component, fcnType, tid) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Initialize vars</span>
 <br>tmpArgs         = [];
 <br>tmpActualArgs   = [];
 <br>tmpRet          = coder.types.Argument.empty;
 <br>tmpActualReturn = RTW.DataInterface.empty;
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% switch on function type</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> fcnType == "Registration"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = "func_" + "%<::CompiledModel.Name>"
 <br>&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibResetOrResetWithInitEventTID">SLibResetOrResetWithInitEventTID</a>(tid)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = "func_" + "%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertlib.html#SLibGenExporFunctionName">SLibGenExporFunctionName</a>(tid)>"
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = "func_" + "%<<span>fcnType</span>>%<<span>tid</span>>"
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_switch">%switch</span> fcnType
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "Registration"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "Initialize"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibGetNeedFirstTime">SLibGetNeedFirstTime</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% If first time is needed, add it to Arguments</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> typeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetCoderTypeObject">SLibGetCoderTypeObject</a>(8, 0, 0)        
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a coder.types.Argument object</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ftArg = "firstTimeArg"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>ftArg</span>> = coder.types.Argument;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>ftArg</span>>.Type = %<<span>typeObj</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>ftArg</span>>.Name = '%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibFirstTime">SLibFirstTime</a>()</span>>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a RTW.DataInterface object and add it to InternalData</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> firstTimeVar  = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWLiteralObject">SLibGetRTWLiteralObject</a>(typeObj, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> firstTimeData = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalConstant">FcnGetInternalConstant</a>(<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibFirstTime">SLibFirstTime</a>(), firstTimeVar)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>tmpArgs       = [tmpArgs, %<<span>ftArg</span>>];
 <br>tmpActualArgs = [tmpActualArgs, %<<span>firstTimeData</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "Output"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "OutputUpdate"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "Update"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "RootUpdate"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "UpdateContStates"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "Derivative"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmpBlockFcn = ::BlockFcn
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn = fcnType
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibNeedWrapperStepFcn">SLibNeedWrapperStepFcn</a>()==1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> System[NumSystems-1].CurrentTID = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> System[NumSystems-1].CurrentTID = tid
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertlib.html#SLibUseBackwardCompatibleReusableInterface">SLibUseBackwardCompatibleReusableInterface</a>() || !MultiInstanceERTCode) &amp;&amp; !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibResetOrResetWithInitEventTID">SLibResetOrResetWithInitEventTID</a>(tid)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% For reusable code with old call interface, the TID argument </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% is the first argument. </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% NOTE: For simplified call interface, the TID argument is the second</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% argument (after RTM argument). This gets generated below in </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% FcnAddReusableCodeArgs function.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibDumpTIDArgument">SLibDumpTIDArgument</a>(fcnType, tid, "tmpArgs","tmpActualArgs")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn = tmpBlockFcn
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "Terminate"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_default">%default</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> errTxt = "Unknown fcnType: %<<span>fcnName</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibReportFatalError">LibReportFatalError</a>(errTxt)>
 <br>&nbsp;&nbsp;<span class="tlc_endswitch">%endswitch</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> MultiInstanceERTCode &amp;&amp; !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibFcnProtoCtrlActive">SLibFcnProtoCtrlActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#FcnAddReusableCodeArgs">FcnAddReusableCodeArgs</a>(component,fcnType,tid,"tmpArgs","tmpActualArgs")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#FcnAddAllocationReturn">FcnAddAllocationReturn</a>(component,fcnType,"tmpRet","tmpActualReturn")>
 <br>&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibFcnProtoCtrlActive">SLibFcnProtoCtrlActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> MultiInstanceERTCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsSelfStructured">SLibIsSelfStructured</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtmObjVar = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#FcnAddModelDataArg">FcnAddModelDataArg</a>(fcnType, "tmpArgs", "tmpActualArgs")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (fcnType == "OutputUpdate") || (fcnType == "UpdateContStates")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#FcnAddFPCArgs">FcnAddFPCArgs</a>(component, fcnType,"tmpArgs","tmpActualArgs","tmpRet","tmpActualReturn" )>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#FcnAddAllocationReturn">FcnAddAllocationReturn</a>(component,fcnType,"tmpRet","tmpActualReturn")>
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% do nothing</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Create a function Prototype with the above arguments</span>
 <br>&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype = coder.types.Prototype;
 <br>&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Arguments  = tmpArgs;
 <br>&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Return     = tmpRet;
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ModelHeaderFile = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codetemplatelib.html#LibGetMdlPubHdrBaseName">LibGetMdlPubHdrBaseName</a>()
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ModelSourceFile = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codetemplatelib.html#LibGetMdlSrcBaseName">LibGetMdlSrcBaseName</a>()
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.HeaderFile = ['%<<span>ModelHeaderFile</span>>', '.h'];
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.SourceFile = ['%<<span>ModelSourceFile</span>>', '.%<::LangFileExt>'];
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Create a function interface with the above actual arguments</span>
 <br>&nbsp;&nbsp;%<<span>fcnName</span>>_Interface = RTW.FunctionInterface;
 <br>&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.Prototype    = %<<span>fcnName</span>>_Prototype;
 <br>&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.ActualArgs   = tmpActualArgs;
 <br>&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.ActualReturn = tmpActualReturn;
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span>(<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibResetOrResetWithInitEventTID">SLibResetOrResetWithInitEventTID</a>(tid) &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;GenerateClassInterface)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.Owner  = %<<span>componentObj</span>>.InternalData(1).Implementation;
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Add Name and Timing information</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tidSuffix = "%<System[NumSystems-1].CurrentTID>"
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> taskID    = (<span class="tlc_bifunc">TYPE</span>(tid) == "Number") ? tid : 0
 <br>&nbsp;&nbsp;<span class="tlc_switch">%switch</span> fcnType
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "Registration"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Name = '%<::CompiledModel.Name>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> timeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWTimingObject">SLibGetRTWTimingObject</a>("constant")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.Timing = %<<span>timeObj</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>component</span>>.AllocationFunction =  [%<<span>component</span>>.AllocationFunction, %<<span>fcnName</span>>_Interface'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "Initialize"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Name = '%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#GenerateModelInitFcnName">GenerateModelInitFcnName</a>()</span>>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> timeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWTimingObject">SLibGetRTWTimingObject</a>("constant")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.Timing = %<<span>timeObj</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_with">%with</span> ::CompiledModel.RTWAutosar.InitRunnables
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmpOutputFcnName = "%<<span>fcnName</span>>_Interface"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmpRunnable = Runnable[0]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibAutosarWriteDirectReadWrite">SLibAutosarWriteDirectReadWrite</a>(tmpRunnable, tmpOutputFcnName)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>component</span>>.InitializeFunctions =  [%<<span>component</span>>.InitializeFunctions, %<<span>fcnName</span>>_Interface'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "OutputUpdate"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibResetOrResetWithInitEventTID">SLibResetOrResetWithInitEventTID</a>(tid)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Name = '%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertlib.html#SLibGenExporFunctionName">SLibGenExporFunctionName</a>(tid)>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> (<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsExportFcnDiagram">SLibIsExportFcnDiagram</a>())
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tidSuffix = System[NumSystems-1].CurrentTID
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> exportFunctionName = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertlib.html#SLibGenExporFunctionName">SLibGenExporFunctionName</a>(tidSuffix)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">WHITE_SPACE</span>(exportFunctionName)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Name = '%<<span>exportFunctionName</span>>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add DirectReadWrite info</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> baseSystem = ::CompiledModel.System[<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#GetBaseSystemIdx">GetBaseSystemIdx</a>()]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> fcncallPortGroupIdx = ExternalPortGroups.NumFcnCallPortGroups
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> info = ExternalPortGroups.FcnCallPortGroup[fcncallPortGroupIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> portGroupTID = info.Tid
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (!<span class="tlc_bifunc">WHITE_SPACE</span>(tidSuffix) &amp;&amp; portGroupTID == tidSuffix)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnCallPortGroup = ExternalPortGroups.FcnCallPortGroup[fcncallPortGroupIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfomdlreflib.html#AddFunctionCallDirectReadWriteInfo">AddFunctionCallDirectReadWriteInfo</a>(baseSystem.Interface, fcnCallPortGroup, component, fcnName, "")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> i = <span class="tlc_bifunc">SIZE</span>(info.CallerNames,1)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> calledFcnName = info.CallerNames[i]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_addtorecord">%addtorecord</span> CodeInfoMap.ExportFunctionMap %<<span>calledFcnName</span>> { FunctionInterfaceName "%<<span>fcnName</span>>_Interface"}                
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Name = '%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelStepFcnName">SLibModelStepFcnName</a>(tidSuffix)>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> timeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWTimingObject">SLibGetRTWTimingObject</a>(taskID)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.Timing = %<<span>timeObj</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> emvceInfo = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibVariantEMVCEForTID">SLibVariantEMVCEForTID</a>(taskID) 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(emvceInfo[0])
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vInfoObj = RTW.VariantInfo;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vInfoObj.NetCGVCEPoundIf = '%<emvceInfo[0]>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vInfoObj.NetCGVCE = '%<emvceInfo[1]>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vInfoObj.EMVCE = '%<emvceInfo[2]>'; 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vInfoObj.NetSVCE = %<emvceInfo[3]>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.VariantInfo = vInfoObj;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> ( <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>() )
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dws = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibMapDSMToRunnables">SLibMapDSMToRunnables</a>(component,  <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelStepFcnName">SLibModelStepFcnName</a>(tidSuffix))
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> calibParams = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibMapCalPrmToRunnables">SLibMapCalPrmToRunnables</a>(component, <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelStepFcnName">SLibModelStepFcnName</a>(tidSuffix))
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_with">%with</span> ::CompiledModel.RTWAutosar.AutosarRunnables
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpDirectReads  = [];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpDirectWrites = [];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(Runnable[taskID], "IOFunction")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numReadWrites = <span class="tlc_bifunc">SIZE</span>(Runnable[taskID].IOFunction)[1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> rwIdx = numReadWrites
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rwRec = Runnable[taskID].IOFunction[rwIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_switch">%switch</span> (rwRec.Class)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ImplicitRead"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ExplicitRead"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "QueuedExplicitRead"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ImplicitReadErrorStatus"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ExplicitReadErrorStatus"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "QueuedExplicitReadErrorStatus"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ExplicitReadIsUpdated"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "BasicSoftwareRead"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ModeRead"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "EndToEndQueuedReceive"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp_inp = %<<span>componentObj</span>>.Inports(%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetCIIdxFromEIIdx">FcnGetCIIdxFromEIIdx</a>(rwRec.ModelPortIndex)>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpDirectReads = [tmpDirectReads, temp_inp];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ImplicitWrite"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ImplicitWriteRef"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ExplicitWrite"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "BasicSoftwareWrite"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ModeWrite"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "EndToEndQueuedSend"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp_out = %<<span>componentObj</span>>.Outports(%<<span>rwRec.ModelPortIndex</span>>+1);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpDirectWrites = [tmpDirectWrites, temp_out];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ImplicitInterrunnableRead"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ExplicitInterrunnableRead"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> temp_ir = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalDataByVariableName">FcnGetInternalDataByVariableName</a>(rwRec.ExtraStr)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpDirectReads = [tmpDirectReads, %<<span>temp_ir</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ImplicitInterrunnableWrite"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "ExplicitInterrunnableWrite"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> temp_ir = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalDataByVariableName">FcnGetInternalDataByVariableName</a>(rwRec.ExtraStr)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpDirectWrites = [tmpDirectWrites, %<<span>temp_ir</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_default">%default</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibReportFatalError">LibReportFatalError</a>("CodeInfo internal error: Writing Runnables")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endswitch">%endswitch</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>     
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpDirectReads  = [tmpDirectReads, %<<span>calibParams</span>>, %<<span>dws</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpDirectWrites = [tmpDirectWrites, %<<span>dws</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.DirectReads  = tmpDirectReads;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.DirectWrites = tmpDirectWrites;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>component</span>>.OutputFunctions =  [%<<span>component</span>>.OutputFunctions, %<<span>fcnName</span>>_Interface'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "Output"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> timeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWTimingObject">SLibGetRTWTimingObject</a>(taskID)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.Timing = %<<span>timeObj</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> CGMODEL_ACCESS("CGModel.isModelEntryFunctionPresent","Output")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> CGMODEL_ACCESS("CGModel.isIndividualFunctionMappingEnabled")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Name = ['%<CGMODEL_ACCESS("CGModel.getModelEntryFunctionName","Output", "%<<span>tidSuffix</span>>")>'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Append TID to base name (Needed for Bosch feature flag)</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Name = ['%<CGMODEL_ACCESS("CGModel.getModelEntryFunctionName","Output", "%<<span>tidSuffix</span>>")>', '%<<span>tidSuffix</span>>'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Name = [%<<span>component</span>>.Name, '_output', '%<<span>tidSuffix</span>>'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>component</span>>.OutputFunctions =  [%<<span>component</span>>.OutputFunctions, %<<span>fcnName</span>>_Interface'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "Update"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "RootUpdate"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> timeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWTimingObject">SLibGetRTWTimingObject</a>(taskID)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.Timing = %<<span>timeObj</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> CGMODEL_ACCESS("CGModel.isModelEntryFunctionPresent","Update")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> CGMODEL_ACCESS("CGModel.isIndividualFunctionMappingEnabled")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Name = ['%<CGMODEL_ACCESS("CGModel.getModelEntryFunctionName","Update", "%<<span>tidSuffix</span>>")>'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Append TID to base name (Needed for Bosch feature flag)</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Name = ['%<CGMODEL_ACCESS("CGModel.getModelEntryFunctionName","Update", "%<<span>tidSuffix</span>>")>', '%<<span>tidSuffix</span>>'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Name = [%<<span>component</span>>.Name, '_update', '%<<span>tidSuffix</span>>'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>component</span>>.UpdateFunctions =  [%<<span>component</span>>.UpdateFunctions, %<<span>fcnName</span>>_Interface'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "UpdateContStates"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> timeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWTimingObject">SLibGetRTWTimingObject</a>(taskID)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.Timing = %<<span>timeObj</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> CombineOutputUpdateFcns
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Name = '%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibModelStepFcnName">SLibModelStepFcnName</a>(tidSuffix)>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>component</span>>.OutputFunctions =  [%<<span>component</span>>.OutputFunctions, %<<span>fcnName</span>>_Interface'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> CGMODEL_ACCESS("CGModel.isModelEntryFunctionPresent","Update")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> CGMODEL_ACCESS("CGModel.isIndividualFunctionMappingEnabled")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Name = ['%<CGMODEL_ACCESS("CGModel.getModelEntryFunctionName","Update", "%<<span>tidSuffix</span>>")>'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Append TID to base name (Needed for Bosch feature flag)</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Name = ['%<CGMODEL_ACCESS("CGModel.getModelEntryFunctionName","Update", "%<<span>tidSuffix</span>>")>', '%<<span>tidSuffix</span>>'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Name = [%<<span>component</span>>.Name, '_update', '%<<span>tidSuffix</span>>'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>component</span>>.UpdateFunctions =  [%<<span>component</span>>.UpdateFunctions, %<<span>fcnName</span>>_Interface'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "Derivative"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> timeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWTimingObject">SLibGetRTWTimingObject</a>(taskID)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.Timing = %<<span>timeObj</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Name = [%<<span>component</span>>.Name, '_derivatives', '%<<span>tidSuffix</span>>'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>component</span>>.DerivativeFunction =  [%<<span>fcnName</span>>_Interface'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "Terminate"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> timeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWTimingObject">SLibGetRTWTimingObject</a>("constant")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.Timing = %<<span>timeObj</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_with">%with</span> ::CompiledModel.RTWAutosar
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span>(<span class="tlc_bifunc">ISFIELD</span>(TerminateRunnables, "Runnable"))
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> terminateRunnable = TerminateRunnables.Runnable
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span>(<span class="tlc_bifunc">SIZE</span>(terminateRunnable, 1) == 1)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Name = '%<<span>terminateRunnable.Symbol</span>>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmpTermFcnName = "%<<span>fcnName</span>>_Interface"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibAutosarWriteDirectReadWrite">SLibAutosarWriteDirectReadWrite</a>(terminateRunnable, tmpTermFcnName)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> CGMODEL_ACCESS("CGModel.isModelEntryFunctionPresent","Terminate")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Name = ['%<CGMODEL_ACCESS("CGModel.getModelEntryFunctionName","Terminate", "")>'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Name = [%<<span>component</span>>.Name, '_terminate'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>component</span>>.TerminateFunctions =  [%<<span>component</span>>.TerminateFunctions, %<<span>fcnName</span>>_Interface'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_default">%default</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> errTxt = "CodeInfo Error: Unknown fcnType: %<<span>fcnType</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibReportFatalError">LibReportFatalError</a>(errTxt)>
 <br>&nbsp;&nbsp;<span class="tlc_endswitch">%endswitch</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function<span style="padding-left:9.5px"></span>SLibDumpTIDArgument<span style="padding-left:9.5px"></span>=======================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Generate<span style="padding-left:9.5px"></span>formal<span style="padding-left:9.5px"></span>parameter<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>actual<span style="padding-left:9.5px"></span>argument<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>TID.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>CodeInfo<span style="padding-left:9.5px"></span>will<span style="padding-left:9.5px"></span>get<span style="padding-left:9.5px"></span>updated<span style="padding-left:9.5px"></span>with<span style="padding-left:9.5px"></span>this<span style="padding-left:9.5px"></span>information.<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibDumpTIDArgument" class="tlc_func">SLibDumpTIDArgument</a>(fcnType, tid, tmpArgs, tmpActArgs) <span class="tlc_fkw">Output</span>
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> (fcnType!="Output" &amp;&amp; fcnType!="OutputUpdate" &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;fcnType!="Update" &amp;&amp; fcnType!="RootUpdate" &amp;&amp; fcnType!="UpdateContStates")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>  
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemFcnNeedsTID">LibSystemFcnNeedsTID</a>(System[NumSystems-1], fcnType)  
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% If TID is needed, add it to Arguments</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> typeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetIntegerTypeObj">FcnGetIntegerTypeObj</a>(0, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> timeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWTimingObject">SLibGetRTWTimingObject</a>(0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tidName = ::CompiledModel.GlobalScope.tTID
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a coder.types.Argument object</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tidArg = "TIDArg"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tidArg</span>> = coder.types.Argument;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tidArg</span>>.Type = %<<span>typeObj</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tidArg</span>>.Name = '%<<span>tidName</span>>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a RTW.DataInterface object and add it to InternalData</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (<span class="tlc_bifunc">TYPE</span>(tid) == "Number")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tidVar = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWLiteralObject">SLibGetRTWLiteralObject</a>(typeObj, tid)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tidKey = "TID%<<span>tid</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tidVar = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWLiteralObject">SLibGetRTWLiteralObject</a>(typeObj, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tidKey = "TID"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tidDataObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalConstant">FcnGetInternalConstant</a>(tidKey, tidVar)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpArgs</span>> = [%<<span>tmpArgs</span>>, %<<span>tidArg</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpActArgs</span>> = [%<<span>tmpActArgs</span>>, %<<span>tidDataObj</span>>];    
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="SLibHasAnyAsyncRate" class="tlc_func">SLibHasAnyAsyncRate</a>(NumSampleTimes)
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Only create runnable if there are true Asynchronous rates,</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% and not just I, R or T rates</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% This is because NumAsynchronousSampleTimes includes Model Wide</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Events.</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> anyAsyncRates = TLC_FALSE
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> maxSampleTime = NumSampleTimes
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> tid = maxSampleTime
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tidIdx = tid
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibSynchronousTID">SLibSynchronousTID</a>(tidIdx) &amp;&amp; !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibModelWideEventTID">SLibModelWideEventTID</a>(tidIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Rate is Asynchronus and Not I, R or T</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> TLC_TRUE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> TLC_FALSE
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function<span style="padding-left:9.5px"></span>SLibCreateRunnables<span style="padding-left:9.5px"></span>=======================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Loop<span style="padding-left:9.5px"></span>through<span style="padding-left:9.5px"></span>autosar<span style="padding-left:9.5px"></span>records<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>identify<span style="padding-left:9.5px"></span>runnables<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>identify.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Create<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>record<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>each<span style="padding-left:9.5px"></span>runnable.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibCreateRunnables" class="tlc_func">SLibCreateRunnables</a>(component) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibHasAnyAsyncRate">SLibHasAnyAsyncRate</a>(NumSampleTimes) || <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsExportFcnDiagram">SLibIsExportFcnDiagram</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Populate Inports Map for data inports</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#FcnCreateExportedInports">FcnCreateExportedInports</a>("expInports")>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_with">%with</span> ::CompiledModel.RTWAutosar.AutosarRunnables
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numRunnables = <span class="tlc_bifunc">SIZE</span>(Runnable)[1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_createrecord">%createrecord</span> RunExpIDMap { }
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%createrecord RunnableOptimizedMap { }</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> maxRootInportIdx = 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> runIdx = numRunnables
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> mapKey = "runIdx_" + <span class="tlc_bifunc">STRING</span>(%<<span>runIdx</span>>)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> Runnable[runIdx].IsService == "yes"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_continue">%continue</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> portIdx = Runnable[runIdx].RootInportIdx
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> portIdx == -1 &amp;&amp; <span class="tlc_bifunc">ISEQUAL</span>(Runnable[runIdx].IsReset, "no")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_continue">%continue</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Use symbol to generate the name of the function in AUTOSAR</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = Runnable[runIdx].Symbol
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnNameMVar  = "Runnable%<<span>runIdx</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnNameMVar</span>>_Prototype = coder.types.Prototype;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnNameMVar</span>>_Prototype.Name = '%<<span>fcnName</span>>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ModelHeaderFile = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codetemplatelib.html#LibGetMdlPubHdrBaseName">LibGetMdlPubHdrBaseName</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ModelSourceFile = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codetemplatelib.html#LibGetMdlSrcBaseName">LibGetMdlSrcBaseName</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnNameMVar</span>>_Prototype.HeaderFile = ['%<<span>ModelHeaderFile</span>>', '.h'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnNameMVar</span>>_Prototype.SourceFile = ['%<<span>ModelSourceFile</span>>', '.%<::LangFileExt>'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a function interface with the above actual arguments</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnNameMVar</span>>_Interface = RTW.FunctionInterface;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnNameMVar</span>>_Interface.Prototype    = %<<span>fcnNameMVar</span>>_Prototype;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Write direct read and direct writes </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmpOutputFcnName = "%<<span>fcnNameMVar</span>>_Interface"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmpRunnable = Runnable[runIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibAutosarWriteDirectReadWrite">SLibAutosarWriteDirectReadWrite</a>(tmpRunnable, tmpOutputFcnName)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (Runnable[runIdx].TID >= 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> timeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWTimingObject">SLibGetRTWTimingObject</a>(Runnable[runIdx].TID)        
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> %<Runnable[runIdx].SampleTime> == rtInf
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>timeObj</span>>.SamplePeriod = Inf;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>         
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> timeObj = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWTimingObjectFromPeriod">SLibGetRTWTimingObjectFromPeriod</a>(Runnable[runIdx].SampleTime)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnNameMVar</span>>_Interface.Timing = %<<span>timeObj</span>>;
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Write VariantInfo</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(Runnable[runIdx].NetCGVCE)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnNameMVar</span>>_vInfoObj = RTW.VariantInfo;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnNameMVar</span>>_vInfoObj.NetCGVCE = '%<Runnable[runIdx].NetCGVCE>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnNameMVar</span>>_vInfoObj.NetCGVCEPoundIf = '%<Runnable[runIdx].NetCGVCEPoundIf>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnNameMVar</span>>_vInfoObj.NetSVCE = %<Runnable[runIdx].NetSVCE>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnNameMVar</span>>_vInfoObj.EMVCE = '%<Runnable[runIdx].EMVCE>'; 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnNameMVar</span>>_Interface.VariantInfo = %<<span>fcnNameMVar</span>>_vInfoObj;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>    
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>component</span>>.OutputFunctions =  [%<<span>component</span>>.OutputFunctions, %<<span>fcnNameMVar</span>>_Interface'];        
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> portIdx != -1 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fcnIdx = length(%<<span>component</span>>.OutputFunctions);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfomdlreflib.html#WriteCurrentExternalInport">WriteCurrentExternalInport</a>(portIdx, "fcn_call", "fcnIdx", "", "")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpArgs         = [];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpActArgs   = [];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#FcnAddRTEInstanceToAUTOSARRunnable">FcnAddRTEInstanceToAUTOSARRunnable</a>(fcnName, "tmpArgs", "tmpActArgs")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnNameMVar</span>>_Prototype.Arguments = tmpArgs;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnNameMVar</span>>_Interface.ActualArgs = tmpActArgs;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function<span style="padding-left:9.5px"></span>SLibCreateExportFunctions<span style="padding-left:9.5px"></span>=======================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Loop<span style="padding-left:9.5px"></span>through<span style="padding-left:9.5px"></span>systems<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>identify<span style="padding-left:9.5px"></span>export<span style="padding-left:9.5px"></span>functions.<span style="padding-left:9.5px"></span>Create<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>record<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>each<span style="padding-left:9.5px"></span>export<span style="padding-left:9.5px"></span>function.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="SLibCreateExportFunctions" class="tlc_func">SLibCreateExportFunctions</a>(component) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%% Populate Inports Map for data inports</span>
 <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#FcnCreateExportedInports">FcnCreateExportedInports</a>("expInports")>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%% Populate Inports Map for Fcn-Call ports</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rootSystem = ::CompiledModel.System[NumSystems-1]
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> chIdx = rootSystem.NumChildSystems
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> systemId = rootSystem.ChildSystems[chIdx][0]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> system = System[systemId]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (system.Type == "function-call" &amp;&amp; system.Exported == "yes")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemFcnIsEmpty">LibSystemFcnIsEmpty</a>(system,"OutputUpdate")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span>(<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#FcnDeclareCPIIfNeeded">FcnDeclareCPIIfNeeded</a>(system, "OutputUpdate") == TLC_FALSE)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#FcnCreateExportFcnInterface">FcnCreateExportFcnInterface</a>(component,"OutputUpdate", systemId)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Populate Inports Map for Fcn-Call ports whose exported fucntions are optimized away</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> portIdx = system.ExportedId
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfomdlreflib.html#WriteCurrentExternalInport">WriteCurrentExternalInport</a>(portIdx, "fcn_call", -1, "", "")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function<span style="padding-left:9.5px"></span>FcnCreateExportedInports<span style="padding-left:9.5px"></span>=======================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>For<span style="padding-left:9.5px"></span>each<span style="padding-left:9.5px"></span>external<span style="padding-left:9.5px"></span>input<span style="padding-left:9.5px"></span>(corresponding<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>data<span style="padding-left:9.5px"></span>inport),<span style="padding-left:9.5px"></span>find<span style="padding-left:9.5px"></span>its<span style="padding-left:9.5px"></span>port
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>number<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>whether<span style="padding-left:9.5px"></span>it<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>latched<span style="padding-left:9.5px"></span>or<span style="padding-left:9.5px"></span>not.<span style="padding-left:9.5px"></span>Populate<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>structure<span style="padding-left:9.5px"></span>array
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>with<span style="padding-left:9.5px"></span>this<span style="padding-left:9.5px"></span>information.
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="FcnCreateExportedInports" class="tlc_func">FcnCreateExportedInports</a>(expInportsObj) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> comment = "% Initialize Inports Vector for Export Functions"
 <br>&nbsp;&nbsp;%<<span>comment</span>>
 <br>&nbsp;&nbsp;%<<span>expInportsObj</span>> = [];
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> comment = "% Populate Inports Map for data inports"
 <br>&nbsp;&nbsp;%<<span>comment</span>> 
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_with">%with</span> ::CompiledModel.ExternalInputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extDataIdx  = 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnCallCounter = 0
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()    
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isTopMdl = <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsExportFcnDiagram">SLibIsExportFcnDiagram</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = NumExternalInputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> portIdx = idx + 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> inport = ExternalInput[idx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> isTopMdl 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (ExternalInput[idx].FunctionCallInitiator == "no")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extDataIdx  = extDataIdx + 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> portType = "input"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> counter = extDataIdx
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnCallCounter = fcnCallCounter + 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> portType = "fcn_call"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% For the top model build, function calls are sorted using port indexes. Therefore, it </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% is OK to assign fcnCallCounter's value to the Index field.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> counter = fcnCallCounter
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfomdlreflib.html#WriteCurrentExternalInport">WriteCurrentExternalInport</a>(portIdx, portType, counter, "", "")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extDataIdx  = extDataIdx + 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> portIdx = ExternalInput[idx].ExportedId
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfomdlreflib.html#WriteCurrentExternalInport">WriteCurrentExternalInport</a>(portIdx, "input", extDataIdx, "", "")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>expInportsObj</span>>(%<<span>portIdx</span>>).IsLatched = true; <span class="tlc_comment">%% Assume      </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rootSystem = System[NumSystems-1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> id = rootSystem.NumChildSystems
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sysId = rootSystem.ChildSystems[id][0]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> system = System[sysId]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> system.Type == "function-call" &amp;&amp; system.Exported == "yes" &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_bifunc">ISFIELD</span>(system, "NonLatchedInputs")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% If external input is a non-latched input, set IsLatched to be false</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if any(%<<span>idx</span>> == %<<span>system.NonLatchedInputs</span>>)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>expInportsObj</span>>(%<<span>portIdx</span>>).IsLatched = false;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>   
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = NumExternalInputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> portIdx = idx + 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> inport = ExternalInput[idx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (ExternalInput[idx].FunctionCallInitiator == "no")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> extDataIdx  = extDataIdx + 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> portType = "input"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> counter = extDataIdx
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnCallCounter = fcnCallCounter + 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> portType = "fcn_call"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% For the top model build, function calls are sorted using port indexes. Therefore, it </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% is OK to assign fcnCallCounter's value to the Index field.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> counter = fcnCallCounter
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfomdlreflib.html#WriteCurrentExternalInport">WriteCurrentExternalInport</a>(portIdx, portType, counter, "", "")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%      </span>
 <br>&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>
 <br>&nbsp; <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>=====================================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>LOCAL<span style="padding-left:9.5px"></span>HELPER<span style="padding-left:9.5px"></span>FUNCTIONS<span style="padding-left:9.5px"></span>BELOW<span style="padding-left:9.5px"></span>THIS<span style="padding-left:9.5px"></span>LINE
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>=====================================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_fkw">%function</span> <a id="FcnAddRTEInstanceToAUTOSARRunnable" class="tlc_func">FcnAddRTEInstanceToAUTOSARRunnable</a>(fcnName, tmpArgs, tmpActArgs) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>() &amp;&amp; MultiInstanceERTCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Add Rte_Instance as argument to AUTOSAR runnables</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rteTypeName = "Rte_Instance"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rteName = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/autosarsup.html#FcnGetInstanceHandleName">FcnGetInstanceHandleName</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rteType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetOpaqueTypeObj">FcnGetOpaqueTypeObj</a>(rteTypeName, 0, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rteVarObj  = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWVariableObject">SLibGetRTWVariableObject</a>(rteTypeName, rteType, rteName, "", "", "")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rteDataObj = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalDataObject">FcnGetInternalDataObject</a>(rteTypeName, "", "", rteVarObj, []) 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a coder.types.Argument object </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rteArg = "%<<span>fcnName</span>>_RTEArg"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rteArg</span>> = coder.types.Argument;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rteArg</span>>.Type   = %<<span>rteType</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rteArg</span>>.Name   = '%<<span>rteName</span>>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rteArg</span>>.IOType = 'INPUT';    
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpArgs</span>>    = [%<<span>tmpArgs</span>>, %<<span>rteArg</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpActArgs</span>> = [%<<span>tmpActArgs</span>>, %<<span>rteDataObj</span>>]; 
 <br>&nbsp;<span class="tlc_endif">%endif</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="FcnAddModelDataArg" class="tlc_func">FcnAddModelDataArg</a>(fcnType, tmpArgs, tmpActArgs) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtMType    = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalTypeObj">FcnGetInternalTypeObj</a>("RTModel", ::tSimStructType, "")
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtMPtrType = 0
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> UsingMalloc &amp;&amp; fcnType == "Terminate"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtMPtrType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetPointerTypeObj">FcnGetPointerTypeObj</a>(rtMType, 0, 0)
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtMPtrType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetPointerTypeObj">FcnGetPointerTypeObj</a>(rtMType, 1, 0)
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtMType</span>>.Name = '%<::CompiledModel.GlobalScope.tSimStructTypeTag>';
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Create a RTW.DataInterface object and add it to InternalData</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtmTgtVarObj  = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWVariableObject">SLibGetRTWVariableObject</a>("RTModel", rtMType,"%<::tSimStruct>_", "", "", "")
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtmVarObj  = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWPointerVariableObject">SLibGetRTWPointerVariableObject</a>("RTModel", rtMPtrType,"%<::tSimStruct>", rtmTgtVarObj)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtmDataObj = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalDataObject">FcnGetInternalDataObject</a>("RTModel", "", "RTModel", rtmVarObj, [])
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Allocation function never takes RTM as an input argument</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !(::SeparateRegistrationFcn &amp;&amp; fcnType == "Registration")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% AUTOSAR runnables only take Rte_Instance as argument</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a coder.types.Argument object </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtMArg = "%<<span>fcnName</span>>_RTArg"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtMArg</span>> = coder.types.Argument;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtMArg</span>>.Type   = %<<span>rtMPtrType</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtMArg</span>>.Name   = '%<::tSimStruct>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtMArg</span>>.IOType = 'INPUT_OUTPUT';    
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpArgs</span>>    = [%<<span>tmpArgs</span>>, %<<span>rtMArg</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpActArgs</span>> = [%<<span>tmpActArgs</span>>, %<<span>rtmDataObj</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> rtmVarObj
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="FcnAddReusableCodeArgs" class="tlc_func">FcnAddReusableCodeArgs</a>(component, fcnType, tid, ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpArgs, tmpActArgs) Output
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Change ::BlockFcn global variable</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> ::CompiledModel.SLCI == "on"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ModelData = "ModelData."
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ModelData = ""
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = "%<<span>fcnType</span>>%<<span>tid</span>>"
 <br>&nbsp;&nbsp;<span class="tlc_switch">%switch</span> fcnType
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "Registration"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn = "Registration"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span> 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "Initialize"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn = "Registration"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "Output"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn = "Output"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "OutputUpdate"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn = "OutputUpdate"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "RootUpdate"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn = "RootUpdate"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "Update"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn = "Update"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "UpdateContStates"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn = "UpdateContStates"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "Derivative"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn = "Derivative"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "Terminate"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn = "Terminate"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;<span class="tlc_endswitch">%endswitch</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Get root system record</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rootSystem  = System[NumSystems-1]
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Get the ReqRootPrmHdrData Instance</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> reqInsts = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sysbodlib.html#LibGetSystemField">LibGetSystemField</a>(rootSystem, "ReqRootPrmHdrDataInsts")
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% </span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Figure out RateGrouping</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isRateGrp = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/sysbodlib.html#SLibSystemFcnPeriodicRateGrouping">SLibSystemFcnPeriodicRateGrouping</a>(rootSystem, fcnType)
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% CurrentTID</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> currentTID = rootSystem.CurrentTID
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Figure out other Arguments</span>
 <br>&nbsp;&nbsp;<span class="tlc_with">%with</span> rootSystem.Interface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> (((<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertlib.html#SLibUseBackwardCompatibleReusableInterface">SLibUseBackwardCompatibleReusableInterface</a>() || GenerateClassInterface) ... 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; !reqInsts.SimStructInst &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/sysarglib.html#FcnArgNeeded">FcnArgNeeded</a>(RTMArgDef, currentTID, isRateGrp)) || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;(!<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertlib.html#SLibUseBackwardCompatibleReusableInterface">SLibUseBackwardCompatibleReusableInterface</a>() &amp;&amp; MultiInstanceERTCode)) &amp;&amp;...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;!(GenerateClassInterface &amp;&amp; <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibResetOrResetWithInitEventTID">SLibResetOrResetWithInitEventTID</a>(tid)) 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% If RTM is needed, add it to argument</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtmVarObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#FcnAddModelDataArg">FcnAddModelDataArg</a>(fcnType, tmpArgs, tmpActArgs)
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (!<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertlib.html#SLibUseBackwardCompatibleReusableInterface">SLibUseBackwardCompatibleReusableInterface</a>() &amp;&amp; MultiInstanceERTCode ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; !GenerateSampleERTMain)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% For reusable code with simplified call interface, the TID argument </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% is the second argument (after RTM argument)</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#SLibDumpTIDArgument">SLibDumpTIDArgument</a>(fcnType, tid, tmpArgs, tmpActArgs)>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>    
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !reqInsts.ParamsInst &amp;&amp; <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/sysarglib.html#FcnArgNeeded">FcnArgNeeded</a>(ParameterArgDef, currentTID, isRateGrp) &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Get InternalData from codeIRInfo.mat</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> parDataObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalDataByName">FcnGetInternalDataByName</a>("Parameter")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% This is temp solution to handle parameter. Since CGIR write out </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% SLibGetParamStructPtr as parameter identifier. CodeInfo can't treat</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% this TLC function call as a var name. The following code overwrite </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% it by the name of parameter struction (not struct pointer) so that </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% codeInfo can handle it. Ideally, CGIR should be able to write out</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% this information correctly. </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;if ~isa(%<<span>parDataObj</span>>.Implementation,'RTW.PointerExpression') 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>parDataObj</span>>.Implementation.Identifier = '%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetParametersStruct">LibGetParametersStruct</a>()</span>>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;end
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% If RTP is needed, add it to argument</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtPType    = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetDataInterfaceType">FcnGetDataInterfaceType</a>(parDataObj)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtPPtrType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetPointerTypeObj">FcnGetPointerTypeObj</a>(rtPType, 0, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertlib.html#SLibUseBackwardCompatibleReusableInterface">SLibUseBackwardCompatibleReusableInterface</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% AUTOSAR runnables only take Rte_Instance as argument</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a coder.types.Argument object  </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtPArg =  "%<<span>fcnName</span>>_ParArg"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtPArg</span>> = coder.types.Argument;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtPArg</span>>.Type = %<<span>rtPPtrType</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtPArg</span>>.Name = '%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetParametersStruct">LibGetParametersStruct</a>()</span>>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpArgs</span>>    = [%<<span>tmpArgs</span>>, %<<span>rtPArg</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpActArgs</span>> = [%<<span>tmpActArgs</span>>,; %<<span>parDataObj</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ~isa(%<<span>parDataObj</span>>.Implementation,'RTW.PointerExpression') 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create RTW.PointerExpression corresponding to defaultParam</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span> <span class="tlc_bifunc">EXISTS</span>(rtmVarObj)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> paramPtrExpr = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnCreateRTMMemberObject">FcnCreateRTMMemberObject</a>("rt_Parameter", ModelData + "defaultParam", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rtPPtrType, rtmVarObj, "%<<span>parDataObj</span>>.Implementation")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>parDataObj</span>>.Implementation = %<<span>paramPtrExpr</span>>;      
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !reqInsts.BlockIOInst &amp;&amp; <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/sysarglib.html#FcnArgNeeded">FcnArgNeeded</a>(BlockIOArgDef,currentTID,isRateGrp) &amp;&amp; !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsSelfStructured">SLibIsSelfStructured</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% If RTBlockIO is needed, add it to argument</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtBIOType    = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalTypeObj">FcnGetInternalTypeObj</a>("BlockIO", ::tBlockIOType, "")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtBIOType</span>>.Name = '%<::CompiledModel.GlobalScope.tBlockIOTypeTag>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtBIOPtrType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetPointerTypeObj">FcnGetPointerTypeObj</a>(rtBIOType, 0, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a RTW.DataInterface object and add it to InternalData</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> bioVar     = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWVariableObject">SLibGetRTWVariableObject</a>("rt_BlockIO", rtBIOType, ::tBlockIO, "","","")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertlib.html#SLibUseBackwardCompatibleReusableInterface">SLibUseBackwardCompatibleReusableInterface</a>() || GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> bioDataObj =  ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalDataObject">FcnGetInternalDataObject</a>("rt_BlockIO", "", "Block signals", bioVar, [])
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% AUTOSAR runnables only take Rte_Instance as argument</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a coder.types.Argument object  </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtBArg = "%<<span>fcnName</span>>_BIOArg"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtBArg</span>> = coder.types.Argument;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtBArg</span>>.Type   = %<<span>rtBIOPtrType</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtBArg</span>>.Name   = '%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetBlockIOStruct">LibGetBlockIOStruct</a>()</span>>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtBArg</span>>.IOType = 'INPUT_OUTPUT';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpArgs</span>> = [%<<span>tmpArgs</span>>, %<<span>rtBArg</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpActArgs</span>> = [%<<span>tmpActArgs</span>>, %<<span>bioDataObj</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create RTW.PointerExpression corresponding to blockIO</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span> <span class="tlc_bifunc">EXISTS</span>(rtmVarObj)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> blockIOPtrExpr = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnCreateRTMMemberObject">FcnCreateRTMMemberObject</a>("rt_BlockIO", ModelData + "blockIO", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rtBIOPtrType, rtmVarObj, bioVar)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> bioDataObj =  ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalDataObject">FcnGetInternalDataObject</a>("rt_BlockIO", "", "Block signals", blockIOPtrExpr, [])      
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !reqInsts.DworkInst &amp;&amp; <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/sysarglib.html#FcnArgNeeded">FcnArgNeeded</a>(DWorkArgDef, currentTID, isRateGrp) &amp;&amp; !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsSelfStructured">SLibIsSelfStructured</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% If RTDWork is needed, add it to argument</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtDWType    = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalTypeObj">FcnGetInternalTypeObj</a>("DWork", ::tDWorkType, "")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtDWType</span>>.Name = '%<::CompiledModel.GlobalScope.tDWorkTypeTag>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtDWPtrType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetPointerTypeObj">FcnGetPointerTypeObj</a>(rtDWType, 0, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a RTW.DataInterface object and add it to InternalData</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dwVar     = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWVariableObject">SLibGetRTWVariableObject</a>("rt_DWork", rtDWType, ::tDWork, "","","")
 <br>&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertlib.html#SLibUseBackwardCompatibleReusableInterface">SLibUseBackwardCompatibleReusableInterface</a>() || GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dwDataObj = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalDataObject">FcnGetInternalDataObject</a>("rt_DWork", "", "Block states", dwVar, [])
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% AUTOSAR runnables only take Rte_Instance as argument</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a coder.types.Argument object</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtDWArg = "%<<span>fcnName</span>>_DWArg"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtDWArg</span>> = coder.types.Argument;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtDWArg</span>>.Type   = %<<span>rtDWPtrType</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtDWArg</span>>.Name   = '%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetDWorkStruct">LibGetDWorkStruct</a>()</span>>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtDWArg</span>>.IOType = 'INPUT_OUTPUT';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpArgs</span>>    = [%<<span>tmpArgs</span>>, %<<span>rtDWArg</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpActArgs</span>> = [%<<span>tmpActArgs</span>>, %<<span>dwDataObj</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create RTW.PointerExpression corresponding to dwork</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span> <span class="tlc_bifunc">EXISTS</span>(rtmVarObj)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dworkPtrExpr = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnCreateRTMMemberObject">FcnCreateRTMMemberObject</a>("rt_DWork", ModelData + "dwork", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rtDWPtrType, rtmVarObj, dwVar)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dwDataObj =  ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalDataObject">FcnGetInternalDataObject</a>("rt_DWork", "", "Block states", dworkPtrExpr, []) 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !reqInsts.ContStatesInst &amp;&amp; <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/sysarglib.html#FcnArgNeeded">FcnArgNeeded</a>(ContStatesArgDef,currentTID,isRateGrp) 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% If Continuous state is needed, add it to argument</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtCSType    = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalTypeObj">FcnGetInternalTypeObj</a>("CState", ::tContStateType, "")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtCSPtrType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetPointerTypeObj">FcnGetPointerTypeObj</a>(rtCSType, 0, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a RTW.DataInterface object and add it to InternalData</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> csVar = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWVariableObject">SLibGetRTWVariableObject</a>("rt_CState", rtCSType, ::tContState, "", "", "")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertlib.html#SLibUseBackwardCompatibleReusableInterface">SLibUseBackwardCompatibleReusableInterface</a>() || GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> csDataObj = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalDataObject">FcnGetInternalDataObject</a>("rt_CState", "", "Continuous states", csVar, [])
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% AUTOSAR runnables only take Rte_Instance as argument</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a coder.types.Argument object</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtCSArg = "%<<span>fcnName</span>>_CSArg"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtCSArg</span>> = coder.types.Argument;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtCSArg</span>>.Type   = %<<span>rtCSPtrType</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtCSArg</span>>.Name   = '%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetContinuousStateStruct">LibGetContinuousStateStruct</a>()</span>>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtCSArg</span>>.IOType = 'INPUT_OUTPUT';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpArgs</span>>    = [%<<span>tmpArgs</span>>, %<<span>rtCSArg</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpActArgs</span>> = [%<<span>tmpActArgs</span>>, %<<span>csDataObj</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create RTW.PointerExpression corresponding to contStates</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span> <span class="tlc_bifunc">EXISTS</span>(rtmVarObj)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> contStatesPtrExpr = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnCreateRTMMemberObject">FcnCreateRTMMemberObject</a>("rt_CState", ModelData + "contStates", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rtCSPtrType, rtmVarObj, csVar)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> csDataObj =  ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalDataObject">FcnGetInternalDataObject</a>("rt_CState", "", "Continuous states", contStatesPtrExpr, [])
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !reqInsts.PrevZCStatesInst &amp;&amp; <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/sysarglib.html#FcnArgNeeded">FcnArgNeeded</a>(ZCEventArgDef, currentTID,isRateGrp)  &amp;&amp; !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibIsSelfStructured">SLibIsSelfStructured</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% If Zero crossing state is needed, add it to argument</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtPrevZCStateType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalTypeObj">FcnGetInternalTypeObj</a>("rt_ZC", ::tPrevZCStateType, "")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtPrevZCStateType</span>>.Name = '%<::CompiledModel.GlobalScope.tPrevZCStateTypeTag>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtZCPtrType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetPointerTypeObj">FcnGetPointerTypeObj</a>(rtPrevZCStateType, 0, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a RTW.DataInterface object and add it to InternalData</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> zcVar = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWVariableObject">SLibGetRTWVariableObject</a>("rt_ZC", rtPrevZCStateType, ::tPrevZCState, "","","")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertlib.html#SLibUseBackwardCompatibleReusableInterface">SLibUseBackwardCompatibleReusableInterface</a>() || GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> zcDataObj = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalDataObject">FcnGetInternalDataObject</a>("rt_ZC", "", "Zero crossing states", zcVar, [])
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% AUTOSAR runnables only take Rte_Instance as argument</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a coder.types.Argument object </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtZCArg = "%<<span>fcnName</span>>_ZCArg"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtZCArg</span>> = coder.types.Argument;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtZCArg</span>>.Type   = %<<span>rtZCPtrType</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtZCArg</span>>.Name   = '%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetPreviousZCStruct">LibGetPreviousZCStruct</a>()</span>>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtZCArg</span>>.IOType = 'INPUT_OUTPUT';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpArgs</span>>    = [%<<span>tmpArgs</span>>, %<<span>rtZCArg</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpActArgs</span>> = [%<<span>tmpActArgs</span>>, %<<span>zcDataObj</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create RTW.PointerExpression corresponding to prevZCSigState</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span> <span class="tlc_bifunc">EXISTS</span>(rtmVarObj)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> prevZCSigStatePtrExpr = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnCreateRTMMemberObject">FcnCreateRTMMemberObject</a>("rt_ZC", ModelData + "prevZCSigState", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rtZCPtrType, rtmVarObj, zcVar)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> zcDataObj = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalDataObject">FcnGetInternalDataObject</a>("rt_ZC", "", "Zero crossing states", prevZCSigStatePtrExpr, [])
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !reqInsts.ExtInpsInst &amp;&amp; !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdr_extiolib.html#LibExternalInputsStructIsEmpty">LibExternalInputsStructIsEmpty</a>() &amp;&amp; !GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> ::CompiledModel.RootIOFormat == "Structure reference" || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(::CompiledModel.RootIOFormat == "Part of model data structure")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibExtIOStructArgNeeded">SLibExtIOStructArgNeeded</a>("Input",currentTID,isRateGrp)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Get InternalData from codeIRInfo.mat</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> eiDataObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalDataByName">FcnGetInternalDataByName</a>("ExternalInput")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% If ExternalInput is needed, add it to argument</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtEIType    = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetDataInterfaceType">FcnGetDataInterfaceType</a>(eiDataObj)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtEIPtrType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetPointerTypeObj">FcnGetPointerTypeObj</a>(rtEIType, 0, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> ::CompiledModel.RootIOFormat == "Structure reference"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a coder.types.Argument object </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtUArg = "%<<span>fcnName</span>>_EIArg"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtUArg</span>> = coder.types.Argument;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtUArg</span>>.Type = %<<span>rtEIPtrType</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtUArg</span>>.Name = '%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetExternalInputStruct">LibGetExternalInputStruct</a>()</span>>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpArgs</span>>    = [%<<span>tmpArgs</span>>, %<<span>rtUArg</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpActArgs</span>> = [%<<span>tmpActArgs</span>>, %<<span>eiDataObj</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> ::CompiledModel.RootIOFormat == "Part of model data structure"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ~isa(%<<span>eiDataObj</span>>.Implementation,'RTW.PointerExpression') 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create RTW.PointerExpression corresponding to inputs</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span> <span class="tlc_bifunc">EXISTS</span>(rtmVarObj)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> eiPtrExpr = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnCreateRTMMemberObject">FcnCreateRTMMemberObject</a>("rt_ExternalInput", ModelData + "inputs", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rtEIPtrType, rtmVarObj, "%<<span>eiDataObj</span>>.Implementation")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>eiDataObj</span>>.Implementation = %<<span>eiPtrExpr</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wr.updateInternalData(%<<span>eiPtrExpr</span>>, 'ExternalInput');
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> ::CompiledModel.RootIOFormat == "Individual arguments"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Function call inports are not written to codeIRInfo.mat, but included in ExternalInputs.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Thus need to track the indexing separately.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> idx = -1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> eiIdx = ExternalInputs.NumExternalInputs 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ei = ExternalInputs.ExternalInput[eiIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> idx = idx + 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_with">%with</span> ei
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (ei.StorageClass != "Auto") || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/sysarglib.html#FcnArgNeeded">FcnArgNeeded</a>(ei,currentTID,isRateGrp)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#SLibGetRecordDataTypeName">SLibGetRecordDataTypeName</a>(ei, "") == "fcn_call"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> idx = idx - 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_continue">%continue</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> id = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(ei)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% If this input is needed, add it to argument</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> typeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetCoderTypeObject">SLibGetCoderTypeObject</a>(ei.CGTypeIdx, 0, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/blkiolib.html#PassExtInpByRef">PassExtInpByRef</a>(ei)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> typeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetPointerTypeObj">FcnGetPointerTypeObj</a>(typeObj, 0, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a coder.types.Argument object</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_EI%<<span>idx</span>>Arg = coder.types.Argument;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_EI%<<span>idx</span>>Arg.Type = %<<span>typeObj</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_EI%<<span>idx</span>>Arg.Name = '%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetExternalInputStruct">LibGetExternalInputStruct</a>()</span>>%<<span>UQualifier</span>>%<<span>id</span>>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>component</span>>.Inports(%<<span>idx</span>>+1).Implementation.Identifier = '%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetExternalInputStruct">LibGetExternalInputStruct</a>()</span>>%<<span>UQualifier</span>>%<<span>id</span>>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpArgs</span>>    = [%<<span>tmpArgs</span>>, %<<span>fcnName</span>>_EI%<<span>idx</span>>Arg];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpActArgs</span>> = [%<<span>tmpActArgs</span>>, %<<span>component</span>>.Inports(%<<span>idx</span>>+1)];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fr.updateInportArg(%<<span>component</span>>.Inports(%<<span>idx</span>>+1), %<<span>idx</span>>+1);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !reqInsts.ExtOutputsInst &amp;&amp; !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonhdr_extiolib.html#LibExternalOutputsStructIsEmpty">LibExternalOutputsStructIsEmpty</a>() &amp;&amp; !GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (::CompiledModel.RootIOFormat == "Structure reference" || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::CompiledModel.RootIOFormat == "Part of model data structure")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertmodelarg.html#SLibExtIOStructArgNeeded">SLibExtIOStructArgNeeded</a>("Output",currentTID,isRateGrp)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Get InternalData from codeIRInfo.mat</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> eoDataObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalDataByName">FcnGetInternalDataByName</a>("ExternalOutput")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% If ExternalOutput is needed, add it to argument</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtEOType    = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetDataInterfaceType">FcnGetDataInterfaceType</a>(eoDataObj)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtEOPtrType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetPointerTypeObj">FcnGetPointerTypeObj</a>(rtEOType, 0, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> ::CompiledModel.RootIOFormat == "Structure reference"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a coder.types.Argument object        </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtYArg = "rtYArg"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtYArg</span>> = coder.types.Argument;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtYArg</span>>.Type = %<<span>rtEOPtrType</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtYArg</span>>.Name = '%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetExternalOutputStruct">LibGetExternalOutputStruct</a>()</span>>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>rtYArg</span>>.IOType = 'OUTPUT';
 <br>&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpArgs</span>>    = [%<<span>tmpArgs</span>>, %<<span>rtYArg</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>tmpActArgs</span>> = [%<<span>tmpActArgs</span>>, %<<span>eoDataObj</span>>];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> ::CompiledModel.RootIOFormat == "Part of model data structure"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ~isa(%<<span>eoDataObj</span>>.Implementation,'RTW.PointerExpression') 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create RTW.PointerExpression corresponding to outputs</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span> <span class="tlc_bifunc">EXISTS</span>(rtmVarObj)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> eoPtrExpr = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnCreateRTMMemberObject">FcnCreateRTMMemberObject</a>("rt_ExternalOutput", ModelData + "outputs", ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rtEOPtrType, rtmVarObj, "%<<span>eoDataObj</span>>.Implementation")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>eoDataObj</span>>.Implementation = %<<span>eoPtrExpr</span>>;    
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wr.updateInternalData(%<<span>eoPtrExpr</span>>, 'ExternalOutput');
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> ::CompiledModel.RootIOFormat == "Individual arguments"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = ExternalOutputs.NumExternalOutputs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> eo    = ExternalOutputs.ExternalOutput[idx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> eoBlk = ::CompiledModel.System[eo.Block[0]].Block[eo.Block[1]]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/blkiolib.html#SLibExternalOutputIsVirtual">SLibExternalOutputIsVirtual</a>(eoBlk) || ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/sysarglib.html#FcnArgNeeded">FcnArgNeeded</a>(eo,currentTID,isRateGrp)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_continue">%continue</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% If this output is needed, add it to argument</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> typeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetCoderTypeObject">SLibGetCoderTypeObject</a>(eo.CGTypeIdx, 0, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibCGTypeWidth">LibCGTypeWidth</a>(eo.CGTypeIdx) == 1)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> typeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetPointerTypeObj">FcnGetPointerTypeObj</a>(typeObj, 0, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a coder.types.Argument object     </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_EO%<<span>idx</span>>Arg = coder.types.Argument;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_EO%<<span>idx</span>>Arg.Type = %<<span>typeObj</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_EO%<<span>idx</span>>Arg.Name = '%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetExternalOutputStruct">LibGetExternalOutputStruct</a>()</span>>%<<span>YQualifier</span>>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(eoBlk)>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_EO%<<span>idx</span>>Arg.IOType = 'OUTPUT';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>component</span>>.Outports(%<<span>idx</span>>+1).Implementation.Identifier = '%<<span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/fcniolib.html#LibGetExternalOutputStruct">LibGetExternalOutputStruct</a>()</span>>%<<span>YQualifier</span>>%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(eoBlk)>'; 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>%<<span>tmpArgs</span>>    = [%<<span>tmpArgs</span>>, %<<span>fcnName</span>>_EO%<<span>idx</span>>Arg];
 <br>%<<span>tmpActArgs</span>> = [%<<span>tmpActArgs</span>>, %<<span>component</span>>.Outports(%<<span>idx</span>>+1)];
 <br>fr.updateOutportArg(%<<span>component</span>>.Outports(%<<span>idx</span>>+1), %<<span>idx</span>>+1);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#FcnAddRTEInstanceToAUTOSARRunnable">FcnAddRTEInstanceToAUTOSARRunnable</a>(fcnName, tmpArgs, tmpActArgs)>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ::BlockFcn = "Unknown"
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="FcnAddAllocationReturn" class="tlc_func">FcnAddAllocationReturn</a>(component, fcnType, ...
 <br>&nbsp;&nbsp;tmpRet, tmpActualRet) Output
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !UsingMalloc || (fcnType != "Registration")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtMType    = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalTypeObj">FcnGetInternalTypeObj</a>("RTModel", ::tSimStructType, "")
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtMPtrType = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetPointerTypeObj">FcnGetPointerTypeObj</a>(rtMType, 0, 0)
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Create a coder.types.Argument object </span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtMArg = "%<<span>fcnType</span>>_RTArg"
 <br>&nbsp;&nbsp;%<<span>rtMArg</span>> = coder.types.Argument;
 <br>&nbsp;&nbsp;%<<span>rtMArg</span>>.Type   = %<<span>rtMPtrType</span>>;
 <br>&nbsp;&nbsp;%<<span>rtMArg</span>>.Name   = '%<::tSimStruct>';
 <br>&nbsp;&nbsp;%<<span>rtMArg</span>>.IOType = 'OUTPUT';
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Create a RTW.DataInterface object and add it to InternalData</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtmTgtVarObj  = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWVariableObject">SLibGetRTWVariableObject</a>("RTModel", rtMType,"%<::tSimStruct>_", "", "", "")
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtmVarObj  = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWPointerVariableObject">SLibGetRTWPointerVariableObject</a>("RTModel", rtMPtrType,"%<::tSimStruct>", rtmTgtVarObj)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> rtmDataObj = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetInternalDataObject">FcnGetInternalDataObject</a>("RTModel", "", "RTModel", rtmVarObj, [])
 <br>&nbsp;&nbsp;%<<span>tmpRet</span>>    = [%<<span>tmpRet</span>>, %<<span>rtMArg</span>>];
 <br>&nbsp;&nbsp;%<<span>tmpActualRet</span>> = [%<<span>tmpActualRet</span>>, %<<span>rtmDataObj</span>>];
 <br>&nbsp;&nbsp;&nbsp; <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="FcnAddFPCArgs" class="tlc_func">FcnAddFPCArgs</a>(component, fcnType, ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpArgs, tmpActualArgs, tmpRet, tmpActualRet) Output
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Get the FcnClass record</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnData = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertfcnprotocontrol.html#FcnGetFunctionPrototypeRecord">FcnGetFunctionPrototypeRecord</a>()
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnType = "fpcStep"
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Loop over each argument specification</span>
 <br>&nbsp;&nbsp;<span class="tlc_with">%with</span> fcnData
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = NumArgSpecData
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> spec = ArgSpecData[idx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span> (spec.Category != "None")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%  </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isRef   = (spec.Category == "Pointer")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argName = spec.ArgName
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> qualifier = spec.Qualifier
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Figure out "const" qualifier and indirection level</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> qualifier != "none"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> qualifier == "const"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> arg_const    = 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argPtr_const = 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> needPointer  = 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> qualifier == "const *"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> arg_const    = 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argPtr_const = 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> needPointer  = 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> qualifier == "const * const"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> arg_const    = 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argPtr_const = 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> needPointer  = 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibReportError">LibReportError</a>("CodeInfo: Fcn Argument Qualifier not supported")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> arg_const    = 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argPtr_const = 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> needPointer  = isRef
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create either a argument for either inport or outport</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> spec.SLObjectType == "Inport"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ei      = ExternalInputs.ExternalInput[spec.PortNum]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibCGTypeIsMatrix">LibCGTypeIsMatrix</a>(ei.CGTypeIdx)) &amp;&amp; ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibCGTypeWidth">LibCGTypeWidth</a>(ei.CGTypeIdx)==1)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% This could happen for the case of root inports with a bus object </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% data type and port dimensions [1 1]</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> typeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetCoderTypeObject">SLibGetCoderTypeObject</a>(<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibCGTypeBaseIndex">LibCGTypeBaseIndex</a>(ei.CGTypeIdx), arg_const, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> typeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetCoderTypeObject">SLibGetCoderTypeObject</a>(ei.CGTypeIdx, arg_const, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordWidth">LibGetRecordWidth</a>(ei) == 1) &amp;&amp; needPointer
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> typeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetPointerTypeObj">FcnGetPointerTypeObj</a>(typeObj, argPtr_const, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a coder.types.Argument object</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnType</span>>_EI%<<span>idx</span>>Arg = coder.types.Argument;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnType</span>>_EI%<<span>idx</span>>Arg.Type = %<<span>typeObj</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnType</span>>_EI%<<span>idx</span>>Arg.Name = '%<<span>argName</span>>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>%<<span>tmpArgs</span>>       = [%<<span>tmpArgs</span>>, %<<span>fcnType</span>>_EI%<<span>idx</span>>Arg];
 <br>%<<span>tmpActualArgs</span>> = [%<<span>tmpActualArgs</span>>, %<<span>component</span>>.Inports(%<<span>spec.PortNum</span>>+1)];
 <br>fr.updateInportArg(%<<span>component</span>>.Inports(%<<span>spec.PortNum</span>>+1),%<<span>spec.PortNum</span>>+1);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%     </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> spec.SLObjectType == "Outport"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% If this output is needed, add it to argument</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> eo      = ExternalOutputs.ExternalOutput[spec.PortNum]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> typeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetCoderTypeObject">SLibGetCoderTypeObject</a>(eo.CGTypeIdx, 0, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (spec.Category != "Value") &amp;&amp; (<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/dtypelib.html#LibCGTypeWidth">LibCGTypeWidth</a>(eo.CGTypeIdx) == 1)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> typeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#FcnGetPointerTypeObj">FcnGetPointerTypeObj</a>(typeObj, 0, 0)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Create a coder.types.Argument object</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnType</span>>_EO%<<span>idx</span>>Arg = coder.types.Argument;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnType</span>>_EO%<<span>idx</span>>Arg.Type = %<<span>typeObj</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnType</span>>_EO%<<span>idx</span>>Arg.Name = '%<<span>argName</span>>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnType</span>>_EO%<<span>idx</span>>Arg.IOType = 'OUTPUT';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> (spec.Category == "Value")
 <br>&nbsp; <br>%<<span>tmpRet</span>>       = %<<span>fcnType</span>>_EO%<<span>idx</span>>Arg;
 <br>%<<span>tmpActualRet</span>> = %<<span>component</span>>.Outports(%<<span>spec.PortNum</span>>+1);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp; <br>%<<span>tmpArgs</span>>       = [%<<span>tmpArgs</span>>, %<<span>fcnType</span>>_EO%<<span>idx</span>>Arg];
 <br>%<<span>tmpActualArgs</span>> = [%<<span>tmpActualArgs</span>>, %<<span>component</span>>.Outports(%<<span>spec.PortNum</span>>+1)];
 <br>fr.updateOutportArg(%<<span>component</span>>.Outports(%<<span>spec.PortNum</span>>+1),%<<span>spec.PortNum</span>>+1);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibReportFatalError">LibReportFatalError</a>("Should not be here.")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span> <span class="tlc_comment">%% NumArgSpecData</span>
 <br>&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span> <span class="tlc_comment">%%fcnData</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Function<span style="padding-left:9.5px"></span>FcnCreateExportFcnInterface<span style="padding-left:9.5px"></span>=================================
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Abstract
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Create<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>RTW.FunctionInterface<span style="padding-left:9.5px"></span>object<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>given<span style="padding-left:9.5px"></span>"systemId"<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>"fcntype"
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>process<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>creation<span style="padding-left:9.5px"></span>here<span style="padding-left:9.5px"></span>means<span style="padding-left:9.5px"></span>emitting<span style="padding-left:9.5px"></span>out<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>M-syntax<span style="padding-left:9.5px"></span>which<span style="padding-left:9.5px"></span>can<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>create<span style="padding-left:9.5px"></span>a<span style="padding-left:9.5px"></span>M-object<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>MATLAB.<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>M-syntax<span style="padding-left:9.5px"></span>is
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>fcnObj<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>RTW.FunctionInterface
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>The<span style="padding-left:9.5px"></span>M-syntax<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>setting<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>properties<span style="padding-left:9.5px"></span>is
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>fcnObj.Prototype<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>prototypeObj
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>fcnObj.Timing<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>timingObj
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>fcnObj.ActualArgs<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>[actArgsVector]
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>fcnObj.ActualReturn<span style="padding-left:9.5px"></span>=<span style="padding-left:9.5px"></span>actReturnObj
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Note,<span style="padding-left:9.5px"></span>all<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>properties<span style="padding-left:9.5px"></span>themselves<span style="padding-left:9.5px"></span>point<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>objects.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>Some<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>these<span style="padding-left:9.5px"></span>objects<span style="padding-left:9.5px"></span>need<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>be<span style="padding-left:9.5px"></span>created<span style="padding-left:9.5px"></span>(if<span style="padding-left:9.5px"></span>required)<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>this<span style="padding-left:9.5px"></span>function.<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>For<span style="padding-left:9.5px"></span>e.g.
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>timingObj<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>created<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>using<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>"systemId"<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>argument
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>prototypeObj<span style="padding-left:9.5px"></span>is<span style="padding-left:9.5px"></span>created<span style="padding-left:9.5px"></span>using<span style="padding-left:9.5px"></span>"fcntype"<span style="padding-left:9.5px"></span>and<span style="padding-left:9.5px"></span>"tid"<span style="padding-left:9.5px"></span>arguments
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>actualArgsVector/actReturnObj<span style="padding-left:9.5px"></span>could<span style="padding-left:9.5px"></span>points<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>I/O<span style="padding-left:9.5px"></span>Data.<span style="padding-left:9.5px"></span>In<span style="padding-left:9.5px"></span>that<span style="padding-left:9.5px"></span>case,<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>objects<span style="padding-left:9.5px"></span>would<span style="padding-left:9.5px"></span>have<span style="padding-left:9.5px"></span>been<span style="padding-left:9.5px"></span>created<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>fcns<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span><a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfodatalib.html">codeinfodatalib.tlc</a>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>-<span style="padding-left:9.5px"></span>actualArgsVector/actReturnObj<span style="padding-left:9.5px"></span>could<span style="padding-left:9.5px"></span>point<span style="padding-left:9.5px"></span>to<span style="padding-left:9.5px"></span>internal<span style="padding-left:9.5px"></span>data<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span><span style="padding-left:9.5px"></span>(BlockI/O,<span style="padding-left:9.5px"></span>DWork,<span style="padding-left:9.5px"></span>RTM).<span style="padding-left:9.5px"></span>These<span style="padding-left:9.5px"></span>objects<span style="padding-left:9.5px"></span>will<span style="padding-left:9.5px"></span>be<span style="padding-left:9.5px"></span>created<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>this<span style="padding-left:9.5px"></span>fcn
</span> <br><span class="tlc_comment">%%
</span> <br><span class="tlc_fkw">%function</span> <a id="FcnCreateExportFcnInterface" class="tlc_func">FcnCreateExportFcnInterface</a>(component, fcnType, systemId) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Initialize vars</span>
 <br>tmpArgs         = [];
 <br>tmpActualArgs   = [];
 <br>tmpRet          = coder.types.Argument.empty;
 <br>tmpActualReturn = RTW.DataInterface.empty;
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% switch on function type</span>
 <br>&nbsp;&nbsp;<span class="tlc_switch">%switch</span> fcnType
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "OutputUpdate"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnName = System[systemId].OutputUpdateFcn
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_default">%default</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> errTxt = "Unknown fcnType: %<<span>fcnType</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibReportFatalError">LibReportFatalError</a>(errTxt)>
 <br>&nbsp;&nbsp;<span class="tlc_endswitch">%endswitch</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Create a function Prototype with the above arguments</span>
 <br>&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype = coder.types.Prototype;
 <br>&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Name = '%<<span>fcnName</span>>';
 <br>&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Arguments  = tmpArgs;
 <br>&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.Return     = tmpRet;
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sysHeaderFile = System[systemId].SystemHeaderFileName
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> sysSrcFile = System[systemId].SystemSourceFileName
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.HeaderFile = ['%<<span>sysHeaderFile</span>>', '.h'];
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;%<<span>fcnName</span>>_Prototype.SourceFile = ['%<<span>sysSrcFile</span>>', '.%<::LangFileExt>'];
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Create a function interface with the above actual arguments</span>
 <br>&nbsp;&nbsp;%<<span>fcnName</span>>_Interface = RTW.FunctionInterface;
 <br>&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.Prototype    = %<<span>fcnName</span>>_Prototype;
 <br>&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.ActualArgs   = tmpActualArgs;
 <br>&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.ActualReturn = tmpActualReturn;
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Direct Reads and Direct writes</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> fcnType == "OutputUpdate"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Child Inports</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> system = System[systemId]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(system, "ExternalInputs")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpDirectReads = [];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = <span class="tlc_bifunc">SIZE</span>(system.ExternalInputs, 1)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> eIdx    = system.ExternalInputs[idx] + 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp_inp = %<<span>componentObj</span>>.Inports(%<<span>eIdx</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpDirectReads = [tmpDirectReads, temp_inp];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.DirectReads = tmpDirectReads;   
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% ChildOutports</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">ISFIELD</span>(system, "ExternalOutputs")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpDirectWrites = [];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = <span class="tlc_bifunc">SIZE</span>(system.ExternalOutputs, 1)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> eIdx  = system.ExternalOutputs[idx] + 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp_out = %<<span>componentObj</span>>.Outports(%<<span>eIdx</span>>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpDirectWrites = [tmpDirectWrites, temp_out];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.DirectWrites = tmpDirectWrites;   
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Add Name Timing information</span>
 <br>&nbsp;&nbsp;<span class="tlc_switch">%switch</span> fcnType
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "OutputUpdate"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> timeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWTimingObject">SLibGetRTWTimingObject</a>("inherited")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.Timing = %<<span>timeObj</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>component</span>>.OutputFunctions =  [%<<span>component</span>>.OutputFunctions, %<<span>fcnName</span>>_Interface'];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Populate Inports Map for Fcn-Call ports</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> portIdx = System[systemId].ExportedId
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fcnIdx = length(%<<span>component</span>>.OutputFunctions);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfomdlreflib.html#WriteCurrentExternalInport">WriteCurrentExternalInport</a>(portIdx, "fcn_call", "fcnIdx", "", "")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemFcnIsEmpty">LibSystemFcnIsEmpty</a>(System[systemId],"Enable")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expInports(%<<span>portIdx</span>>).EnableFcn  = '%<System[systemId].EnableFcn>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/commonbodlib.html#LibSystemFcnIsEmpty">LibSystemFcnIsEmpty</a>(System[systemId],"Disable")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expInports(%<<span>portIdx</span>>).DisableFcn  = '%<System[systemId].DisableFcn>';
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "Enable"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> timeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWTimingObject">SLibGetRTWTimingObject</a>("constant")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.Timing  = %<<span>timeObj</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>component</span>>.EnableFunction = %<<span>fcnName</span>>_Interface;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "Disable"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> timeObj = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfolib.html#SLibGetRTWTimingObject">SLibGetRTWTimingObject</a>("constant")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>fcnName</span>>_Interface.Timing  = %<<span>timeObj</span>>;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>component</span>>.DisableFunction = %<<span>fcnName</span>>_Interface;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_break">%break</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_default">%default</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> errTxt = "CodeInfo Error: Unknown fcnType: %<<span>fcnType</span>>"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#LibReportFatalError">LibReportFatalError</a>(errTxt)>
 <br>&nbsp;&nbsp;<span class="tlc_endswitch">%endswitch</span>
 <br>&nbsp;&nbsp;&nbsp; <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br>/%
 <br>&nbsp;In terms of FPC, generates two maps named o2IMap and i2OMap
 <br>&nbsp;o2IMap maps a reusable inport to its reusable outport
 <br>&nbsp;i2OMap maps a reusable outport to its reusable inport
 <br>&nbsp;The generated MATLAB code is like this:
 <br>&nbsp;&nbsp;fpcInports = {};
 <br>&nbsp;&nbsp;fpcReusableOutports = {};
 <br>&nbsp;&nbsp;fpcOutports = {};
 <br>&nbsp;&nbsp;fpcReusableInports = {};
 <br>&nbsp;&nbsp;...
 <br>&nbsp;&nbsp;% for each reusable port pair (n, m)
 <br>&nbsp;&nbsp;fpcOutports{end+1} = n;
 <br>&nbsp;&nbsp;fpcReusableInports{end+1} = m;
 <br>&nbsp;&nbsp;fpcInports{end+1} = m;
 <br>&nbsp;&nbsp;fpcReusableOutports{end+1} = n;
 <br>&nbsp;&nbsp;...
 <br>&nbsp;&nbsp;if length(fpcInports) ~= 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;i2OMap = containers.Map(fpcInports,fpcReusableOutports);
 <br>&nbsp;&nbsp;else
 <br>&nbsp;&nbsp;&nbsp;&nbsp;i2OMap = containers.Map();
 <br>&nbsp;&nbsp;end
 <br>&nbsp;&nbsp;if length(fpcOutports) ~= 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;o2IMap = containers.Map(fpcOutports,fpcReusableInports);
 <br>&nbsp;&nbsp;else
 <br>&nbsp;&nbsp;&nbsp;&nbsp;o2IMap = containers.Map();
 <br>&nbsp;&nbsp;end
 <br>%/
 <br><span class="tlc_fkw">%function</span> <a id="CreateReusableFPCIOMap" class="tlc_func">CreateReusableFPCIOMap</a>(fpcData, o2IMap, i2OMap) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> comment = "% Creates maps between FPC reusable inport/outports%"
 <br>&nbsp;&nbsp;%<<span>comment</span>>
 <br>&nbsp;&nbsp;fpcInports = {};
 <br>&nbsp;&nbsp;fpcReusableOutports = {};
 <br>&nbsp;&nbsp;fpcOutports = {};
 <br>&nbsp;&nbsp;fpcReusableInports = {};
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numArgs = <span class="tlc_bifunc">SIZE</span>(fpcData.ArgSpecData, 1)
 <br>&nbsp;&nbsp;<span class="tlc_with">%with</span> fpcData
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> argIdx = numArgs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> spec = ArgSpecData[argIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> spec.SLObjectType == "Outport" &amp;&amp; spec.Category == "Value"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_continue">%continue</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> reusableIdx = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertfcnprotocontrol.html#GetTheOtherReusableArgInFPC">GetTheOtherReusableArgInFPC</a>(fpcData, argIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> reusableIdx < 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_continue">%continue</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> reusableSpec = ArgSpecData[reusableIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> spec.SLObjectType == "Outport"
 <br>&nbsp;&nbsp;fpcOutports{end+1} = %<<span>spec.PortNum</span>>+1;
 <br>&nbsp;&nbsp;fpcReusableInports{end+1} = %<<span>reusableSpec.PortNum</span>>+1;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;fpcInports{end+1} = %<<span>spec.PortNum</span>>+1;
 <br>&nbsp;&nbsp;fpcReusableOutports{end+1} = %<<span>reusableSpec.PortNum</span>>+1;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>
 <br>&nbsp;&nbsp;if length(fpcInports) ~= 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>i2OMap</span>> = containers.Map(fpcInports,fpcReusableOutports);
 <br>&nbsp;&nbsp;else
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>i2OMap</span>> = containers.Map();
 <br>&nbsp;&nbsp;end  
 <br>&nbsp;&nbsp;if length(fpcOutports) ~= 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>o2IMap</span>> = containers.Map(fpcOutports,fpcReusableInports);
 <br>&nbsp;&nbsp;else
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>o2IMap</span>> = containers.Map();
 <br>&nbsp;&nbsp;end  
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Returns<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>num<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>arguments<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>FPC
</span> <br><span class="tlc_fkw">%function</span> <a id="GetNumOfFPCArgs" class="tlc_func">GetNumOfFPCArgs</a>(fpcData)
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">EXISTS</span>(fpcData.noArgOnList) &amp;&amp; fpcData.noArgOnList
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> 0
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>  
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">EXISTS</span>(fpcData.ArgSpecData)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> 0
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>  
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> <span class="tlc_bifunc">SIZE</span>(fpcData.ArgSpecData, 1)
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Returns<span style="padding-left:9.5px"></span>if<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>FPC<span style="padding-left:9.5px"></span>has<span style="padding-left:9.5px"></span>any<span style="padding-left:9.5px"></span>reusable<span style="padding-left:9.5px"></span>IO<span style="padding-left:9.5px"></span>arguments
</span> <br><span class="tlc_fkw">%function</span> <a id="DoesFPCHaveReusableIOs" class="tlc_func">DoesFPCHaveReusableIOs</a>(fpcData)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numArgs = <span class="tlc_bifunc">SIZE</span>(fpcData.ArgSpecData, 1)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> hasReusedIO = TLC_FALSE
 <br>&nbsp;&nbsp;<span class="tlc_with">%with</span> fpcData
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> argIdx = numArgs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> spec = ArgSpecData[argIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> spec.SLObjectType == "Outport" &amp;&amp; spec.Category == "Value"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_continue">%continue</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> reusableIdx = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertfcnprotocontrol.html#GetTheOtherReusableArgInFPC">GetTheOtherReusableArgInFPC</a>(fpcData, argIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> reusableIdx < 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_continue">%continue</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> hasReusedIO = TLC_TRUE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> hasReusedIO
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Updates<span style="padding-left:9.5px"></span>code<span style="padding-left:9.5px"></span>info<span style="padding-left:9.5px"></span>by<span style="padding-left:9.5px"></span>the<span style="padding-left:9.5px"></span>reusable<span style="padding-left:9.5px"></span>IO<span style="padding-left:9.5px"></span>maps<span style="padding-left:9.5px"></span>between<span style="padding-left:9.5px"></span>reusable<span style="padding-left:9.5px"></span>inport/outport
</span> <br><span class="tlc_fkw">%function</span> <a id="UpdateArgsCodeInfoByReusableIOMap" class="tlc_func">UpdateArgsCodeInfoByReusableIOMap</a>(componentObj, o2IMap, i2OMap) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> comment = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;"% Updates output function interfaces for reused IO arguments%"
 <br>&nbsp;&nbsp;%<<span>comment</span>>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> comment = "% Loops over each output function%"
 <br>&nbsp;&nbsp;%<<span>comment</span>>
 <br>&nbsp;&nbsp;for ofIdx = 1:length(%<<span>componentObj</span>>.OutputFunctions)  
 <br>&nbsp;&nbsp;&nbsp;&nbsp;outputFunction = %<<span>componentObj</span>>.OutputFunctions(ofIdx);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Back-up the old actual and formal arguments</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;oldActualArgs = outputFunction.ActualArgs;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;oldArguments = outputFunction.Prototype.Arguments;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% * That no actual arguments indicates that this could be a Simulink server</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%   function. A model step function w/o arguments cannot have FPC. So it is </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%   fine to ignore the case.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% * We assume that a model step function has the same number of actual and</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%   formal arguments. Do not fix the output function if its actual and </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%   formal arguments do not match.</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;if length(oldActualArgs) == 0 || length(oldActualArgs) ~= length(oldArguments)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;end
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Initializes the new actual and formal arguments with empty array    </span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;newActualArgs = [];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;newArguments = [];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> comment = "% Loops over actual arguments%"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>comment</span>>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;for argIdx = 1:length(oldActualArgs)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oldActualArg = oldActualArgs(argIdx);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oldArgument = oldArguments(argIdx);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outport = find(oldActualArg == %<<span>componentObj</span>>.Outports);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ~isempty(outport)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if %<<span>o2IMap</span>>.isKey(outport)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Updates the reusable formal output argument with ioType</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% INPUT_OUTPUT</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newArgument = oldArgument;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newArgument.IOType ='INPUT_OUTPUT'; 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newArguments = [newArguments newArgument];        
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Copies the reusable actual output argument</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newActualArgs = [newActualArgs oldActualArg];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Makes the reusable input/output part point to the same</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% implememtation</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reusableInport = %<<span>o2IMap</span>>(outport);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>componentObj</span>>.Outports(outport).Implementation = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<span>componentObj</span>>.Inports(reusableInport).Implementation;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wr.updateOutportImplementationForFPC(outport, reusableInport);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inport = find(oldActualArg == %<<span>componentObj</span>>.Inports);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ~isempty(inport)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if %<<span>i2OMap</span>>.isKey(inport)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Ignores reusable input arguments</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Copies data for other arguments</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newArguments = [newArguments oldArgument];        
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newActualArgs = [newActualArgs oldActualArg];
 <br>&nbsp;&nbsp;&nbsp;&nbsp;end <span class="tlc_comment">%% end of looping actual arguments</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Assigns the new actual and formal arguments</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>componentObj</span>>.OutputFunctions(ofIdx).Prototype.Arguments = newArguments;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<span>componentObj</span>>.OutputFunctions(ofIdx).ActualArgs = newActualArgs;
 <br>&nbsp;&nbsp;end <span class="tlc_comment">%% end of looping output functions  </span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp;&nbsp;&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>Updates<span style="padding-left:9.5px"></span>output<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>interface<span style="padding-left:9.5px"></span>codeInfo<span style="padding-left:9.5px"></span>for<span style="padding-left:9.5px"></span>reused<span style="padding-left:9.5px"></span>IO<span style="padding-left:9.5px"></span>arguments
</span> <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>in<span style="padding-left:9.5px"></span>terms<span style="padding-left:9.5px"></span>of<span style="padding-left:9.5px"></span>function<span style="padding-left:9.5px"></span>prototype<span style="padding-left:9.5px"></span>control<span style="padding-left:9.5px"></span>
</span> <br><span class="tlc_fkw">%function</span> <a id="UpdateReusableArgsCodeInfoByFPC" class="tlc_func">UpdateReusableArgsCodeInfoByFPC</a>(componentObj) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Gets the FPC record</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#IsModelReferenceTarget">IsModelReferenceTarget</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Gets FPC of reference models</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibFcnProtoCtrlActive">SLibFcnProtoCtrlActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fpcData = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertfcnprotocontrol.html#FcnGetFunctionPrototypeRecord">FcnGetFunctionPrototypeRecord</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> GenerateClassInterface
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fpcData = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/ertfcnprotocontrol.html#FcnGetRTWCPPStepPrototypeRecord">FcnGetRTWCPPStepPrototypeRecord</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Reaches here if either C or C++ FPC is used</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> GenerateClassInterface || <a href="https://foool.github.io/r2020a/rtw/c/tlc/lib/utillib.html#SLibFcnProtoCtrlActive">SLibFcnProtoCtrlActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Gets FPC of top models</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> buildStartDir = <span class="tlc_bifunc">FEVAL</span>("rtwprivate","rtwattic","getStartDir")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> mdlInterface = ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/modelrefutil.html#LoadModelrefInterfaceInMatInfoFile">LoadModelrefInterfaceInMatInfoFile</a>(::CompiledModel.Name, buildStartDir) 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fpcData = mdlInterface.FPC
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Reaches here if a top model has no FPC</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>  
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Ignores output functions w/o arguments</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numArgs = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#GetNumOfFPCArgs">GetNumOfFPCArgs</a>(fpcData)
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> numArgs <= 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Do not update code info if the FPC has no reusable IOs</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#DoesFPCHaveReusableIOs">DoesFPCHaveReusableIOs</a>(fpcData)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>  
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% In terms of FPC, generates two maps between reusable inport/outport</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fpcReusableO2IMap = "fpcReusableO2IMap"
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fpcReusableI2OMap = "fpcReusableI2OMap"
 <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#CreateReusableFPCIOMap">CreateReusableFPCIOMap</a>(fpcData, fpcReusableO2IMap, fpcReusableI2OMap)>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%%</span>
 <br>&nbsp;&nbsp;<span class="tlc_comment">%% Updates code info by the two maps</span>
 <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#UpdateArgsCodeInfoByReusableIOMap">UpdateArgsCodeInfoByReusableIOMap</a>(componentObj, ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;fpcReusableO2IMap, fpcReusableI2OMap)>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="FcnCheckFunctionForUnusedArugments" class="tlc_func">FcnCheckFunctionForUnusedArugments</a>(callsiteIdx, fcn, fcnIndex) <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> hasSimStruct = TLC_FALSE
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> i = fcn.NumArgs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isUsed = <a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/opaquelib.html#SLibCG_ArgAccessed">SLibCG_ArgAccessed</a>(callsiteIdx, fcnIndex, i)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% SubsystemInterface in Code Descriptor skips SimStruct</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% So we need to make sure the indexes account for that</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isSimStruct = fcn.ArgSource[i] == "RTM"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> isSimStruct
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> hasSimStruct = TLC_TRUE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !isUsed &amp;&amp; !isSimStruct
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argIdxToRemove = i
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> hasSimStruct
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> argIdxToRemove = i-1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% Make sure to use M-indexing in the argument index</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wr.removeUnusedArgumentFromSubsystemInterface('%<<span>fcn.FunctionType</span>>','%<<span>fcn.Name</span>>', %<argIdxToRemove+1>);
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_fkw">%function</span> <a id="FcnRemoveUnusedArgumentsFromSubsystemInterface" class="tlc_func">FcnRemoveUnusedArgumentsFromSubsystemInterface</a>() <span class="tlc_fkw">Output</span>
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !CGMODEL_ACCESS("CGModel.isCodeGenContextBuild")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_comment">%% This logic only works for library codegen</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> 
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> librarySystemIdx = CGMODEL_ACCESS("CGModel.getCUTSysIdx")
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> librarySystem = System[librarySystemIdx]
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> libraryModule = RTWCGModules.RTWCGModule[librarySystem.CGIRModuleIdx]
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISFIELD</span>(libraryModule, "Function") || <span class="tlc_bifunc">SIZE</span>(libraryModule.Function,1) == 0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> parentSystemIdx = librarySystem.ReusedParentSystemIdx
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> parentModuleIdx = System[parentSystemIdx].CGIRModuleIdx
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> i = <span class="tlc_bifunc">SIZE</span>(libraryModule.Function)[1]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/r2020a/rtw/c/tlc/mw/codeinfofcnlib.html#FcnCheckFunctionForUnusedArugments">FcnCheckFunctionForUnusedArugments</a>(parentModuleIdx, libraryModule.Function[i], i)>
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>  
 <br><span class="tlc_fkw">%endfunction</span>
 <br>&nbsp; <br><span class="tlc_endif">%endif</span>  <span class="tlc_comment">%% <span class="tlc_bifunc">EXISTS</span>("_CIINFOFCNLIB_") == 0</span>
 <br>&nbsp; <br><span class="tlc_comment">%%<span style="padding-left:9.5px"></span>[EOF]<span style="padding-left:9.5px"></span>codeinfofclib.tlc
</span> <br></body></html>