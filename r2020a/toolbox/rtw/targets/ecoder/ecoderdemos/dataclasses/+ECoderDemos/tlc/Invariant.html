<html>
<head>

<style>
p {color : black; font-family:courier; font-size: 80%;}
body {line-height: 100%; font-family:courier;}
.tlc_func {color : blue; font-weight: bold; font-size:120%;}
.tlc_if {color: green;}.tlc_assign {color: green;}.tlc_each {color: green;}.tlc_foreach {color: green;}.tlc_endif {color: green;}.tlc_switch {color: green;}.tlc_case {color: green;}.tlc_return {color: green;}.tlc_elseif {color: green;}.tlc_else {color: green;}.tlc_assert {color: green;}.tlc_function {color: green;}.tlc_endfunction {color: green;}.tlc_generatefile {color: green;}.tlc_includepath {color: green;}.tlc_include {color: green;}.tlc_sprintf {color: green;}.tlc_while {color: green;}.tlc_endwhile {color: green;}.tlc_default {color: green;}.tlc_createrecord {color: green;}.tlc_mergerecord {color: green;}.tlc_language {color: green;}.tlc_roll {color: green;}.tlc_endroll {color: green;}.tlc_with {color: green;}
.tlc_bifunc {color: brown;}
</style>

</head>
<body>
%% 
 <br>%% 
 <br>%%
 <br>%% Copyright 1990-2009 The MathWorks, Inc.
 <br>%% 
 <br><span class="tlc_implements">%implements</span> * "C"
 <br>&nbsp; <br>%% Struct is a custom storage class that is used to pack scalar data
 <br>%% into a structure, for example structures used for health monitoring
 <br>&nbsp; <br>%% Function: DataAccess ================================================
 <br>%% Abstract:
 <br>%%   DataAccess provides an API for requesting code fragments or other
 <br>%%   information corresponding to data of this custom storage class.
 <br>%%
 <br><span class="tlc_function">%function</span> <a id="DataAccess" class="tlc_func">DataAccess</a>(record, request, idx, reim) void
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> structname = "%&lt;CompiledModel.Name&gt;_invariant"
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_switch">%switch</span> request
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "contents"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% The data is accessed as <STRUCT_NAME>.<DATA_NAME>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> id = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(record)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> "%&lt;structname&gt;.%&lt;id&gt;%&lt;idx&gt;"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%break
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "address"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% The data has address &<STRUCT_NAME>.<DATA_NAME>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> id = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(record)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> "&%&lt;structname&gt;.%&lt;id&gt;%&lt;idx&gt;"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%break
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "declare"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% The data is not individually declared; the structure as a 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% whole is declared in the storage class setup.
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%break
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "define"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% The data is not individually declared; the structure as a 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% whole is defined in the storage class setup.
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%break
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "layout"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% Uses The Mathworks' data layout.
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/customstoragelib.html#LibDefaultCustomStorageLayout">LibDefaultCustomStorageLayout</a>(record)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%break
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_default">%default</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% Unknown access type.
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> LibDefaultCustomStorageUnknownDataAccessType ...
 <br>&nbsp;(record, request, idx, reim)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%break
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_endswitch">%endswitch</span>
 <br><span class="tlc_endfunction">%endfunction</span>
 <br>&nbsp; <br>&nbsp; <br>&nbsp; <br>%% Function: ClassAccess =============================================
 <br>%% Abstract:
 <br>%%  SClassAccess provides an API for requesting information or action
 <br>%%   corresponding to the custom storage class
 <br>%%
 <br><span class="tlc_function">%function</span> <a id="ClassAccess" class="tlc_func">ClassAccess</a>(record, request) void
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_switch">%switch</span> request
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "setup"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> init_v  = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> structname = "%&lt;CompiledModel.Name&gt;_invariant"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> typedef = "typedef struct %&lt;structname&gt;_tag {/n"
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numData = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/customstoragelib.html#LibCustomStorageClassRecordNumData">LibCustomStorageClassRecordNumData</a>(record)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> initFieldSep = ", "
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = numData
 <br>&nbsp;&nbsp; <br>&nbsp;<span class="tlc_assign">%assign</span> item = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetDataRecord">LibGetDataRecord</a>(record, idx)
 <br>&nbsp;&nbsp; <br>&nbsp;%% Make sure the record is non-complex parameter
 <br>&nbsp;%&lt;<a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/customstoragelib.html#LibCustomStorageVerifyRecordIsNonComplex">LibCustomStorageVerifyRecordIsNonComplex</a>(item)&gt;
 <br>&nbsp;%&lt;<a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/customstoragelib.html#LibCustomStorageVerifyRecordIsModelParameter">LibCustomStorageVerifyRecordIsModelParameter</a>(item)&gt;
 <br>&nbsp;&nbsp; <br>&nbsp;<span class="tlc_assign">%assign</span> props = item.Object.ObjectProperties
 <br>&nbsp;<span class="tlc_assign">%assign</span> id = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(item)
 <br>&nbsp;<span class="tlc_assign">%assign</span> dtypeName = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordCompositeDataTypeName">LibGetRecordCompositeDataTypeName</a>(item)
 <br>&nbsp;&nbsp; <br>&nbsp;<span class="tlc_assign">%assign</span> width = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/globalmaplib.html#LibGetDataWidth">LibGetDataWidth</a>(item)
 <br>&nbsp;<span class="tlc_assign">%assign</span> dims = ""
 <br>&nbsp;<span class="tlc_if">%if</span> width > 1
 <br>&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dims = "[%&lt;width&gt;]"
 <br>&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;<span class="tlc_assign">%assign</span> typedef = "%&lt;typedef&gt;%&lt;dtypeName&gt; %&lt;id&gt;%&lt;dims&gt;;/n"
 <br>&nbsp;<span class="tlc_assign">%assign</span> v = item.Value
 <br>&nbsp;<span class="tlc_if">%if</span> idx == numData - 1
 <br>&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> initFieldSep = ""
 <br>&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;<span class="tlc_if">%if</span> width > 1
 <br>&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> data_init_v
 <br>&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dummy = <span class="tlc_bifunc">GENERATE_FORMATTED_VALUE</span>(v, "%&lt;id&gt;")
 <br>&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> data_init_v
 <br>&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> data_init_v = "%&lt;data_init_v&gt;%&lt;initFieldSep&gt;"
 <br>&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> v = v[0]
 <br>&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> data_init_v = "%&lt;v&gt;%&lt;initFieldSep&gt; /* %&lt;id&gt; *//n"
 <br>&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;<span class="tlc_assign">%assign</span> init_v = "%&lt;init_v&gt;%&lt;data_init_v&gt;"
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% Complete the typedef and initializer for each structure, then
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% cache the typedef in the export header file and the definition
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% in the parameter definition file.
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> structtype = "%&lt;structname&gt;_struct"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> typedef = "%&lt;typedef&gt;} %&lt;structtype&gt;;/n"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%&lt;<a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/hookslib.html#LibExportFileCustomCode">LibExportFileCustomCode</a>("%<typedef&gt;/n","trailer")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/hookslib.html#LibExportFileCustomCode">LibExportFileCustomCode</a>(...
 <br>&nbsp;"extern %&lt;structtype&gt; %&lt;structname&gt;;/n/n","trailer")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/hookslib.html#LibPrmFileCustomCode">LibPrmFileCustomCode</a>(...
 <br>&nbsp;"%&lt;structtype&gt; %&lt;structname&gt; = /n{%&lt;init_v&gt;};/n/n","trailer")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%break
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "comment"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%break
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_default">%default</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% Unknown access type.
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> LibDefaultCustomStorageUnknownClassAccessType ...
 <br>&nbsp;(record, request)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%break
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_endswitch">%endswitch</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp; <br>&nbsp; <br><span class="tlc_endfunction">%endfunction</span>
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp; <br>%% [EOF] Struct.tlc
 <br></body></html>