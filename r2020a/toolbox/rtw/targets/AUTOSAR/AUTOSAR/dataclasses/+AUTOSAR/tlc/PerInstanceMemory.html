<html>
<head>

<style>
p {color : black; font-family:courier; font-size: 80%;}
body {line-height: 100%; font-family:courier;}
.tlc_func {color : blue; font-weight: bold; font-size:120%;}
.tlc_if {color: green;}.tlc_assign {color: green;}.tlc_each {color: green;}.tlc_foreach {color: green;}.tlc_endif {color: green;}.tlc_switch {color: green;}.tlc_case {color: green;}.tlc_return {color: green;}.tlc_elseif {color: green;}.tlc_else {color: green;}.tlc_assert {color: green;}.tlc_function {color: green;}.tlc_endfunction {color: green;}.tlc_generatefile {color: green;}.tlc_includepath {color: green;}.tlc_include {color: green;}.tlc_sprintf {color: green;}.tlc_while {color: green;}.tlc_endwhile {color: green;}.tlc_default {color: green;}.tlc_createrecord {color: green;}.tlc_mergerecord {color: green;}.tlc_language {color: green;}.tlc_roll {color: green;}.tlc_endroll {color: green;}.tlc_with {color: green;}
.tlc_bifunc {color: brown;}
</style>

</head>
<body>
%% <a href="https://foool.github.io/MATLAB/R2020a/toolbox/rtw/targets/AUTOSAR/AUTOSAR/dataclasses/+AUTOSAR/tlc/PerInstanceMemory.html">PerInstanceMemory.tlc</a>
 <br>%%
 <br>%% Copyright 2009-2018 The MathWorks, Inc.
 <br>&nbsp; <br>%% File Abstract ================================================================
 <br>%%
 <br>%% AUTOSAR Per Instance Memory custom storage class
 <br>&nbsp; <br>%% Target language is C
 <br><span class="tlc_implements">%implements</span> * "C"
 <br>&nbsp; <br><span class="tlc_function">%function</span> <a id="RteAPI" class="tlc_func">RteAPI</a>(record) void
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> "Rte_Pim_" + <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(record)
 <br><span class="tlc_endfunction">%endfunction</span>
 <br>&nbsp;&nbsp;&nbsp; <br><span class="tlc_function">%function</span> <a id="RteData" class="tlc_func">RteData</a>(record) void
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> <a href="https://foool.github.io/MATLAB/R2020a/toolbox/rtw/targets/AUTOSAR/AUTOSAR/dataclasses/+AUTOSAR/tlc/PerInstanceMemory.html#RteAPI">RteAPI</a>(record) + "_data"
 <br><span class="tlc_endfunction">%endfunction</span>
 <br>&nbsp;&nbsp;&nbsp; <br><span class="tlc_function">%function</span> <a id="RteInitializer" class="tlc_func">RteInitializer</a>(record) void
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> <a href="https://foool.github.io/MATLAB/R2020a/toolbox/rtw/targets/AUTOSAR/AUTOSAR/dataclasses/+AUTOSAR/tlc/PerInstanceMemory.html#RteAPI">RteAPI</a>(record) + "_init"
 <br><span class="tlc_endfunction">%endfunction</span>
 <br>&nbsp;&nbsp;&nbsp; <br>%% Function: DataAccess =========================================================
 <br>%% Abstract:
 <br>%%   DataAccess provides an API for requesting code fragments or other
 <br>%%   information corresponding to data of a custom storage class.
 <br>%%
 <br>&nbsp; <br><span class="tlc_function">%function</span> <a id="DataAccess" class="tlc_func">DataAccess</a>(record, request, idx, reim, newValue) void
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> name     = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(record) 
 <br>&nbsp;&nbsp;%<<a href="https://foool.github.io/MATLAB/R2020a/toolbox/rtw/targets/AUTOSAR/AUTOSAR/dataclasses/+AUTOSAR/tlc/PerInstanceMemory.html#FcnCheckConstraints">FcnCheckConstraints</a>(name, record, TLC_TRUE)>
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> width    = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/globalmaplib.html#LibGetDataWidth">LibGetDataWidth</a>(record)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> props    = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetCustomStorageAttributes">LibGetCustomStorageAttributes</a>(record)
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> Rte_api  = <a href="https://foool.github.io/MATLAB/R2020a/toolbox/rtw/targets/AUTOSAR/AUTOSAR/dataclasses/+AUTOSAR/tlc/PerInstanceMemory.html#RteAPI">RteAPI</a>(record)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> Rte_data =  <a href="https://foool.github.io/MATLAB/R2020a/toolbox/rtw/targets/AUTOSAR/AUTOSAR/dataclasses/+AUTOSAR/tlc/PerInstanceMemory.html#RteData">RteData</a>(record)
 <br>&nbsp;&nbsp;%% avoid use of "Rte" prefix for non-AUTOSAR initialization function
 <br>&nbsp;&nbsp;%% use model name instead
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> nvramInit_api = "%&lt;CompiledModel.Name&gt;_Init_Pim_%&lt;name&gt;"
 <br>&nbsp; <br>&nbsp;&nbsp;%% If width is not > 1 then never use pointer to the base type.
 <br>&nbsp;&nbsp;%% Otherwise check if the feature is enabled.
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isUsePtr2BaseType = TLC_FALSE
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> width > 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> props.IsArTypedPerInstanceMemory == 1 && /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_bifunc">CAST</span>("Real", <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/autosarsup.html#SLibAutosarGetSchemaVersion">SLibAutosarGetSchemaVersion</a>()) >= 4.0
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isUsePtr2BaseType = TLC_TRUE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> MultiInstanceERTCode
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnArg = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/autosarsup.html#FcnGetMultiInstanceRunnableArgs">FcnGetMultiInstanceRunnableArgs</a>(TLC_TRUE)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnProto = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/autosarsup.html#FcnGetMultiInstanceRunnableArgs">FcnGetMultiInstanceRunnableArgs</a>(TLC_FALSE)
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnArg = ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> fcnProto = "void"
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_switch">%switch</span> request
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "declare"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> ca = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetCustomStorageAttributes">LibGetCustomStorageAttributes</a>(record)
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% We currently don't export the initial values for DSM PIMs that 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% have NVRAM access. This is captured in g902082. Until this geck
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% is implemented, we can't provide the initialization from our
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% mm2rte generator and thus will continue to provide this from TLC.
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>() && <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarGenRTEHeader">SLibAutosarGenRTEHeader</a>()                                
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> ca.needsNVRAMAccess            
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> autosarSpec = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/autosarsup.html#FcnGetAutosarRecord">FcnGetAutosarRecord</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> swcName =  autosarSpec.MainInterfaceName
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> stubDirName = "stub"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> absBuildDir = <span class="tlc_bifunc">FEVAL</span>("rtwprivate", "rtwattic", "getBuildDir")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> absStubDir = "%&lt;absBuildDir&gt;/%&lt;stubDirName&gt;"
 <br>&nbsp; <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dsmPimInitFcnDecl = "void %&lt;nvramInit_api&gt;(%&lt;fcnProto&gt;);"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isHeader = TLC_TRUE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> success = <span class="tlc_bifunc">FEVAL</span>("autosar.mm.mm2rte.ASWCWriter.writeDSMPimInitFcnFromTLC", absStubDir, swcName, isHeader, dsmPimInitFcnDecl)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span>(success==TLC_TRUE)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dsmPimInitFcnDef = "%&lt;<a href="https://foool.github.io/MATLAB/R2020a/toolbox/rtw/targets/AUTOSAR/AUTOSAR/dataclasses/+AUTOSAR/tlc/PerInstanceMemory.html#FcnDefinePIMInitializer">FcnDefinePIMInitializer</a>(record)&gt; void %&lt;nvramInit_api&gt;(%&lt;fcnProto&gt;){ %&lt;<a href="https://foool.github.io/MATLAB/R2020a/toolbox/rtw/targets/AUTOSAR/AUTOSAR/dataclasses/+AUTOSAR/tlc/PerInstanceMemory.html#FcnInitializePIM">FcnInitializePIM</a>(record)&gt; }"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> isHeader = TLC_FALSE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> success = <span class="tlc_bifunc">FEVAL</span>("autosar.mm.mm2rte.ASWCWriter.writeDSMPimInitFcnFromTLC", absStubDir, swcName, isHeader, dsmPimInitFcnDef)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span>(success==TLC_TRUE)
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>                      
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%break
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "define"
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%break
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "contents"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% As we access this PIM, update access info
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%&lt;<a href="https://foool.github.io/MATLAB/R2020a/toolbox/rtw/targets/AUTOSAR/AUTOSAR/dataclasses/+AUTOSAR/tlc/PerInstanceMemory.html#FcnAddAccessInfoForAutosarRunnable">FcnAddAccessInfoForAutosarRunnable</a>(record)&gt;
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% Determine how the array is referenced base on if pointer to the base
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% type is used. 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> isUsePtr2BaseType
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> "(%&lt;Rte_api&gt;(%&lt;fcnArg&gt;))%&lt;idx&gt;"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> "(*%&lt;Rte_api&gt;(%&lt;fcnArg&gt;))%&lt;idx&gt;"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%break
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "set"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% As we access this PIM, update access info
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%&lt;<a href="https://foool.github.io/MATLAB/R2020a/toolbox/rtw/targets/AUTOSAR/AUTOSAR/dataclasses/+AUTOSAR/tlc/PerInstanceMemory.html#FcnAddAccessInfoForAutosarRunnable">FcnAddAccessInfoForAutosarRunnable</a>(record)&gt;
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> isUsePtr2BaseType
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> "(%&lt;Rte_api&gt;(%&lt;fcnArg&gt;))%&lt;idx&gt; = %&lt;newValue&gt;;"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> "(*%&lt;Rte_api&gt;(%&lt;fcnArg&gt;))%&lt;idx&gt; = %&lt;newValue&gt;;"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%break
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "address"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% As we access this PIM, update access info
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%&lt;<a href="https://foool.github.io/MATLAB/R2020a/toolbox/rtw/targets/AUTOSAR/AUTOSAR/dataclasses/+AUTOSAR/tlc/PerInstanceMemory.html#FcnAddAccessInfoForAutosarRunnable">FcnAddAccessInfoForAutosarRunnable</a>(record)&gt;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span> 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> addrStr = ""
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISEMPTY</span>(idx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> isUsePtr2BaseType
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> "&((%&lt;Rte_api&gt;(%&lt;fcnArg&gt;))%&lt;idx&gt;)"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> "&((*%&lt;Rte_api&gt;(%&lt;fcnArg&gt;))%&lt;idx&gt;)"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> width == 1  
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> addrStr = "%&lt;Rte_api&gt;(%&lt;fcnArg&gt;)"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%g601374
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> isUsePtr2BaseType
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> addrStr = "%&lt;Rte_api&gt;(%&lt;fcnArg&gt;)"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> addrStr = "(*%&lt;Rte_api&gt;(%&lt;fcnArg&gt;))"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> addrStr
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%break
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "initialize"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%break
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "layout"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% LibDefaultCustomStorageLayout is the default layout function, and may
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%PIM's are addressable, scalar or vector! So do not return "other"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% AUTOSAR vectors can be accessed like Simulink vectors
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% Matrices have been excluded by Setup function
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/customstoragelib.html#LibDefaultCustomStorageLayout">LibDefaultCustomStorageLayout</a>(record)        
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%break
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "qualifier"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% RTE is responsible for storing the calibration data
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> ""
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%break
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;%% ==========================================================================
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%% Handle unrecognized requests
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%%
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_default">%default</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> LibDefaultCustomStorageUnknownDataAccessType ...
 <br>&nbsp;(record, request, idx, reim)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%break
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_endswitch">%endswitch</span>
 <br>&nbsp; <br><span class="tlc_endfunction">%endfunction</span>
 <br>&nbsp; <br>&nbsp; <br>%% Function: ClassAccess ========================================================
 <br>%% Abstract:
 <br>%%   ClassAccess provides an API for requesting information or actions
 <br>%%   corresponding to a custom storage class.
 <br>%%
 <br><span class="tlc_function">%function</span> <a id="ClassAccess" class="tlc_func">ClassAccess</a>(record, request) void
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_switch">%switch</span> request
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "setup"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> numData = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/customstoragelib.html#LibCustomStorageClassRecordNumData">LibCustomStorageClassRecordNumData</a>(record)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = numData
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> data = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetDataRecord">LibGetDataRecord</a>(record, idx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/MATLAB/R2020a/toolbox/rtw/targets/AUTOSAR/AUTOSAR/dataclasses/+AUTOSAR/tlc/PerInstanceMemory.html#FcnCheckConstraints">FcnCheckConstraints</a>(<a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(data), record, TLC_FALSE)>
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% error if data is complex
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%&lt;<a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/customstoragelib.html#LibCustomStorageVerifyRecordIsNonComplex">LibCustomStorageVerifyRecordIsNonComplex</a>(data)&gt;
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% error out if data is a matrix
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span>(!<a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/autosarsup.html#SLibAutosarMatrixIOAsArray">SLibAutosarMatrixIOAsArray</a>())
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%&lt;<a href="https://foool.github.io/MATLAB/R2020a/toolbox/rtw/targets/AUTOSAR/AUTOSAR/dataclasses/+AUTOSAR/tlc/CalPrm.html#FcnCustomStorageVerifyRecordIsScalarOrVector">FcnCustomStorageVerifyRecordIsScalarOrVector</a>(data)&gt;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% Mark data type as exported 
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dtypeId = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/dtypelib.html#SLibGetRecordDataTypeId">SLibGetRecordDataTypeId</a>( data )
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%&lt;<a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/autosarsup.html#SLibAutosarMarkDataTypeAsExported">SLibAutosarMarkDataTypeAsExported</a>(dtypeId)&gt;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%&lt;<a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/autosarsup.html#SLibAutosarMarkChildrenDataTypeAsExported">SLibAutosarMarkChildrenDataTypeAsExported</a>(dtypeId)&gt; 
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% Assert that using PerInstanceMemory
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span> <span class="tlc_bifunc">ISFIELD</span>(data, "AutosarPIMDSM")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>    
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%break
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_case">%case</span> "comment"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% General comment that code uses AUTOSAR PIM APIs
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> "/* Uses AUTOSAR Per Instance Memory data : PIM.Signal */"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%break
 <br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;%% ==========================================================================
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%% Handle unrecognized requests
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%%
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_default">%default</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% Unknown access
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_return">%return</span> <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/customstoragelib.html#LibDefaultCustomStorageUnknownClassAccessType">LibDefaultCustomStorageUnknownClassAccessType</a>(record, request)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%break
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_endswitch">%endswitch</span>
 <br>&nbsp; <br><span class="tlc_endfunction">%endfunction</span>
 <br>&nbsp; <br>%% Function: Version ============================================
 <br>%% Abstract:
 <br>%%   The Version function returns the number corresponding to the 
 <br>%%   version used by this custom storage class.  When using this template, 
 <br>%%   return 2.  If this function is not defined, version 1 is assumed.
 <br>%%
 <br>%% Function argurments:
 <br>%%   record
 <br>%%     An entry in the global memory map corresponding to a custom storage
 <br>%%     class. 
 <br>%%
 <br><span class="tlc_function">%function</span> <a id="Version" class="tlc_func">Version</a>(record) void
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> 2
 <br><span class="tlc_endfunction">%endfunction</span>
 <br>&nbsp; <br>&nbsp; <br>&nbsp; <br>&nbsp; <br>%% Function: <a href="https://foool.github.io/MATLAB/R2020a/toolbox/rtw/targets/AUTOSAR/AUTOSAR/dataclasses/+AUTOSAR/tlc/CalPrm.html#FcnCustomStorageVerifyRecordIsScalarOrVector">FcnCustomStorageVerifyRecordIsScalarOrVector</a>(record) ==
 <br>%% Abstract: 
 <br>%%   Report an error if record is not a scalar or vector
 <br>%%
 <br><span class="tlc_function">%function</span> <a id="FcnCustomStorageVerifyRecordIsScalarOrVector" class="tlc_func">FcnCustomStorageVerifyRecordIsScalarOrVector</a>(record) void
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> layout = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/globalmaplib.html#LibGetDataLayout">LibGetDataLayout</a>(record)
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> layout[0] == "col-mat-nd" || layout[0] == "col-mat"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> id = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/customstoragelib.html#LibGetRecordIdentifier">LibGetRecordIdentifier</a>(record)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> errArgs = ["%&lt;id&gt;"]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/utillib.html#SLibReportErrorWithIdAndArgs">SLibReportErrorWithIdAndArgs</a>("RTW:autosar:validateARParameterValue", errArgs)>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span>
 <br>&nbsp; <br><span class="tlc_endfunction">%endfunction</span>
 <br>&nbsp; <br>&nbsp; <br>%% Function: FcnAddAccessInfoForAutosarRunnable ===============
 <br>%% Abstract: 
 <br>%%   Records accessing runnable name - needed for xml export
 <br>%%
 <br><span class="tlc_function">%function</span> <a id="FcnAddAccessInfoForAutosarRunnable" class="tlc_func">FcnAddAccessInfoForAutosarRunnable</a>(record) void
 <br>&nbsp;&nbsp; <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISFIELD</span>(record, "RunnableAccessInfo")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_addtorecord">%addtorecord</span> record RunnableAccessInfo {}
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp; <br>&nbsp;&nbsp;<span class="tlc_with">%with</span> record.RunnableAccessInfo
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> <span class="tlc_bifunc">EXISTS</span>("BlockFcn")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> ::BlockFcn == "Initialize" || ::BlockFcn == "Start" || ::BlockFcn == "ModelInitialize"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% There is only one runnable.
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> tmpInitRunnable = CompiledModel.RTWAutosar.InitRunnables.Runnable[0]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISFIELD</span>(RunnableAccessInfo, tmpInitRunnable.Name)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_addtorecord">%addtorecord</span> RunnableAccessInfo %&lt;tmpInitRunnable.Name&gt; 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/autosarsup.html#SLibAutosarFcnAddRunnableAccessInfo">SLibAutosarFcnAddRunnableAccessInfo</a>(tmpInitRunnable, RunnableAccessInfo, "PIM")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> ::BlockFcn == "Terminate"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% There is only one runnable.
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> TerminateRunnable = CompiledModel.RTWAutosar.TerminateRunnables.Runnable[0]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/autosarsup.html#SLibAutosarFcnAddRunnableAccessInfo">SLibAutosarFcnAddRunnableAccessInfo</a>(TerminateRunnable, RunnableAccessInfo, "PIM")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> ::BlockFcn == "Output" || ::BlockFcn == "OutputUpdate"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> activeSys = CompiledModel.System[::activeSysIdx]
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/autosarsup.html#SLibAutosarFcnAddRunnableAccessInfoViaSystem">SLibAutosarFcnAddRunnableAccessInfoViaSystem</a>(activeSys, RunnableAccessInfo, "PIM")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> ::GlobalGeneratingSubFunctions
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/autosarsup.html#SLibAutosarFcnAddRunnableAccessInfoViaFcnName">SLibAutosarFcnAddRunnableAccessInfoViaFcnName</a>(::BlockFcn, RunnableAccessInfo, "PIM")>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> ::BlockFcn == "GlobalMap"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% Okay
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> ::BlockFcn == "SFunctionOutputs"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% Okay
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span> %% Unknown BlockFcn type
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span> TLC_FALSE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_else">%else</span> %% BlockFcn does not exist
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span> TLC_FALSE
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endwith">%endwith</span>
 <br><span class="tlc_endfunction">%endfunction</span>
 <br>&nbsp; <br>%% Function: FcnCheckConstraints ====================
 <br>%% Abstract: 
 <br>%%     Impose constraints, most check should alreay be done at the begining of 
 <br>%%     code gen.
 <br><span class="tlc_function">%function</span> <a id="FcnCheckConstraints" class="tlc_func">FcnCheckConstraints</a>(name, record, isData) void
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/mw/modelrefutil.html#IsModelReferenceTarget">IsModelReferenceTarget</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> errText = "The AUTOSAR.Signal object '" + name + ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"' can not be referenced from the model '" + CompiledModel.Name + ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"' because that model is being referenced as a sub-model, " + ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"and the object's custom storage class 'PerInstanceMemory' " + ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"is only supported for the top model in a model hierarchy."
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%&lt;<a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/utillib.html#LibReportFatalError">LibReportFatalError</a>(errText)&gt;
 <br>&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> !<a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/utillib.html#SLibAutosarActive">SLibAutosarActive</a>()
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> errText = "The AUTOSAR.Signal object '" + name + ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"' can not be referenced from the model '" + CompiledModel.Name + ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"' because that model is not using an AUTOSAR target"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%&lt;<a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/utillib.html#LibReportFatalError">LibReportFatalError</a>(errText)&gt;
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;%% Verify PerInstanceMemory is only applied for DSM with CSC
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> isData
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISFIELD</span>(record, "IsDataStoreMemory") || !record.IsDataStoreMemory
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> errText = "The AUTOSAR.Signal object '" + name + ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"' is not applied to DataStoreMemorys. AUTOSAR.Signal Object with " + ...
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"custom storage class 'PerInstanceMemory' can only be applied to DataStoreMemory."
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%&lt;<a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/utillib.html#LibReportFatalError">LibReportFatalError</a>(errText)&gt;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span> 
 <br><span class="tlc_endfunction">%endfunction</span>
 <br>&nbsp; <br>%% Function: FcnDefinePIMInitializer ===============================
 <br>%% Abstract:
 <br>%%   generate the code to define a PIM initializer
 <br>%%
 <br><span class="tlc_function">%function</span> <a id="FcnDefinePIMInitializer" class="tlc_func">FcnDefinePIMInitializer</a>(dw) void
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> comma = ""
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> openBrace = ""
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> closeBrace = ""
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> declSize = ""
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> initWidth = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordWidth">LibGetRecordWidth</a>(dw)
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> initWidth > 1
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> openBrace = "{"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> closeBrace = "}"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> declSize = "[%&lt;initWidth&gt;]"
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> valueStr
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> initValues = dw.InitialValue
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> initWidth = <span class="tlc_bifunc">SIZE</span>(initValues,1)
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dtypeIdx = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/dtypelib.html#LibCGTypeToSLType">LibCGTypeToSLType</a>(CGTypeIdx)
 <br>&nbsp;&nbsp;%%
 <br>&nbsp;&nbsp;%% built-in function GENERATE_FORMATTED_VALUE had been extended to support 33+ fixpt types
 <br>&nbsp;&nbsp;<span class="tlc_if">%if</span> !<span class="tlc_bifunc">ISSLDATAREF</span>(initValues) && <span class="tlc_bifunc">ISEQUAL</span>(<span class="tlc_bifunc">TYPE</span>(initValues[0]),"String")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%&lt;openBrace&gt;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%% Handle strings outside of GENERATE_FORMATTED_VALUE:
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%%   o Scalar expansion of initValues is supported
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%%   o Nonfinite initialization is not supported
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = initWidth
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> suffix = (idx == initWidth-1) ? "" : ","
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> initIdx = (initWidth == 1) ? 0 : idx
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%% multiword complex 1+2i is in the format of " {0x1UL, 0x0UL} + {0x2UL, 0x0UL} i"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> initValue = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/paramlib.html#FcnGetNonBuiltInRe">FcnGetNonBuiltInRe</a>(initValues[initIdx])
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assert">%assert</span> !<a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/dtypelib.html#SLibGetRecordIsComplex">SLibGetRecordIsComplex</a>(dw)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%&lt;initValue&gt;%&lt;suffix&gt; /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%&lt;closeBrace&gt;
 <br>&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/dtypelib.html#LibIsEnumDataType">LibIsEnumDataType</a>(dtypeIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%% For enumerated data, write out name of enumerated value
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%&lt;openBrace&gt;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = initWidth
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> suffix = (idx == initWidth-1) ? "" : ","
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<<a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/dtypelib.html#SLibGetEnumTypeCodeGenStringFromValue">SLibGetEnumTypeCodeGenStringFromValue</a>(dtypeIdx, initValues[idx])>%&lt;suffix&gt; /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%&lt;closeBrace&gt;
 <br>&nbsp;&nbsp;<span class="tlc_elseif">%elseif</span> <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/dtypelib.html#LibDataTypeIsBus">LibDataTypeIsBus</a>(dtypeIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%&lt;openBrace&gt;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> idx = initWidth
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> suffix = (idx == initWidth-1) ? "" : ","
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> initStr = "{%&lt;initValues[idx]&gt;}"
 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%&lt;initStr&gt;%&lt;suffix&gt; /
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%&lt;closeBrace&gt;
 <br>&nbsp;&nbsp;<span class="tlc_else">%else</span>
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> tempBuf
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> finiteIndices = <span class="tlc_bifunc">GENERATE_FORMATTED_VALUE</span>(initValues,"")
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> tempBuf
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%&lt;tempBuf&gt;
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_undef">%undef</span> tempBuf
 <br>&nbsp;&nbsp;<span class="tlc_endif">%endif</span>
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> valueStr
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> dt = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordCompositeDataTypeName">LibGetRecordCompositeDataTypeName</a>(dw)
 <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> buffer
 <br>&nbsp;&nbsp;%&lt;dt&gt; %&lt;<a href="https://foool.github.io/MATLAB/R2020a/toolbox/rtw/targets/AUTOSAR/AUTOSAR/dataclasses/+AUTOSAR/tlc/PerInstanceMemory.html#RteInitializer">RteInitializer</a>(dw)&gt;%&lt;declSize&gt; = %&lt;valueStr&gt;;
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> buffer
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> buffer
 <br><span class="tlc_endfunction">%endfunction</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; <br>%% Function: FcnInitializePIM ===============================
 <br>%% Abstract:
 <br>%%   generate the code to initialize a PIM for SIL or PIL
 <br>%%
 <br><span class="tlc_function">%function</span> <a id="FcnInitializePIM" class="tlc_func">FcnInitializePIM</a>(dw) void
 <br>&nbsp;&nbsp;<span class="tlc_openfile">%openfile</span> buffer
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> initValue = dw.InitialValue
 <br>&nbsp;&nbsp;<span class="tlc_assign">%assign</span> width = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/dtypelib.html#LibGetRecordWidth">LibGetRecordWidth</a>(dw)
 <br>&nbsp;&nbsp;<span class="tlc_assert">%assert</span> !<a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/dtypelib.html#SLibGetRecordIsComplex">SLibGetRecordIsComplex</a>(dw)
 <br>&nbsp;&nbsp;<span class="tlc_foreach">%foreach</span> icIdx = width
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> icIdxStr = <a href="https://foool.github.io/MATLAB/R2020a/rtw/c/tlc/lib/utillib.html#SLibGet1DArrayIndexer">SLibGet1DArrayIndexer</a>(width, "", "", icIdx)
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> val = <a href="https://foool.github.io/MATLAB/R2020a/toolbox/rtw/targets/AUTOSAR/AUTOSAR/dataclasses/+AUTOSAR/tlc/PerInstanceMemory.html#RteInitializer">RteInitializer</a>(dw) + icIdxStr
 <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tlc_assign">%assign</span> Rte_data = <a href="https://foool.github.io/MATLAB/R2020a/toolbox/rtw/targets/AUTOSAR/AUTOSAR/dataclasses/+AUTOSAR/tlc/PerInstanceMemory.html#RteData">RteData</a>(dw) + icIdxStr
 <br>&nbsp;&nbsp;&nbsp;&nbsp;%&lt;Rte_data&gt; = %&lt;val&gt;;
 <br>&nbsp;&nbsp;<span class="tlc_endforeach">%endforeach</span>
 <br>&nbsp;&nbsp;<span class="tlc_closefile">%closefile</span> buffer
 <br>&nbsp;&nbsp;<span class="tlc_return">%return</span> buffer
 <br><span class="tlc_endfunction">%endfunction</span>
 <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; <br>%% [EOF] <a href="https://foool.github.io/MATLAB/R2020a/toolbox/rtw/targets/AUTOSAR/AUTOSAR/dataclasses/+AUTOSAR/tlc/PerInstanceMemory.html">PerInstanceMemory.tlc</a>
 <br></body></html>