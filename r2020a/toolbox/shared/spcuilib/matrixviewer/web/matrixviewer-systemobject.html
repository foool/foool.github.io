<!doctype html>
<html>
<head>
<meta charset="utf-8">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="expires" content="-1">
    <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Matrix Viewer</title>
	 <link rel="stylesheet" href="release/matrixviewer/css/main.css"  type="text/css" />
</head>
<body class="tundra">
<div id="root" style="width:100%; height:100%; position:fixed"></div>
    <script type="text/javascript" src="release/matrixviewer/dojoConfig-release-global.js"></script>
    <script type="text/javascript" src="release/dojo/dojo.js"></script>
    <script type="text/javascript">
	    function getQueryVariable(variable) {
        	var query = window.location.search.substring(1);
        	var vars = query.split('&');
        	for (var i = 0; i < vars.length; i++) {
            	var pair = vars[i].split('=');
            	if (decodeURIComponent(pair[0]) == variable) {
                	return decodeURIComponent(pair[1]);
	            }
    	    }
        	return '';
	    }

	</script>
	<script type="text/javascript">
        var app;
        // Require browser compatability check lib
        require(["matrixviewer/browsercheck"], function() {
	 	// Require browser compatability check lib
		require(["mw-browser-utils/BrowserCheck!"], function () {
			 // If the browser compatability check passes, require in the web widget lib
			require(["matrixviewer/matrixviewer"], function() {
             require([
				"matrixviewer/Controller",
				"dojo/dom",
				"dojo/domReady!"
            ], function (MainApp, dom) {

                var clientId = getQueryVariable('ClientID');

                //Get a node from the HTML Doc
                var rootNode = dom.byId("root");
                app          = new MainApp(rootNode, clientId);

                //Start Your Widget
                app.start();
			});
            });
        });
        });
	</script>
</body>
</html>