<!-- Copyright 2017-2019 The MathWorks, Inc. -->

<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="expires" content="-1">
    <!-- App Title -->

    <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <!-- CSS : implied media="all" -->
    <link rel="stylesheet" href="release/arrayplot/css/main.css"  type="text/css" />
    <!--[if IE 9]>
        <link href="/ui/webwidgets/src/css/overrides_ie9.css" rel="stylesheet" type="text/css" />
    <![endif]-->
    
</head>
<body class="tundra">
    
    <div id="arrayPlot"></div>
    <!-- Include dojo release build -->
    <script type="text/javascript" src="release/arrayplot/dojoConfig-release-global.js"></script>
    <script type="text/javascript">
        dojoConfig.setLocale(['en-us', 'ja-jp', 'zh-cn', 'ko-kr']);
    </script>
    <script type="text/javascript" src="release/dojo/dojo.js"></script>
    <script type="text/javascript">

        function getQueryVariable(variable) {
            var query = window.location.search.substring(1);
            var vars = query.split('&');
            for (var i = 0; i < vars.length; i++) {
                var pair = vars[i].split('=');
                if (decodeURIComponent(pair[0]) == variable) {
                    return decodeURIComponent(pair[1]);
                }
            }
            return '';
        }

    </script>
    <script type="text/javascript">
        var app;
        // Require browser compatibility check lib
        require(["arrayplot/browsercheck"], function() {
            require(["mw-browser-utils/BrowserCheck!"], function () {
                // If the browser compatibility check passes, require in the web widget lib
                require(["arrayplot/arrayplot"], function() {
                    require([
                        "arrayplot/Controller", 
                        "dojo/dom",
                        "dojo/domReady!",
                        ], function (ArrayPlotApp, dom) {

                            var clientId = getQueryVariable("ClientID");
                            // var blockHandle = getQueryVariable('Block');

                            //Get a node from the HTML Doc
                            var rootNode = dom.byId("arrayPlot");
                            app          = new ArrayPlotApp(rootNode, clientId);

                             //Start Your Widget
                            app.start();
                    });
                });
            });
        });
    </script>
</body>
</html>
